function aU(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var gl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lU(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Uv={exports:{}},wd={},F={exports:{}},Se={};var Ku=Symbol.for("react.element"),uU=Symbol.for("react.portal"),cU=Symbol.for("react.fragment"),hU=Symbol.for("react.strict_mode"),fU=Symbol.for("react.profiler"),dU=Symbol.for("react.provider"),pU=Symbol.for("react.context"),gU=Symbol.for("react.forward_ref"),mU=Symbol.for("react.suspense"),vU=Symbol.for("react.memo"),yU=Symbol.for("react.lazy"),BE=Symbol.iterator;function _U(t){return t===null||typeof t!="object"?null:(t=BE&&t[BE]||t["@@iterator"],typeof t=="function"?t:null)}var fx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dx=Object.assign,px={};function Na(t,e,n){this.props=t,this.context=e,this.refs=px,this.updater=n||fx}Na.prototype.isReactComponent={};Na.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Na.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function gx(){}gx.prototype=Na.prototype;function Fv(t,e,n){this.props=t,this.context=e,this.refs=px,this.updater=n||fx}var zv=Fv.prototype=new gx;zv.constructor=Fv;dx(zv,Na.prototype);zv.isPureReactComponent=!0;var VE=Array.isArray,mx=Object.prototype.hasOwnProperty,Bv={current:null},vx={key:!0,ref:!0,__self:!0,__source:!0};function yx(t,e,n){var r,i={},s=null,l=null;if(e!=null)for(r in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(s=""+e.key),e)mx.call(e,r)&&!vx.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var h=Array(u),f=0;f<u;f++)h[f]=arguments[f+2];i.children=h}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:Ku,type:t,key:s,ref:l,props:i,_owner:Bv.current}}function wU(t,e){return{$$typeof:Ku,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Vv(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ku}function EU(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var HE=/\/+/g;function Kg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?EU(""+t.key):e.toString(36)}function Qh(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Ku:case uU:l=!0}}if(l)return l=t,i=i(l),t=r===""?"."+Kg(l,0):r,VE(i)?(n="",t!=null&&(n=t.replace(HE,"$&/")+"/"),Qh(i,e,n,"",function(f){return f})):i!=null&&(Vv(i)&&(i=wU(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(HE,"$&/")+"/")+t)),e.push(i)),1;if(l=0,r=r===""?".":r+":",VE(t))for(var u=0;u<t.length;u++){s=t[u];var h=r+Kg(s,u);l+=Qh(s,e,n,h,i)}else if(h=_U(t),typeof h=="function")for(t=h.call(t),u=0;!(s=t.next()).done;)s=s.value,h=r+Kg(s,u++),l+=Qh(s,e,n,h,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function _h(t,e,n){if(t==null)return t;var r=[],i=0;return Qh(t,r,"","",function(s){return e.call(n,s,i++)}),r}function SU(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var on={current:null},Yh={transition:null},TU={ReactCurrentDispatcher:on,ReactCurrentBatchConfig:Yh,ReactCurrentOwner:Bv};Se.Children={map:_h,forEach:function(t,e,n){_h(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return _h(t,function(){e++}),e},toArray:function(t){return _h(t,function(e){return e})||[]},only:function(t){if(!Vv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Se.Component=Na;Se.Fragment=cU;Se.Profiler=fU;Se.PureComponent=Fv;Se.StrictMode=hU;Se.Suspense=mU;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TU;Se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=dx({},t.props),i=t.key,s=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,l=Bv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(h in e)mx.call(e,h)&&!vx.hasOwnProperty(h)&&(r[h]=e[h]===void 0&&u!==void 0?u[h]:e[h])}var h=arguments.length-2;if(h===1)r.children=n;else if(1<h){u=Array(h);for(var f=0;f<h;f++)u[f]=arguments[f+2];r.children=u}return{$$typeof:Ku,type:t.type,key:i,ref:s,props:r,_owner:l}};Se.createContext=function(t){return t={$$typeof:pU,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:dU,_context:t},t.Consumer=t};Se.createElement=yx;Se.createFactory=function(t){var e=yx.bind(null,t);return e.type=t,e};Se.createRef=function(){return{current:null}};Se.forwardRef=function(t){return{$$typeof:gU,render:t}};Se.isValidElement=Vv;Se.lazy=function(t){return{$$typeof:yU,_payload:{_status:-1,_result:t},_init:SU}};Se.memo=function(t,e){return{$$typeof:vU,type:t,compare:e===void 0?null:e}};Se.startTransition=function(t){var e=Yh.transition;Yh.transition={};try{t()}finally{Yh.transition=e}};Se.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Se.useCallback=function(t,e){return on.current.useCallback(t,e)};Se.useContext=function(t){return on.current.useContext(t)};Se.useDebugValue=function(){};Se.useDeferredValue=function(t){return on.current.useDeferredValue(t)};Se.useEffect=function(t,e){return on.current.useEffect(t,e)};Se.useId=function(){return on.current.useId()};Se.useImperativeHandle=function(t,e,n){return on.current.useImperativeHandle(t,e,n)};Se.useInsertionEffect=function(t,e){return on.current.useInsertionEffect(t,e)};Se.useLayoutEffect=function(t,e){return on.current.useLayoutEffect(t,e)};Se.useMemo=function(t,e){return on.current.useMemo(t,e)};Se.useReducer=function(t,e,n){return on.current.useReducer(t,e,n)};Se.useRef=function(t){return on.current.useRef(t)};Se.useState=function(t){return on.current.useState(t)};Se.useSyncExternalStore=function(t,e,n){return on.current.useSyncExternalStore(t,e,n)};Se.useTransition=function(){return on.current.useTransition()};Se.version="18.2.0";(function(t){t.exports=Se})(F);const Fi=lU(F.exports),Jm=aU({__proto__:null,default:Fi},[F.exports]);var IU=F.exports,xU=Symbol.for("react.element"),kU=Symbol.for("react.fragment"),CU=Object.prototype.hasOwnProperty,AU=IU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,RU={key:!0,ref:!0,__self:!0,__source:!0};function _x(t,e,n){var r,i={},s=null,l=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(l=e.ref);for(r in e)CU.call(e,r)&&!RU.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:xU,type:t,key:s,ref:l,props:i,_owner:AU.current}}wd.Fragment=kU;wd.jsx=_x;wd.jsxs=_x;(function(t){t.exports=wd})(Uv);const Z=Uv.exports.jsx,Me=Uv.exports.jsxs;var e0={},wx={exports:{}},Ln={},Ex={exports:{}},Sx={};(function(t){function e(G,de){var pe=G.length;G.push(de);e:for(;0<pe;){var Ce=pe-1>>>1,ot=G[Ce];if(0<i(ot,de))G[Ce]=de,G[pe]=ot,pe=Ce;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var de=G[0],pe=G.pop();if(pe!==de){G[0]=pe;e:for(var Ce=0,ot=G.length,go=ot>>>1;Ce<go;){var $r=2*(Ce+1)-1,mr=G[$r],Pn=$r+1,mo=G[Pn];if(0>i(mr,pe))Pn<ot&&0>i(mo,mr)?(G[Ce]=mo,G[Pn]=pe,Ce=Pn):(G[Ce]=mr,G[$r]=pe,Ce=$r);else if(Pn<ot&&0>i(mo,pe))G[Ce]=mo,G[Pn]=pe,Ce=Pn;else break e}}return de}function i(G,de){var pe=G.sortIndex-de.sortIndex;return pe!==0?pe:G.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var h=[],f=[],p=1,m=null,v=3,w=!1,x=!1,A=!1,b=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(G){for(var de=n(f);de!==null;){if(de.callback===null)r(f);else if(de.startTime<=G)r(f),de.sortIndex=de.expirationTime,e(h,de);else break;de=n(f)}}function C(G){if(A=!1,I(G),!x)if(n(h)!==null)x=!0,qa(P);else{var de=n(f);de!==null&&Jn(C,de.startTime-G)}}function P(G,de){x=!1,A&&(A=!1,S(W),W=-1),w=!0;var pe=v;try{for(I(de),m=n(h);m!==null&&(!(m.expirationTime>de)||G&&!ae());){var Ce=m.callback;if(typeof Ce=="function"){m.callback=null,v=m.priorityLevel;var ot=Ce(m.expirationTime<=de);de=t.unstable_now(),typeof ot=="function"?m.callback=ot:m===n(h)&&r(h),I(de)}else r(h);m=n(h)}if(m!==null)var go=!0;else{var $r=n(f);$r!==null&&Jn(C,$r.startTime-de),go=!1}return go}finally{m=null,v=pe,w=!1}}var V=!1,L=null,W=-1,X=5,j=-1;function ae(){return!(t.unstable_now()-j<X)}function Yt(){if(L!==null){var G=t.unstable_now();j=G;var de=!0;try{de=L(!0,G)}finally{de?pr():(V=!1,L=null)}}else V=!1}var pr;if(typeof E=="function")pr=function(){E(Yt)};else if(typeof MessageChannel<"u"){var gr=new MessageChannel,yi=gr.port2;gr.port1.onmessage=Yt,pr=function(){yi.postMessage(null)}}else pr=function(){b(Yt,0)};function qa(G){L=G,V||(V=!0,pr())}function Jn(G,de){W=b(function(){G(t.unstable_now())},de)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){x||w||(x=!0,qa(P))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(G){switch(v){case 1:case 2:case 3:var de=3;break;default:de=v}var pe=v;v=de;try{return G()}finally{v=pe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,de){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var pe=v;v=G;try{return de()}finally{v=pe}},t.unstable_scheduleCallback=function(G,de,pe){var Ce=t.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Ce+pe:Ce):pe=Ce,G){case 1:var ot=-1;break;case 2:ot=250;break;case 5:ot=1073741823;break;case 4:ot=1e4;break;default:ot=5e3}return ot=pe+ot,G={id:p++,callback:de,priorityLevel:G,startTime:pe,expirationTime:ot,sortIndex:-1},pe>Ce?(G.sortIndex=pe,e(f,G),n(h)===null&&G===n(f)&&(A?(S(W),W=-1):A=!0,Jn(C,pe-Ce))):(G.sortIndex=ot,e(h,G),x||w||(x=!0,qa(P))),G},t.unstable_shouldYield=ae,t.unstable_wrapCallback=function(G){var de=v;return function(){var pe=v;v=de;try{return G.apply(this,arguments)}finally{v=pe}}}})(Sx);(function(t){t.exports=Sx})(Ex);var Tx=F.exports,Nn=Ex.exports;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ix=new Set,eu={};function so(t,e){fa(t,e),fa(t+"Capture",e)}function fa(t,e){for(eu[t]=e,t=0;t<e.length;t++)Ix.add(e[t])}var oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),t0=Object.prototype.hasOwnProperty,DU=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,WE={},jE={};function NU(t){return t0.call(jE,t)?!0:t0.call(WE,t)?!1:DU.test(t)?jE[t]=!0:(WE[t]=!0,!1)}function bU(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function LU(t,e,n,r){if(e===null||typeof e>"u"||bU(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function an(t,e,n,r,i,s,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=l}var Pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Pt[t]=new an(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Pt[e]=new an(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Pt[t]=new an(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Pt[t]=new an(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Pt[t]=new an(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Pt[t]=new an(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Pt[t]=new an(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Pt[t]=new an(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Pt[t]=new an(t,5,!1,t.toLowerCase(),null,!1,!1)});var Hv=/[\-:]([a-z])/g;function Wv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Hv,Wv);Pt[e]=new an(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Hv,Wv);Pt[e]=new an(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Hv,Wv);Pt[e]=new an(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Pt[t]=new an(t,1,!1,t.toLowerCase(),null,!1,!1)});Pt.xlinkHref=new an("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Pt[t]=new an(t,1,!1,t.toLowerCase(),null,!0,!0)});function jv(t,e,n,r){var i=Pt.hasOwnProperty(e)?Pt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(LU(e,n,i,r)&&(n=null),r||i===null?NU(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var mi=Tx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wh=Symbol.for("react.element"),$o=Symbol.for("react.portal"),Uo=Symbol.for("react.fragment"),qv=Symbol.for("react.strict_mode"),n0=Symbol.for("react.profiler"),xx=Symbol.for("react.provider"),kx=Symbol.for("react.context"),Kv=Symbol.for("react.forward_ref"),r0=Symbol.for("react.suspense"),i0=Symbol.for("react.suspense_list"),Gv=Symbol.for("react.memo"),Di=Symbol.for("react.lazy"),Cx=Symbol.for("react.offscreen"),qE=Symbol.iterator;function ml(t){return t===null||typeof t!="object"?null:(t=qE&&t[qE]||t["@@iterator"],typeof t=="function"?t:null)}var Je=Object.assign,Gg;function kl(t){if(Gg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Gg=e&&e[1]||""}return`
`+Gg+t}var Qg=!1;function Yg(t,e){if(!t||Qg)return"";Qg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var r=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){r=f}t.call(e.prototype)}else{try{throw Error()}catch(f){r=f}t()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),s=r.stack.split(`
`),l=i.length-1,u=s.length-1;1<=l&&0<=u&&i[l]!==s[u];)u--;for(;1<=l&&0<=u;l--,u--)if(i[l]!==s[u]){if(l!==1||u!==1)do if(l--,u--,0>u||i[l]!==s[u]){var h=`
`+i[l].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=l&&0<=u);break}}}finally{Qg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?kl(t):""}function OU(t){switch(t.tag){case 5:return kl(t.type);case 16:return kl("Lazy");case 13:return kl("Suspense");case 19:return kl("SuspenseList");case 0:case 2:case 15:return t=Yg(t.type,!1),t;case 11:return t=Yg(t.type.render,!1),t;case 1:return t=Yg(t.type,!0),t;default:return""}}function s0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Uo:return"Fragment";case $o:return"Portal";case n0:return"Profiler";case qv:return"StrictMode";case r0:return"Suspense";case i0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case kx:return(t.displayName||"Context")+".Consumer";case xx:return(t._context.displayName||"Context")+".Provider";case Kv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Gv:return e=t.displayName||null,e!==null?e:s0(t.type)||"Memo";case Di:e=t._payload,t=t._init;try{return s0(t(e))}catch{}}return null}function PU(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return s0(e);case 8:return e===qv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function os(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ax(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function MU(t){var e=Ax(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(l){r=""+l,s.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Eh(t){t._valueTracker||(t._valueTracker=MU(t))}function Rx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Ax(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function yf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function o0(t,e){var n=e.checked;return Je({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function KE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=os(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Dx(t,e){e=e.checked,e!=null&&jv(t,"checked",e,!1)}function a0(t,e){Dx(t,e);var n=os(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?l0(t,e.type,n):e.hasOwnProperty("defaultValue")&&l0(t,e.type,os(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function GE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function l0(t,e,n){(e!=="number"||yf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Cl=Array.isArray;function Jo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+os(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function u0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Je({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function QE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(Cl(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:os(n)}}function Nx(t,e){var n=os(e.value),r=os(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function YE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function bx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function c0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?bx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Sh,Lx=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Sh=Sh||document.createElement("div"),Sh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Sh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function tu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Pl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$U=["Webkit","ms","Moz","O"];Object.keys(Pl).forEach(function(t){$U.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Pl[e]=Pl[t]})});function Ox(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Pl.hasOwnProperty(t)&&Pl[t]?(""+e).trim():e+"px"}function Px(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Ox(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var UU=Je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function h0(t,e){if(e){if(UU[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function f0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var d0=null;function Qv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var p0=null,ea=null,ta=null;function XE(t){if(t=Yu(t)){if(typeof p0!="function")throw Error(B(280));var e=t.stateNode;e&&(e=xd(e),p0(t.stateNode,t.type,e))}}function Mx(t){ea?ta?ta.push(t):ta=[t]:ea=t}function $x(){if(ea){var t=ea,e=ta;if(ta=ea=null,XE(t),e)for(t=0;t<e.length;t++)XE(e[t])}}function Ux(t,e){return t(e)}function Fx(){}var Xg=!1;function zx(t,e,n){if(Xg)return t(e,n);Xg=!0;try{return Ux(t,e,n)}finally{Xg=!1,(ea!==null||ta!==null)&&(Fx(),$x())}}function nu(t,e){var n=t.stateNode;if(n===null)return null;var r=xd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var g0=!1;if(oi)try{var vl={};Object.defineProperty(vl,"passive",{get:function(){g0=!0}}),window.addEventListener("test",vl,vl),window.removeEventListener("test",vl,vl)}catch{g0=!1}function FU(t,e,n,r,i,s,l,u,h){var f=Array.prototype.slice.call(arguments,3);try{e.apply(n,f)}catch(p){this.onError(p)}}var Ml=!1,_f=null,wf=!1,m0=null,zU={onError:function(t){Ml=!0,_f=t}};function BU(t,e,n,r,i,s,l,u,h){Ml=!1,_f=null,FU.apply(zU,arguments)}function VU(t,e,n,r,i,s,l,u,h){if(BU.apply(this,arguments),Ml){if(Ml){var f=_f;Ml=!1,_f=null}else throw Error(B(198));wf||(wf=!0,m0=f)}}function oo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Bx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ZE(t){if(oo(t)!==t)throw Error(B(188))}function HU(t){var e=t.alternate;if(!e){if(e=oo(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return ZE(i),t;if(s===r)return ZE(i),e;s=s.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=s;else{for(var l=!1,u=i.child;u;){if(u===n){l=!0,n=i,r=s;break}if(u===r){l=!0,r=i,n=s;break}u=u.sibling}if(!l){for(u=s.child;u;){if(u===n){l=!0,n=s,r=i;break}if(u===r){l=!0,r=s,n=i;break}u=u.sibling}if(!l)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function Vx(t){return t=HU(t),t!==null?Hx(t):null}function Hx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Hx(t);if(e!==null)return e;t=t.sibling}return null}var Wx=Nn.unstable_scheduleCallback,JE=Nn.unstable_cancelCallback,WU=Nn.unstable_shouldYield,jU=Nn.unstable_requestPaint,st=Nn.unstable_now,qU=Nn.unstable_getCurrentPriorityLevel,Yv=Nn.unstable_ImmediatePriority,jx=Nn.unstable_UserBlockingPriority,Ef=Nn.unstable_NormalPriority,KU=Nn.unstable_LowPriority,qx=Nn.unstable_IdlePriority,Ed=null,kr=null;function GU(t){if(kr&&typeof kr.onCommitFiberRoot=="function")try{kr.onCommitFiberRoot(Ed,t,void 0,(t.current.flags&128)===128)}catch{}}var cr=Math.clz32?Math.clz32:XU,QU=Math.log,YU=Math.LN2;function XU(t){return t>>>=0,t===0?32:31-(QU(t)/YU|0)|0}var Th=64,Ih=4194304;function Al(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Sf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,l=n&268435455;if(l!==0){var u=l&~i;u!==0?r=Al(u):(s&=l,s!==0&&(r=Al(s)))}else l=n&~i,l!==0?r=Al(l):s!==0&&(r=Al(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-cr(e),i=1<<n,r|=t[n],e&=~i;return r}function ZU(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function JU(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var l=31-cr(s),u=1<<l,h=i[l];h===-1?(!(u&n)||u&r)&&(i[l]=ZU(u,e)):h<=e&&(t.expiredLanes|=u),s&=~u}}function v0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Kx(){var t=Th;return Th<<=1,!(Th&4194240)&&(Th=64),t}function Zg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Gu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-cr(e),t[e]=n}function eF(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-cr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Xv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-cr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Pe=0;function Gx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Qx,Zv,Yx,Xx,Zx,y0=!1,xh=[],Wi=null,ji=null,qi=null,ru=new Map,iu=new Map,bi=[],tF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function eS(t,e){switch(t){case"focusin":case"focusout":Wi=null;break;case"dragenter":case"dragleave":ji=null;break;case"mouseover":case"mouseout":qi=null;break;case"pointerover":case"pointerout":ru.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":iu.delete(e.pointerId)}}function yl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Yu(e),e!==null&&Zv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function nF(t,e,n,r,i){switch(e){case"focusin":return Wi=yl(Wi,t,e,n,r,i),!0;case"dragenter":return ji=yl(ji,t,e,n,r,i),!0;case"mouseover":return qi=yl(qi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ru.set(s,yl(ru.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,iu.set(s,yl(iu.get(s)||null,t,e,n,r,i)),!0}return!1}function Jx(t){var e=Rs(t.target);if(e!==null){var n=oo(e);if(n!==null){if(e=n.tag,e===13){if(e=Bx(n),e!==null){t.blockedOn=e,Zx(t.priority,function(){Yx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=_0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);d0=r,n.target.dispatchEvent(r),d0=null}else return e=Yu(n),e!==null&&Zv(e),t.blockedOn=n,!1;e.shift()}return!0}function tS(t,e,n){Xh(t)&&n.delete(e)}function rF(){y0=!1,Wi!==null&&Xh(Wi)&&(Wi=null),ji!==null&&Xh(ji)&&(ji=null),qi!==null&&Xh(qi)&&(qi=null),ru.forEach(tS),iu.forEach(tS)}function _l(t,e){t.blockedOn===e&&(t.blockedOn=null,y0||(y0=!0,Nn.unstable_scheduleCallback(Nn.unstable_NormalPriority,rF)))}function su(t){function e(i){return _l(i,t)}if(0<xh.length){_l(xh[0],t);for(var n=1;n<xh.length;n++){var r=xh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Wi!==null&&_l(Wi,t),ji!==null&&_l(ji,t),qi!==null&&_l(qi,t),ru.forEach(e),iu.forEach(e),n=0;n<bi.length;n++)r=bi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<bi.length&&(n=bi[0],n.blockedOn===null);)Jx(n),n.blockedOn===null&&bi.shift()}var na=mi.ReactCurrentBatchConfig,Tf=!0;function iF(t,e,n,r){var i=Pe,s=na.transition;na.transition=null;try{Pe=1,Jv(t,e,n,r)}finally{Pe=i,na.transition=s}}function sF(t,e,n,r){var i=Pe,s=na.transition;na.transition=null;try{Pe=4,Jv(t,e,n,r)}finally{Pe=i,na.transition=s}}function Jv(t,e,n,r){if(Tf){var i=_0(t,e,n,r);if(i===null)lm(t,e,r,If,n),eS(t,r);else if(nF(i,t,e,n,r))r.stopPropagation();else if(eS(t,r),e&4&&-1<tF.indexOf(t)){for(;i!==null;){var s=Yu(i);if(s!==null&&Qx(s),s=_0(t,e,n,r),s===null&&lm(t,e,r,If,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else lm(t,e,r,null,n)}}var If=null;function _0(t,e,n,r){if(If=null,t=Qv(r),t=Rs(t),t!==null)if(e=oo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Bx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return If=t,null}function ek(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qU()){case Yv:return 1;case jx:return 4;case Ef:case KU:return 16;case qx:return 536870912;default:return 16}default:return 16}}var zi=null,ey=null,Zh=null;function tk(){if(Zh)return Zh;var t,e=ey,n=e.length,r,i="value"in zi?zi.value:zi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var l=n-t;for(r=1;r<=l&&e[n-r]===i[s-r];r++);return Zh=i.slice(t,1<r?1-r:void 0)}function Jh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function kh(){return!0}function nS(){return!1}function On(t){function e(n,r,i,s,l){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=l,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?kh:nS,this.isPropagationStopped=nS,this}return Je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=kh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=kh)},persist:function(){},isPersistent:kh}),e}var ba={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ty=On(ba),Qu=Je({},ba,{view:0,detail:0}),oF=On(Qu),Jg,em,wl,Sd=Je({},Qu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ny,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wl&&(wl&&t.type==="mousemove"?(Jg=t.screenX-wl.screenX,em=t.screenY-wl.screenY):em=Jg=0,wl=t),Jg)},movementY:function(t){return"movementY"in t?t.movementY:em}}),rS=On(Sd),aF=Je({},Sd,{dataTransfer:0}),lF=On(aF),uF=Je({},Qu,{relatedTarget:0}),tm=On(uF),cF=Je({},ba,{animationName:0,elapsedTime:0,pseudoElement:0}),hF=On(cF),fF=Je({},ba,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),dF=On(fF),pF=Je({},ba,{data:0}),iS=On(pF),gF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yF(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=vF[t])?!!e[t]:!1}function ny(){return yF}var _F=Je({},Qu,{key:function(t){if(t.key){var e=gF[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Jh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?mF[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ny,charCode:function(t){return t.type==="keypress"?Jh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Jh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wF=On(_F),EF=Je({},Sd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sS=On(EF),SF=Je({},Qu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ny}),TF=On(SF),IF=Je({},ba,{propertyName:0,elapsedTime:0,pseudoElement:0}),xF=On(IF),kF=Je({},Sd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),CF=On(kF),AF=[9,13,27,32],ry=oi&&"CompositionEvent"in window,$l=null;oi&&"documentMode"in document&&($l=document.documentMode);var RF=oi&&"TextEvent"in window&&!$l,nk=oi&&(!ry||$l&&8<$l&&11>=$l),oS=String.fromCharCode(32),aS=!1;function rk(t,e){switch(t){case"keyup":return AF.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ik(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fo=!1;function DF(t,e){switch(t){case"compositionend":return ik(e);case"keypress":return e.which!==32?null:(aS=!0,oS);case"textInput":return t=e.data,t===oS&&aS?null:t;default:return null}}function NF(t,e){if(Fo)return t==="compositionend"||!ry&&rk(t,e)?(t=tk(),Zh=ey=zi=null,Fo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return nk&&e.locale!=="ko"?null:e.data;default:return null}}var bF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!bF[t.type]:e==="textarea"}function sk(t,e,n,r){Mx(r),e=xf(e,"onChange"),0<e.length&&(n=new ty("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ul=null,ou=null;function LF(t){mk(t,0)}function Td(t){var e=Vo(t);if(Rx(e))return t}function OF(t,e){if(t==="change")return e}var ok=!1;if(oi){var nm;if(oi){var rm="oninput"in document;if(!rm){var uS=document.createElement("div");uS.setAttribute("oninput","return;"),rm=typeof uS.oninput=="function"}nm=rm}else nm=!1;ok=nm&&(!document.documentMode||9<document.documentMode)}function cS(){Ul&&(Ul.detachEvent("onpropertychange",ak),ou=Ul=null)}function ak(t){if(t.propertyName==="value"&&Td(ou)){var e=[];sk(e,ou,t,Qv(t)),zx(LF,e)}}function PF(t,e,n){t==="focusin"?(cS(),Ul=e,ou=n,Ul.attachEvent("onpropertychange",ak)):t==="focusout"&&cS()}function MF(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Td(ou)}function $F(t,e){if(t==="click")return Td(e)}function UF(t,e){if(t==="input"||t==="change")return Td(e)}function FF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fr=typeof Object.is=="function"?Object.is:FF;function au(t,e){if(fr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!t0.call(e,i)||!fr(t[i],e[i]))return!1}return!0}function hS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fS(t,e){var n=hS(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=hS(n)}}function lk(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?lk(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function uk(){for(var t=window,e=yf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=yf(t.document)}return e}function iy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function zF(t){var e=uk(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&lk(n.ownerDocument.documentElement,n)){if(r!==null&&iy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=fS(n,s);var l=fS(n,r);i&&l&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var BF=oi&&"documentMode"in document&&11>=document.documentMode,zo=null,w0=null,Fl=null,E0=!1;function dS(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;E0||zo==null||zo!==yf(r)||(r=zo,"selectionStart"in r&&iy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Fl&&au(Fl,r)||(Fl=r,r=xf(w0,"onSelect"),0<r.length&&(e=new ty("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=zo)))}function Ch(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Bo={animationend:Ch("Animation","AnimationEnd"),animationiteration:Ch("Animation","AnimationIteration"),animationstart:Ch("Animation","AnimationStart"),transitionend:Ch("Transition","TransitionEnd")},im={},ck={};oi&&(ck=document.createElement("div").style,"AnimationEvent"in window||(delete Bo.animationend.animation,delete Bo.animationiteration.animation,delete Bo.animationstart.animation),"TransitionEvent"in window||delete Bo.transitionend.transition);function Id(t){if(im[t])return im[t];if(!Bo[t])return t;var e=Bo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ck)return im[t]=e[n];return t}var hk=Id("animationend"),fk=Id("animationiteration"),dk=Id("animationstart"),pk=Id("transitionend"),gk=new Map,pS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hs(t,e){gk.set(t,e),so(e,[t])}for(var sm=0;sm<pS.length;sm++){var om=pS[sm],VF=om.toLowerCase(),HF=om[0].toUpperCase()+om.slice(1);hs(VF,"on"+HF)}hs(hk,"onAnimationEnd");hs(fk,"onAnimationIteration");hs(dk,"onAnimationStart");hs("dblclick","onDoubleClick");hs("focusin","onFocus");hs("focusout","onBlur");hs(pk,"onTransitionEnd");fa("onMouseEnter",["mouseout","mouseover"]);fa("onMouseLeave",["mouseout","mouseover"]);fa("onPointerEnter",["pointerout","pointerover"]);fa("onPointerLeave",["pointerout","pointerover"]);so("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));so("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));so("onBeforeInput",["compositionend","keypress","textInput","paste"]);so("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));so("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));so("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WF=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rl));function gS(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,VU(r,e,void 0,t),t.currentTarget=null}function mk(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var l=r.length-1;0<=l;l--){var u=r[l],h=u.instance,f=u.currentTarget;if(u=u.listener,h!==s&&i.isPropagationStopped())break e;gS(i,u,f),s=h}else for(l=0;l<r.length;l++){if(u=r[l],h=u.instance,f=u.currentTarget,u=u.listener,h!==s&&i.isPropagationStopped())break e;gS(i,u,f),s=h}}}if(wf)throw t=m0,wf=!1,m0=null,t}function Ve(t,e){var n=e[k0];n===void 0&&(n=e[k0]=new Set);var r=t+"__bubble";n.has(r)||(vk(e,t,2,!1),n.add(r))}function am(t,e,n){var r=0;e&&(r|=4),vk(n,t,r,e)}var Ah="_reactListening"+Math.random().toString(36).slice(2);function lu(t){if(!t[Ah]){t[Ah]=!0,Ix.forEach(function(n){n!=="selectionchange"&&(WF.has(n)||am(n,!1,t),am(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ah]||(e[Ah]=!0,am("selectionchange",!1,e))}}function vk(t,e,n,r){switch(ek(e)){case 1:var i=iF;break;case 4:i=sF;break;default:i=Jv}n=i.bind(null,e,n,t),i=void 0,!g0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function lm(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(l===4)for(l=r.return;l!==null;){var h=l.tag;if((h===3||h===4)&&(h=l.stateNode.containerInfo,h===i||h.nodeType===8&&h.parentNode===i))return;l=l.return}for(;u!==null;){if(l=Rs(u),l===null)return;if(h=l.tag,h===5||h===6){r=s=l;continue e}u=u.parentNode}}r=r.return}zx(function(){var f=s,p=Qv(n),m=[];e:{var v=gk.get(t);if(v!==void 0){var w=ty,x=t;switch(t){case"keypress":if(Jh(n)===0)break e;case"keydown":case"keyup":w=wF;break;case"focusin":x="focus",w=tm;break;case"focusout":x="blur",w=tm;break;case"beforeblur":case"afterblur":w=tm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=rS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=lF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=TF;break;case hk:case fk:case dk:w=hF;break;case pk:w=xF;break;case"scroll":w=oF;break;case"wheel":w=CF;break;case"copy":case"cut":case"paste":w=dF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=sS}var A=(e&4)!==0,b=!A&&t==="scroll",S=A?v!==null?v+"Capture":null:v;A=[];for(var E=f,I;E!==null;){I=E;var C=I.stateNode;if(I.tag===5&&C!==null&&(I=C,S!==null&&(C=nu(E,S),C!=null&&A.push(uu(E,C,I)))),b)break;E=E.return}0<A.length&&(v=new w(v,x,null,n,p),m.push({event:v,listeners:A}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",v&&n!==d0&&(x=n.relatedTarget||n.fromElement)&&(Rs(x)||x[ai]))break e;if((w||v)&&(v=p.window===p?p:(v=p.ownerDocument)?v.defaultView||v.parentWindow:window,w?(x=n.relatedTarget||n.toElement,w=f,x=x?Rs(x):null,x!==null&&(b=oo(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(w=null,x=f),w!==x)){if(A=rS,C="onMouseLeave",S="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(A=sS,C="onPointerLeave",S="onPointerEnter",E="pointer"),b=w==null?v:Vo(w),I=x==null?v:Vo(x),v=new A(C,E+"leave",w,n,p),v.target=b,v.relatedTarget=I,C=null,Rs(p)===f&&(A=new A(S,E+"enter",x,n,p),A.target=I,A.relatedTarget=b,C=A),b=C,w&&x)t:{for(A=w,S=x,E=0,I=A;I;I=bo(I))E++;for(I=0,C=S;C;C=bo(C))I++;for(;0<E-I;)A=bo(A),E--;for(;0<I-E;)S=bo(S),I--;for(;E--;){if(A===S||S!==null&&A===S.alternate)break t;A=bo(A),S=bo(S)}A=null}else A=null;w!==null&&mS(m,v,w,A,!1),x!==null&&b!==null&&mS(m,b,x,A,!0)}}e:{if(v=f?Vo(f):window,w=v.nodeName&&v.nodeName.toLowerCase(),w==="select"||w==="input"&&v.type==="file")var P=OF;else if(lS(v))if(ok)P=UF;else{P=MF;var V=PF}else(w=v.nodeName)&&w.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(P=$F);if(P&&(P=P(t,f))){sk(m,P,n,p);break e}V&&V(t,v,f),t==="focusout"&&(V=v._wrapperState)&&V.controlled&&v.type==="number"&&l0(v,"number",v.value)}switch(V=f?Vo(f):window,t){case"focusin":(lS(V)||V.contentEditable==="true")&&(zo=V,w0=f,Fl=null);break;case"focusout":Fl=w0=zo=null;break;case"mousedown":E0=!0;break;case"contextmenu":case"mouseup":case"dragend":E0=!1,dS(m,n,p);break;case"selectionchange":if(BF)break;case"keydown":case"keyup":dS(m,n,p)}var L;if(ry)e:{switch(t){case"compositionstart":var W="onCompositionStart";break e;case"compositionend":W="onCompositionEnd";break e;case"compositionupdate":W="onCompositionUpdate";break e}W=void 0}else Fo?rk(t,n)&&(W="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(W="onCompositionStart");W&&(nk&&n.locale!=="ko"&&(Fo||W!=="onCompositionStart"?W==="onCompositionEnd"&&Fo&&(L=tk()):(zi=p,ey="value"in zi?zi.value:zi.textContent,Fo=!0)),V=xf(f,W),0<V.length&&(W=new iS(W,t,null,n,p),m.push({event:W,listeners:V}),L?W.data=L:(L=ik(n),L!==null&&(W.data=L)))),(L=RF?DF(t,n):NF(t,n))&&(f=xf(f,"onBeforeInput"),0<f.length&&(p=new iS("onBeforeInput","beforeinput",null,n,p),m.push({event:p,listeners:f}),p.data=L))}mk(m,e)})}function uu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function xf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=nu(t,n),s!=null&&r.unshift(uu(t,s,i)),s=nu(t,e),s!=null&&r.push(uu(t,s,i))),t=t.return}return r}function bo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function mS(t,e,n,r,i){for(var s=e._reactName,l=[];n!==null&&n!==r;){var u=n,h=u.alternate,f=u.stateNode;if(h!==null&&h===r)break;u.tag===5&&f!==null&&(u=f,i?(h=nu(n,s),h!=null&&l.unshift(uu(n,h,u))):i||(h=nu(n,s),h!=null&&l.push(uu(n,h,u)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var jF=/\r\n?/g,qF=/\u0000|\uFFFD/g;function vS(t){return(typeof t=="string"?t:""+t).replace(jF,`
`).replace(qF,"")}function Rh(t,e,n){if(e=vS(e),vS(t)!==e&&n)throw Error(B(425))}function kf(){}var S0=null,T0=null;function I0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var x0=typeof setTimeout=="function"?setTimeout:void 0,KF=typeof clearTimeout=="function"?clearTimeout:void 0,yS=typeof Promise=="function"?Promise:void 0,GF=typeof queueMicrotask=="function"?queueMicrotask:typeof yS<"u"?function(t){return yS.resolve(null).then(t).catch(QF)}:x0;function QF(t){setTimeout(function(){throw t})}function um(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),su(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);su(e)}function Ki(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function _S(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var La=Math.random().toString(36).slice(2),Tr="__reactFiber$"+La,cu="__reactProps$"+La,ai="__reactContainer$"+La,k0="__reactEvents$"+La,YF="__reactListeners$"+La,XF="__reactHandles$"+La;function Rs(t){var e=t[Tr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ai]||n[Tr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=_S(t);t!==null;){if(n=t[Tr])return n;t=_S(t)}return e}t=n,n=t.parentNode}return null}function Yu(t){return t=t[Tr]||t[ai],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Vo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function xd(t){return t[cu]||null}var C0=[],Ho=-1;function fs(t){return{current:t}}function He(t){0>Ho||(t.current=C0[Ho],C0[Ho]=null,Ho--)}function ze(t,e){Ho++,C0[Ho]=t.current,t.current=e}var as={},Kt=fs(as),gn=fs(!1),js=as;function da(t,e){var n=t.type.contextTypes;if(!n)return as;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function mn(t){return t=t.childContextTypes,t!=null}function Cf(){He(gn),He(Kt)}function wS(t,e,n){if(Kt.current!==as)throw Error(B(168));ze(Kt,e),ze(gn,n)}function yk(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(B(108,PU(t)||"Unknown",i));return Je({},n,r)}function Af(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||as,js=Kt.current,ze(Kt,t),ze(gn,gn.current),!0}function ES(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=yk(t,e,js),r.__reactInternalMemoizedMergedChildContext=t,He(gn),He(Kt),ze(Kt,t)):He(gn),ze(gn,n)}var Yr=null,kd=!1,cm=!1;function _k(t){Yr===null?Yr=[t]:Yr.push(t)}function ZF(t){kd=!0,_k(t)}function ds(){if(!cm&&Yr!==null){cm=!0;var t=0,e=Pe;try{var n=Yr;for(Pe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Yr=null,kd=!1}catch(i){throw Yr!==null&&(Yr=Yr.slice(t+1)),Wx(Yv,ds),i}finally{Pe=e,cm=!1}}return null}var Wo=[],jo=0,Rf=null,Df=0,Wn=[],jn=0,qs=null,ei=1,ti="";function ks(t,e){Wo[jo++]=Df,Wo[jo++]=Rf,Rf=t,Df=e}function wk(t,e,n){Wn[jn++]=ei,Wn[jn++]=ti,Wn[jn++]=qs,qs=t;var r=ei;t=ti;var i=32-cr(r)-1;r&=~(1<<i),n+=1;var s=32-cr(e)+i;if(30<s){var l=i-i%5;s=(r&(1<<l)-1).toString(32),r>>=l,i-=l,ei=1<<32-cr(e)+i|n<<i|r,ti=s+t}else ei=1<<s|n<<i|r,ti=t}function sy(t){t.return!==null&&(ks(t,1),wk(t,1,0))}function oy(t){for(;t===Rf;)Rf=Wo[--jo],Wo[jo]=null,Df=Wo[--jo],Wo[jo]=null;for(;t===qs;)qs=Wn[--jn],Wn[jn]=null,ti=Wn[--jn],Wn[jn]=null,ei=Wn[--jn],Wn[jn]=null}var Rn=null,Cn=null,Ke=!1,ur=null;function Ek(t,e){var n=Kn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function SS(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Rn=t,Cn=Ki(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Rn=t,Cn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=qs!==null?{id:ei,overflow:ti}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Kn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Rn=t,Cn=null,!0):!1;default:return!1}}function A0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function R0(t){if(Ke){var e=Cn;if(e){var n=e;if(!SS(t,e)){if(A0(t))throw Error(B(418));e=Ki(n.nextSibling);var r=Rn;e&&SS(t,e)?Ek(r,n):(t.flags=t.flags&-4097|2,Ke=!1,Rn=t)}}else{if(A0(t))throw Error(B(418));t.flags=t.flags&-4097|2,Ke=!1,Rn=t}}}function TS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Rn=t}function Dh(t){if(t!==Rn)return!1;if(!Ke)return TS(t),Ke=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!I0(t.type,t.memoizedProps)),e&&(e=Cn)){if(A0(t))throw Sk(),Error(B(418));for(;e;)Ek(t,e),e=Ki(e.nextSibling)}if(TS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Cn=Ki(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Cn=null}}else Cn=Rn?Ki(t.stateNode.nextSibling):null;return!0}function Sk(){for(var t=Cn;t;)t=Ki(t.nextSibling)}function pa(){Cn=Rn=null,Ke=!1}function ay(t){ur===null?ur=[t]:ur.push(t)}var JF=mi.ReactCurrentBatchConfig;function ar(t,e){if(t&&t.defaultProps){e=Je({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Nf=fs(null),bf=null,qo=null,ly=null;function uy(){ly=qo=bf=null}function cy(t){var e=Nf.current;He(Nf),t._currentValue=e}function D0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ra(t,e){bf=t,ly=qo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(dn=!0),t.firstContext=null)}function Yn(t){var e=t._currentValue;if(ly!==t)if(t={context:t,memoizedValue:e,next:null},qo===null){if(bf===null)throw Error(B(308));qo=t,bf.dependencies={lanes:0,firstContext:t}}else qo=qo.next=t;return e}var Ds=null;function hy(t){Ds===null?Ds=[t]:Ds.push(t)}function Tk(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,hy(e)):(n.next=i.next,i.next=n),e.interleaved=n,li(t,r)}function li(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ni=!1;function fy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ik(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function si(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Gi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ke&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,li(t,n)}return i=r.interleaved,i===null?(e.next=e,hy(r)):(e.next=i.next,i.next=e),r.interleaved=e,li(t,n)}function ef(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xv(t,n)}}function IS(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=l:s=s.next=l,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Lf(t,e,n,r){var i=t.updateQueue;Ni=!1;var s=i.firstBaseUpdate,l=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var h=u,f=h.next;h.next=null,l===null?s=f:l.next=f,l=h;var p=t.alternate;p!==null&&(p=p.updateQueue,u=p.lastBaseUpdate,u!==l&&(u===null?p.firstBaseUpdate=f:u.next=f,p.lastBaseUpdate=h))}if(s!==null){var m=i.baseState;l=0,p=f=h=null,u=s;do{var v=u.lane,w=u.eventTime;if((r&v)===v){p!==null&&(p=p.next={eventTime:w,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var x=t,A=u;switch(v=e,w=n,A.tag){case 1:if(x=A.payload,typeof x=="function"){m=x.call(w,m,v);break e}m=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=A.payload,v=typeof x=="function"?x.call(w,m,v):x,v==null)break e;m=Je({},m,v);break e;case 2:Ni=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,v=i.effects,v===null?i.effects=[u]:v.push(u))}else w={eventTime:w,lane:v,tag:u.tag,payload:u.payload,callback:u.callback,next:null},p===null?(f=p=w,h=m):p=p.next=w,l|=v;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;v=u,u=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(1);if(p===null&&(h=m),i.baseState=h,i.firstBaseUpdate=f,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do l|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Gs|=l,t.lanes=l,t.memoizedState=m}}function xS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var xk=new Tx.Component().refs;function N0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Je({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Cd={isMounted:function(t){return(t=t._reactInternals)?oo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=sn(),i=Yi(t),s=si(r,i);s.payload=e,n!=null&&(s.callback=n),e=Gi(t,s,i),e!==null&&(hr(e,t,i,r),ef(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=sn(),i=Yi(t),s=si(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Gi(t,s,i),e!==null&&(hr(e,t,i,r),ef(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=sn(),r=Yi(t),i=si(n,r);i.tag=2,e!=null&&(i.callback=e),e=Gi(t,i,r),e!==null&&(hr(e,t,r,n),ef(e,t,r))}};function kS(t,e,n,r,i,s,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,l):e.prototype&&e.prototype.isPureReactComponent?!au(n,r)||!au(i,s):!0}function kk(t,e,n){var r=!1,i=as,s=e.contextType;return typeof s=="object"&&s!==null?s=Yn(s):(i=mn(e)?js:Kt.current,r=e.contextTypes,s=(r=r!=null)?da(t,i):as),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Cd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function CS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Cd.enqueueReplaceState(e,e.state,null)}function b0(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=xk,fy(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Yn(s):(s=mn(e)?js:Kt.current,i.context=da(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(N0(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Cd.enqueueReplaceState(i,i.state,null),Lf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function El(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(l){var u=i.refs;u===xk&&(u=i.refs={}),l===null?delete u[s]:u[s]=l},e._stringRef=s,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function Nh(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function AS(t){var e=t._init;return e(t._payload)}function Ck(t){function e(S,E){if(t){var I=S.deletions;I===null?(S.deletions=[E],S.flags|=16):I.push(E)}}function n(S,E){if(!t)return null;for(;E!==null;)e(S,E),E=E.sibling;return null}function r(S,E){for(S=new Map;E!==null;)E.key!==null?S.set(E.key,E):S.set(E.index,E),E=E.sibling;return S}function i(S,E){return S=Xi(S,E),S.index=0,S.sibling=null,S}function s(S,E,I){return S.index=I,t?(I=S.alternate,I!==null?(I=I.index,I<E?(S.flags|=2,E):I):(S.flags|=2,E)):(S.flags|=1048576,E)}function l(S){return t&&S.alternate===null&&(S.flags|=2),S}function u(S,E,I,C){return E===null||E.tag!==6?(E=vm(I,S.mode,C),E.return=S,E):(E=i(E,I),E.return=S,E)}function h(S,E,I,C){var P=I.type;return P===Uo?p(S,E,I.props.children,C,I.key):E!==null&&(E.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Di&&AS(P)===E.type)?(C=i(E,I.props),C.ref=El(S,E,I),C.return=S,C):(C=af(I.type,I.key,I.props,null,S.mode,C),C.ref=El(S,E,I),C.return=S,C)}function f(S,E,I,C){return E===null||E.tag!==4||E.stateNode.containerInfo!==I.containerInfo||E.stateNode.implementation!==I.implementation?(E=ym(I,S.mode,C),E.return=S,E):(E=i(E,I.children||[]),E.return=S,E)}function p(S,E,I,C,P){return E===null||E.tag!==7?(E=zs(I,S.mode,C,P),E.return=S,E):(E=i(E,I),E.return=S,E)}function m(S,E,I){if(typeof E=="string"&&E!==""||typeof E=="number")return E=vm(""+E,S.mode,I),E.return=S,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case wh:return I=af(E.type,E.key,E.props,null,S.mode,I),I.ref=El(S,null,E),I.return=S,I;case $o:return E=ym(E,S.mode,I),E.return=S,E;case Di:var C=E._init;return m(S,C(E._payload),I)}if(Cl(E)||ml(E))return E=zs(E,S.mode,I,null),E.return=S,E;Nh(S,E)}return null}function v(S,E,I,C){var P=E!==null?E.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return P!==null?null:u(S,E,""+I,C);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case wh:return I.key===P?h(S,E,I,C):null;case $o:return I.key===P?f(S,E,I,C):null;case Di:return P=I._init,v(S,E,P(I._payload),C)}if(Cl(I)||ml(I))return P!==null?null:p(S,E,I,C,null);Nh(S,I)}return null}function w(S,E,I,C,P){if(typeof C=="string"&&C!==""||typeof C=="number")return S=S.get(I)||null,u(E,S,""+C,P);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case wh:return S=S.get(C.key===null?I:C.key)||null,h(E,S,C,P);case $o:return S=S.get(C.key===null?I:C.key)||null,f(E,S,C,P);case Di:var V=C._init;return w(S,E,I,V(C._payload),P)}if(Cl(C)||ml(C))return S=S.get(I)||null,p(E,S,C,P,null);Nh(E,C)}return null}function x(S,E,I,C){for(var P=null,V=null,L=E,W=E=0,X=null;L!==null&&W<I.length;W++){L.index>W?(X=L,L=null):X=L.sibling;var j=v(S,L,I[W],C);if(j===null){L===null&&(L=X);break}t&&L&&j.alternate===null&&e(S,L),E=s(j,E,W),V===null?P=j:V.sibling=j,V=j,L=X}if(W===I.length)return n(S,L),Ke&&ks(S,W),P;if(L===null){for(;W<I.length;W++)L=m(S,I[W],C),L!==null&&(E=s(L,E,W),V===null?P=L:V.sibling=L,V=L);return Ke&&ks(S,W),P}for(L=r(S,L);W<I.length;W++)X=w(L,S,W,I[W],C),X!==null&&(t&&X.alternate!==null&&L.delete(X.key===null?W:X.key),E=s(X,E,W),V===null?P=X:V.sibling=X,V=X);return t&&L.forEach(function(ae){return e(S,ae)}),Ke&&ks(S,W),P}function A(S,E,I,C){var P=ml(I);if(typeof P!="function")throw Error(B(150));if(I=P.call(I),I==null)throw Error(B(151));for(var V=P=null,L=E,W=E=0,X=null,j=I.next();L!==null&&!j.done;W++,j=I.next()){L.index>W?(X=L,L=null):X=L.sibling;var ae=v(S,L,j.value,C);if(ae===null){L===null&&(L=X);break}t&&L&&ae.alternate===null&&e(S,L),E=s(ae,E,W),V===null?P=ae:V.sibling=ae,V=ae,L=X}if(j.done)return n(S,L),Ke&&ks(S,W),P;if(L===null){for(;!j.done;W++,j=I.next())j=m(S,j.value,C),j!==null&&(E=s(j,E,W),V===null?P=j:V.sibling=j,V=j);return Ke&&ks(S,W),P}for(L=r(S,L);!j.done;W++,j=I.next())j=w(L,S,W,j.value,C),j!==null&&(t&&j.alternate!==null&&L.delete(j.key===null?W:j.key),E=s(j,E,W),V===null?P=j:V.sibling=j,V=j);return t&&L.forEach(function(Yt){return e(S,Yt)}),Ke&&ks(S,W),P}function b(S,E,I,C){if(typeof I=="object"&&I!==null&&I.type===Uo&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case wh:e:{for(var P=I.key,V=E;V!==null;){if(V.key===P){if(P=I.type,P===Uo){if(V.tag===7){n(S,V.sibling),E=i(V,I.props.children),E.return=S,S=E;break e}}else if(V.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Di&&AS(P)===V.type){n(S,V.sibling),E=i(V,I.props),E.ref=El(S,V,I),E.return=S,S=E;break e}n(S,V);break}else e(S,V);V=V.sibling}I.type===Uo?(E=zs(I.props.children,S.mode,C,I.key),E.return=S,S=E):(C=af(I.type,I.key,I.props,null,S.mode,C),C.ref=El(S,E,I),C.return=S,S=C)}return l(S);case $o:e:{for(V=I.key;E!==null;){if(E.key===V)if(E.tag===4&&E.stateNode.containerInfo===I.containerInfo&&E.stateNode.implementation===I.implementation){n(S,E.sibling),E=i(E,I.children||[]),E.return=S,S=E;break e}else{n(S,E);break}else e(S,E);E=E.sibling}E=ym(I,S.mode,C),E.return=S,S=E}return l(S);case Di:return V=I._init,b(S,E,V(I._payload),C)}if(Cl(I))return x(S,E,I,C);if(ml(I))return A(S,E,I,C);Nh(S,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,E!==null&&E.tag===6?(n(S,E.sibling),E=i(E,I),E.return=S,S=E):(n(S,E),E=vm(I,S.mode,C),E.return=S,S=E),l(S)):n(S,E)}return b}var ga=Ck(!0),Ak=Ck(!1),Xu={},Cr=fs(Xu),hu=fs(Xu),fu=fs(Xu);function Ns(t){if(t===Xu)throw Error(B(174));return t}function dy(t,e){switch(ze(fu,e),ze(hu,t),ze(Cr,Xu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:c0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=c0(e,t)}He(Cr),ze(Cr,e)}function ma(){He(Cr),He(hu),He(fu)}function Rk(t){Ns(fu.current);var e=Ns(Cr.current),n=c0(e,t.type);e!==n&&(ze(hu,t),ze(Cr,n))}function py(t){hu.current===t&&(He(Cr),He(hu))}var Xe=fs(0);function Of(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var hm=[];function gy(){for(var t=0;t<hm.length;t++)hm[t]._workInProgressVersionPrimary=null;hm.length=0}var tf=mi.ReactCurrentDispatcher,fm=mi.ReactCurrentBatchConfig,Ks=0,Ze=null,dt=null,Tt=null,Pf=!1,zl=!1,du=0,e3=0;function Ft(){throw Error(B(321))}function my(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!fr(t[n],e[n]))return!1;return!0}function vy(t,e,n,r,i,s){if(Ks=s,Ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,tf.current=t===null||t.memoizedState===null?i3:s3,t=n(r,i),zl){s=0;do{if(zl=!1,du=0,25<=s)throw Error(B(301));s+=1,Tt=dt=null,e.updateQueue=null,tf.current=o3,t=n(r,i)}while(zl)}if(tf.current=Mf,e=dt!==null&&dt.next!==null,Ks=0,Tt=dt=Ze=null,Pf=!1,e)throw Error(B(300));return t}function yy(){var t=du!==0;return du=0,t}function Sr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?Ze.memoizedState=Tt=t:Tt=Tt.next=t,Tt}function Xn(){if(dt===null){var t=Ze.alternate;t=t!==null?t.memoizedState:null}else t=dt.next;var e=Tt===null?Ze.memoizedState:Tt.next;if(e!==null)Tt=e,dt=t;else{if(t===null)throw Error(B(310));dt=t,t={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},Tt===null?Ze.memoizedState=Tt=t:Tt=Tt.next=t}return Tt}function pu(t,e){return typeof e=="function"?e(t):e}function dm(t){var e=Xn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=dt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var l=i.next;i.next=s.next,s.next=l}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var u=l=null,h=null,f=s;do{var p=f.lane;if((Ks&p)===p)h!==null&&(h=h.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:t(r,f.action);else{var m={lane:p,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};h===null?(u=h=m,l=r):h=h.next=m,Ze.lanes|=p,Gs|=p}f=f.next}while(f!==null&&f!==s);h===null?l=r:h.next=u,fr(r,e.memoizedState)||(dn=!0),e.memoizedState=r,e.baseState=l,e.baseQueue=h,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ze.lanes|=s,Gs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function pm(t){var e=Xn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do s=t(s,l.action),l=l.next;while(l!==i);fr(s,e.memoizedState)||(dn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Dk(){}function Nk(t,e){var n=Ze,r=Xn(),i=e(),s=!fr(r.memoizedState,i);if(s&&(r.memoizedState=i,dn=!0),r=r.queue,_y(Ok.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Tt!==null&&Tt.memoizedState.tag&1){if(n.flags|=2048,gu(9,Lk.bind(null,n,r,i,e),void 0,null),kt===null)throw Error(B(349));Ks&30||bk(n,e,i)}return i}function bk(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Lk(t,e,n,r){e.value=n,e.getSnapshot=r,Pk(e)&&Mk(t)}function Ok(t,e,n){return n(function(){Pk(e)&&Mk(t)})}function Pk(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!fr(t,n)}catch{return!0}}function Mk(t){var e=li(t,1);e!==null&&hr(e,t,1,-1)}function RS(t){var e=Sr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pu,lastRenderedState:t},e.queue=t,t=t.dispatch=r3.bind(null,Ze,t),[e.memoizedState,t]}function gu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function $k(){return Xn().memoizedState}function nf(t,e,n,r){var i=Sr();Ze.flags|=t,i.memoizedState=gu(1|e,n,void 0,r===void 0?null:r)}function Ad(t,e,n,r){var i=Xn();r=r===void 0?null:r;var s=void 0;if(dt!==null){var l=dt.memoizedState;if(s=l.destroy,r!==null&&my(r,l.deps)){i.memoizedState=gu(e,n,s,r);return}}Ze.flags|=t,i.memoizedState=gu(1|e,n,s,r)}function DS(t,e){return nf(8390656,8,t,e)}function _y(t,e){return Ad(2048,8,t,e)}function Uk(t,e){return Ad(4,2,t,e)}function Fk(t,e){return Ad(4,4,t,e)}function zk(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Bk(t,e,n){return n=n!=null?n.concat([t]):null,Ad(4,4,zk.bind(null,e,t),n)}function wy(){}function Vk(t,e){var n=Xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&my(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Hk(t,e){var n=Xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&my(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Wk(t,e,n){return Ks&21?(fr(n,e)||(n=Kx(),Ze.lanes|=n,Gs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,dn=!0),t.memoizedState=n)}function t3(t,e){var n=Pe;Pe=n!==0&&4>n?n:4,t(!0);var r=fm.transition;fm.transition={};try{t(!1),e()}finally{Pe=n,fm.transition=r}}function jk(){return Xn().memoizedState}function n3(t,e,n){var r=Yi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},qk(t))Kk(e,n);else if(n=Tk(t,e,n,r),n!==null){var i=sn();hr(n,t,r,i),Gk(n,e,r)}}function r3(t,e,n){var r=Yi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(qk(t))Kk(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var l=e.lastRenderedState,u=s(l,n);if(i.hasEagerState=!0,i.eagerState=u,fr(u,l)){var h=e.interleaved;h===null?(i.next=i,hy(e)):(i.next=h.next,h.next=i),e.interleaved=i;return}}catch{}finally{}n=Tk(t,e,i,r),n!==null&&(i=sn(),hr(n,t,r,i),Gk(n,e,r))}}function qk(t){var e=t.alternate;return t===Ze||e!==null&&e===Ze}function Kk(t,e){zl=Pf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Gk(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xv(t,n)}}var Mf={readContext:Yn,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},i3={readContext:Yn,useCallback:function(t,e){return Sr().memoizedState=[t,e===void 0?null:e],t},useContext:Yn,useEffect:DS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,nf(4194308,4,zk.bind(null,e,t),n)},useLayoutEffect:function(t,e){return nf(4194308,4,t,e)},useInsertionEffect:function(t,e){return nf(4,2,t,e)},useMemo:function(t,e){var n=Sr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Sr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=n3.bind(null,Ze,t),[r.memoizedState,t]},useRef:function(t){var e=Sr();return t={current:t},e.memoizedState=t},useState:RS,useDebugValue:wy,useDeferredValue:function(t){return Sr().memoizedState=t},useTransition:function(){var t=RS(!1),e=t[0];return t=t3.bind(null,t[1]),Sr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ze,i=Sr();if(Ke){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),kt===null)throw Error(B(349));Ks&30||bk(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,DS(Ok.bind(null,r,s,t),[t]),r.flags|=2048,gu(9,Lk.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Sr(),e=kt.identifierPrefix;if(Ke){var n=ti,r=ei;n=(r&~(1<<32-cr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=du++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=e3++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},s3={readContext:Yn,useCallback:Vk,useContext:Yn,useEffect:_y,useImperativeHandle:Bk,useInsertionEffect:Uk,useLayoutEffect:Fk,useMemo:Hk,useReducer:dm,useRef:$k,useState:function(){return dm(pu)},useDebugValue:wy,useDeferredValue:function(t){var e=Xn();return Wk(e,dt.memoizedState,t)},useTransition:function(){var t=dm(pu)[0],e=Xn().memoizedState;return[t,e]},useMutableSource:Dk,useSyncExternalStore:Nk,useId:jk,unstable_isNewReconciler:!1},o3={readContext:Yn,useCallback:Vk,useContext:Yn,useEffect:_y,useImperativeHandle:Bk,useInsertionEffect:Uk,useLayoutEffect:Fk,useMemo:Hk,useReducer:pm,useRef:$k,useState:function(){return pm(pu)},useDebugValue:wy,useDeferredValue:function(t){var e=Xn();return dt===null?e.memoizedState=t:Wk(e,dt.memoizedState,t)},useTransition:function(){var t=pm(pu)[0],e=Xn().memoizedState;return[t,e]},useMutableSource:Dk,useSyncExternalStore:Nk,useId:jk,unstable_isNewReconciler:!1};function va(t,e){try{var n="",r=e;do n+=OU(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function gm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function L0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var a3=typeof WeakMap=="function"?WeakMap:Map;function Qk(t,e,n){n=si(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Uf||(Uf=!0,H0=r),L0(t,e)},n}function Yk(t,e,n){n=si(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){L0(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){L0(t,e),typeof r!="function"&&(Qi===null?Qi=new Set([this]):Qi.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function NS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new a3;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=E3.bind(null,t,e,n),e.then(t,t))}function bS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function LS(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=si(-1,1),e.tag=2,Gi(n,e,1))),n.lanes|=1),t)}var l3=mi.ReactCurrentOwner,dn=!1;function en(t,e,n,r){e.child=t===null?Ak(e,null,n,r):ga(e,t.child,n,r)}function OS(t,e,n,r,i){n=n.render;var s=e.ref;return ra(e,i),r=vy(t,e,n,r,s,i),n=yy(),t!==null&&!dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ui(t,e,i)):(Ke&&n&&sy(e),e.flags|=1,en(t,e,r,i),e.child)}function PS(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Ay(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Xk(t,e,s,r,i)):(t=af(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var l=s.memoizedProps;if(n=n.compare,n=n!==null?n:au,n(l,r)&&t.ref===e.ref)return ui(t,e,i)}return e.flags|=1,t=Xi(s,r),t.ref=e.ref,t.return=e,e.child=t}function Xk(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(au(s,r)&&t.ref===e.ref)if(dn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(dn=!0);else return e.lanes=t.lanes,ui(t,e,i)}return O0(t,e,n,r,i)}function Zk(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(Go,kn),kn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ze(Go,kn),kn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ze(Go,kn),kn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ze(Go,kn),kn|=r;return en(t,e,i,n),e.child}function Jk(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function O0(t,e,n,r,i){var s=mn(n)?js:Kt.current;return s=da(e,s),ra(e,i),n=vy(t,e,n,r,s,i),r=yy(),t!==null&&!dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ui(t,e,i)):(Ke&&r&&sy(e),e.flags|=1,en(t,e,n,i),e.child)}function MS(t,e,n,r,i){if(mn(n)){var s=!0;Af(e)}else s=!1;if(ra(e,i),e.stateNode===null)rf(t,e),kk(e,n,r),b0(e,n,r,i),r=!0;else if(t===null){var l=e.stateNode,u=e.memoizedProps;l.props=u;var h=l.context,f=n.contextType;typeof f=="object"&&f!==null?f=Yn(f):(f=mn(n)?js:Kt.current,f=da(e,f));var p=n.getDerivedStateFromProps,m=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==r||h!==f)&&CS(e,l,r,f),Ni=!1;var v=e.memoizedState;l.state=v,Lf(e,r,l,i),h=e.memoizedState,u!==r||v!==h||gn.current||Ni?(typeof p=="function"&&(N0(e,n,p,r),h=e.memoizedState),(u=Ni||kS(e,n,u,r,v,h,f))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=h),l.props=r,l.state=h,l.context=f,r=u):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{l=e.stateNode,Ik(t,e),u=e.memoizedProps,f=e.type===e.elementType?u:ar(e.type,u),l.props=f,m=e.pendingProps,v=l.context,h=n.contextType,typeof h=="object"&&h!==null?h=Yn(h):(h=mn(n)?js:Kt.current,h=da(e,h));var w=n.getDerivedStateFromProps;(p=typeof w=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==m||v!==h)&&CS(e,l,r,h),Ni=!1,v=e.memoizedState,l.state=v,Lf(e,r,l,i);var x=e.memoizedState;u!==m||v!==x||gn.current||Ni?(typeof w=="function"&&(N0(e,n,w,r),x=e.memoizedState),(f=Ni||kS(e,n,f,r,v,x,h)||!1)?(p||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,x,h),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,x,h)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),l.props=r,l.state=x,l.context=h,r=f):(typeof l.componentDidUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),r=!1)}return P0(t,e,n,r,s,i)}function P0(t,e,n,r,i,s){Jk(t,e);var l=(e.flags&128)!==0;if(!r&&!l)return i&&ES(e,n,!1),ui(t,e,s);r=e.stateNode,l3.current=e;var u=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&l?(e.child=ga(e,t.child,null,s),e.child=ga(e,null,u,s)):en(t,e,u,s),e.memoizedState=r.state,i&&ES(e,n,!0),e.child}function eC(t){var e=t.stateNode;e.pendingContext?wS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&wS(t,e.context,!1),dy(t,e.containerInfo)}function $S(t,e,n,r,i){return pa(),ay(i),e.flags|=256,en(t,e,n,r),e.child}var M0={dehydrated:null,treeContext:null,retryLane:0};function $0(t){return{baseLanes:t,cachePool:null,transitions:null}}function tC(t,e,n){var r=e.pendingProps,i=Xe.current,s=!1,l=(e.flags&128)!==0,u;if((u=l)||(u=t!==null&&t.memoizedState===null?!1:(i&2)!==0),u?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ze(Xe,i&1),t===null)return R0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=r.children,t=r.fallback,s?(r=e.mode,s=e.child,l={mode:"hidden",children:l},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=l):s=Nd(l,r,0,null),t=zs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=$0(n),e.memoizedState=M0,t):Ey(e,l));if(i=t.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return u3(t,e,l,r,u,i,n);if(s){s=r.fallback,l=e.mode,i=t.child,u=i.sibling;var h={mode:"hidden",children:r.children};return!(l&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=h,e.deletions=null):(r=Xi(i,h),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?s=Xi(u,s):(s=zs(s,l,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,l=t.child.memoizedState,l=l===null?$0(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=t.childLanes&~n,e.memoizedState=M0,r}return s=t.child,t=s.sibling,r=Xi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ey(t,e){return e=Nd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function bh(t,e,n,r){return r!==null&&ay(r),ga(e,t.child,null,n),t=Ey(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function u3(t,e,n,r,i,s,l){if(n)return e.flags&256?(e.flags&=-257,r=gm(Error(B(422))),bh(t,e,l,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Nd({mode:"visible",children:r.children},i,0,null),s=zs(s,i,l,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ga(e,t.child,null,l),e.child.memoizedState=$0(l),e.memoizedState=M0,s);if(!(e.mode&1))return bh(t,e,l,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,s=Error(B(419)),r=gm(s,r,void 0),bh(t,e,l,r)}if(u=(l&t.childLanes)!==0,dn||u){if(r=kt,r!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|l)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,li(t,i),hr(r,t,i,-1))}return Cy(),r=gm(Error(B(421))),bh(t,e,l,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=S3.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Cn=Ki(i.nextSibling),Rn=e,Ke=!0,ur=null,t!==null&&(Wn[jn++]=ei,Wn[jn++]=ti,Wn[jn++]=qs,ei=t.id,ti=t.overflow,qs=e),e=Ey(e,r.children),e.flags|=4096,e)}function US(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),D0(t.return,e,n)}function mm(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function nC(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(en(t,e,r.children,n),r=Xe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&US(t,n,e);else if(t.tag===19)US(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ze(Xe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Of(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),mm(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Of(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}mm(e,!0,n,null,s);break;case"together":mm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function rf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ui(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Gs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=Xi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Xi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function c3(t,e,n){switch(e.tag){case 3:eC(e),pa();break;case 5:Rk(e);break;case 1:mn(e.type)&&Af(e);break;case 4:dy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ze(Nf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ze(Xe,Xe.current&1),e.flags|=128,null):n&e.child.childLanes?tC(t,e,n):(ze(Xe,Xe.current&1),t=ui(t,e,n),t!==null?t.sibling:null);ze(Xe,Xe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return nC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ze(Xe,Xe.current),r)break;return null;case 22:case 23:return e.lanes=0,Zk(t,e,n)}return ui(t,e,n)}var rC,U0,iC,sC;rC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};U0=function(){};iC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ns(Cr.current);var s=null;switch(n){case"input":i=o0(t,i),r=o0(t,r),s=[];break;case"select":i=Je({},i,{value:void 0}),r=Je({},r,{value:void 0}),s=[];break;case"textarea":i=u0(t,i),r=u0(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=kf)}h0(n,r);var l;n=null;for(f in i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var u=i[f];for(l in u)u.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(eu.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var h=r[f];if(u=i!=null?i[f]:void 0,r.hasOwnProperty(f)&&h!==u&&(h!=null||u!=null))if(f==="style")if(u){for(l in u)!u.hasOwnProperty(l)||h&&h.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in h)h.hasOwnProperty(l)&&u[l]!==h[l]&&(n||(n={}),n[l]=h[l])}else n||(s||(s=[]),s.push(f,n)),n=h;else f==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,u=u?u.__html:void 0,h!=null&&u!==h&&(s=s||[]).push(f,h)):f==="children"?typeof h!="string"&&typeof h!="number"||(s=s||[]).push(f,""+h):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(eu.hasOwnProperty(f)?(h!=null&&f==="onScroll"&&Ve("scroll",t),s||u===h||(s=[])):(s=s||[]).push(f,h))}n&&(s=s||[]).push("style",n);var f=s;(e.updateQueue=f)&&(e.flags|=4)}};sC=function(t,e,n,r){n!==r&&(e.flags|=4)};function Sl(t,e){if(!Ke)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function zt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function h3(t,e,n){var r=e.pendingProps;switch(oy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(e),null;case 1:return mn(e.type)&&Cf(),zt(e),null;case 3:return r=e.stateNode,ma(),He(gn),He(Kt),gy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Dh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ur!==null&&(q0(ur),ur=null))),U0(t,e),zt(e),null;case 5:py(e);var i=Ns(fu.current);if(n=e.type,t!==null&&e.stateNode!=null)iC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return zt(e),null}if(t=Ns(Cr.current),Dh(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Tr]=e,r[cu]=s,t=(e.mode&1)!==0,n){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(i=0;i<Rl.length;i++)Ve(Rl[i],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":KE(r,s),Ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ve("invalid",r);break;case"textarea":QE(r,s),Ve("invalid",r)}h0(n,s),i=null;for(var l in s)if(s.hasOwnProperty(l)){var u=s[l];l==="children"?typeof u=="string"?r.textContent!==u&&(s.suppressHydrationWarning!==!0&&Rh(r.textContent,u,t),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&Rh(r.textContent,u,t),i=["children",""+u]):eu.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&Ve("scroll",r)}switch(n){case"input":Eh(r),GE(r,s,!0);break;case"textarea":Eh(r),YE(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=kf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=bx(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script></script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),n==="select"&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[Tr]=e,t[cu]=r,rC(t,e,!1,!1),e.stateNode=t;e:{switch(l=f0(n,r),n){case"dialog":Ve("cancel",t),Ve("close",t),i=r;break;case"iframe":case"object":case"embed":Ve("load",t),i=r;break;case"video":case"audio":for(i=0;i<Rl.length;i++)Ve(Rl[i],t);i=r;break;case"source":Ve("error",t),i=r;break;case"img":case"image":case"link":Ve("error",t),Ve("load",t),i=r;break;case"details":Ve("toggle",t),i=r;break;case"input":KE(t,r),i=o0(t,r),Ve("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Je({},r,{value:void 0}),Ve("invalid",t);break;case"textarea":QE(t,r),i=u0(t,r),Ve("invalid",t);break;default:i=r}h0(n,i),u=i;for(s in u)if(u.hasOwnProperty(s)){var h=u[s];s==="style"?Px(t,h):s==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&Lx(t,h)):s==="children"?typeof h=="string"?(n!=="textarea"||h!=="")&&tu(t,h):typeof h=="number"&&tu(t,""+h):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(eu.hasOwnProperty(s)?h!=null&&s==="onScroll"&&Ve("scroll",t):h!=null&&jv(t,s,h,l))}switch(n){case"input":Eh(t),GE(t,r,!1);break;case"textarea":Eh(t),YE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+os(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Jo(t,!!r.multiple,s,!1):r.defaultValue!=null&&Jo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=kf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return zt(e),null;case 6:if(t&&e.stateNode!=null)sC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=Ns(fu.current),Ns(Cr.current),Dh(e)){if(r=e.stateNode,n=e.memoizedProps,r[Tr]=e,(s=r.nodeValue!==n)&&(t=Rn,t!==null))switch(t.tag){case 3:Rh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Rh(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Tr]=e,e.stateNode=r}return zt(e),null;case 13:if(He(Xe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ke&&Cn!==null&&e.mode&1&&!(e.flags&128))Sk(),pa(),e.flags|=98560,s=!1;else if(s=Dh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(B(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));s[Tr]=e}else pa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;zt(e),s=!1}else ur!==null&&(q0(ur),ur=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Xe.current&1?pt===0&&(pt=3):Cy())),e.updateQueue!==null&&(e.flags|=4),zt(e),null);case 4:return ma(),U0(t,e),t===null&&lu(e.stateNode.containerInfo),zt(e),null;case 10:return cy(e.type._context),zt(e),null;case 17:return mn(e.type)&&Cf(),zt(e),null;case 19:if(He(Xe),s=e.memoizedState,s===null)return zt(e),null;if(r=(e.flags&128)!==0,l=s.rendering,l===null)if(r)Sl(s,!1);else{if(pt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=Of(t),l!==null){for(e.flags|=128,Sl(s,!1),r=l.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,l=s.alternate,l===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,t=l.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ze(Xe,Xe.current&1|2),e.child}t=t.sibling}s.tail!==null&&st()>ya&&(e.flags|=128,r=!0,Sl(s,!1),e.lanes=4194304)}else{if(!r)if(t=Of(l),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Sl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!l.alternate&&!Ke)return zt(e),null}else 2*st()-s.renderingStartTime>ya&&n!==1073741824&&(e.flags|=128,r=!0,Sl(s,!1),e.lanes=4194304);s.isBackwards?(l.sibling=e.child,e.child=l):(n=s.last,n!==null?n.sibling=l:e.child=l,s.last=l)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=st(),e.sibling=null,n=Xe.current,ze(Xe,r?n&1|2:n&1),e):(zt(e),null);case 22:case 23:return ky(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?kn&1073741824&&(zt(e),e.subtreeFlags&6&&(e.flags|=8192)):zt(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function f3(t,e){switch(oy(e),e.tag){case 1:return mn(e.type)&&Cf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ma(),He(gn),He(Kt),gy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return py(e),null;case 13:if(He(Xe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));pa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return He(Xe),null;case 4:return ma(),null;case 10:return cy(e.type._context),null;case 22:case 23:return ky(),null;case 24:return null;default:return null}}var Lh=!1,Vt=!1,d3=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Ko(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){tt(t,e,r)}else n.current=null}function F0(t,e,n){try{n()}catch(r){tt(t,e,r)}}var FS=!1;function p3(t,e){if(S0=Tf,t=uk(),iy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var l=0,u=-1,h=-1,f=0,p=0,m=t,v=null;t:for(;;){for(var w;m!==n||i!==0&&m.nodeType!==3||(u=l+i),m!==s||r!==0&&m.nodeType!==3||(h=l+r),m.nodeType===3&&(l+=m.nodeValue.length),(w=m.firstChild)!==null;)v=m,m=w;for(;;){if(m===t)break t;if(v===n&&++f===i&&(u=l),v===s&&++p===r&&(h=l),(w=m.nextSibling)!==null)break;m=v,v=m.parentNode}m=w}n=u===-1||h===-1?null:{start:u,end:h}}else n=null}n=n||{start:0,end:0}}else n=null;for(T0={focusedElem:t,selectionRange:n},Tf=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var A=x.memoizedProps,b=x.memoizedState,S=e.stateNode,E=S.getSnapshotBeforeUpdate(e.elementType===e.type?A:ar(e.type,A),b);S.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(C){tt(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return x=FS,FS=!1,x}function Bl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&F0(e,n,s)}i=i.next}while(i!==r)}}function Rd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function z0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function oC(t){var e=t.alternate;e!==null&&(t.alternate=null,oC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Tr],delete e[cu],delete e[k0],delete e[YF],delete e[XF])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function aC(t){return t.tag===5||t.tag===3||t.tag===4}function zS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||aC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function B0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=kf));else if(r!==4&&(t=t.child,t!==null))for(B0(t,e,n),t=t.sibling;t!==null;)B0(t,e,n),t=t.sibling}function V0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(V0(t,e,n),t=t.sibling;t!==null;)V0(t,e,n),t=t.sibling}var Dt=null,lr=!1;function Ai(t,e,n){for(n=n.child;n!==null;)lC(t,e,n),n=n.sibling}function lC(t,e,n){if(kr&&typeof kr.onCommitFiberUnmount=="function")try{kr.onCommitFiberUnmount(Ed,n)}catch{}switch(n.tag){case 5:Vt||Ko(n,e);case 6:var r=Dt,i=lr;Dt=null,Ai(t,e,n),Dt=r,lr=i,Dt!==null&&(lr?(t=Dt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Dt.removeChild(n.stateNode));break;case 18:Dt!==null&&(lr?(t=Dt,n=n.stateNode,t.nodeType===8?um(t.parentNode,n):t.nodeType===1&&um(t,n),su(t)):um(Dt,n.stateNode));break;case 4:r=Dt,i=lr,Dt=n.stateNode.containerInfo,lr=!0,Ai(t,e,n),Dt=r,lr=i;break;case 0:case 11:case 14:case 15:if(!Vt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,l=s.destroy;s=s.tag,l!==void 0&&(s&2||s&4)&&F0(n,e,l),i=i.next}while(i!==r)}Ai(t,e,n);break;case 1:if(!Vt&&(Ko(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){tt(n,e,u)}Ai(t,e,n);break;case 21:Ai(t,e,n);break;case 22:n.mode&1?(Vt=(r=Vt)||n.memoizedState!==null,Ai(t,e,n),Vt=r):Ai(t,e,n);break;default:Ai(t,e,n)}}function BS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new d3),e.forEach(function(r){var i=T3.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function or(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,l=e,u=l;e:for(;u!==null;){switch(u.tag){case 5:Dt=u.stateNode,lr=!1;break e;case 3:Dt=u.stateNode.containerInfo,lr=!0;break e;case 4:Dt=u.stateNode.containerInfo,lr=!0;break e}u=u.return}if(Dt===null)throw Error(B(160));lC(s,l,i),Dt=null,lr=!1;var h=i.alternate;h!==null&&(h.return=null),i.return=null}catch(f){tt(i,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)uC(e,t),e=e.sibling}function uC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(or(e,t),wr(t),r&4){try{Bl(3,t,t.return),Rd(3,t)}catch(A){tt(t,t.return,A)}try{Bl(5,t,t.return)}catch(A){tt(t,t.return,A)}}break;case 1:or(e,t),wr(t),r&512&&n!==null&&Ko(n,n.return);break;case 5:if(or(e,t),wr(t),r&512&&n!==null&&Ko(n,n.return),t.flags&32){var i=t.stateNode;try{tu(i,"")}catch(A){tt(t,t.return,A)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,l=n!==null?n.memoizedProps:s,u=t.type,h=t.updateQueue;if(t.updateQueue=null,h!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&Dx(i,s),f0(u,l);var f=f0(u,s);for(l=0;l<h.length;l+=2){var p=h[l],m=h[l+1];p==="style"?Px(i,m):p==="dangerouslySetInnerHTML"?Lx(i,m):p==="children"?tu(i,m):jv(i,p,m,f)}switch(u){case"input":a0(i,s);break;case"textarea":Nx(i,s);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var w=s.value;w!=null?Jo(i,!!s.multiple,w,!1):v!==!!s.multiple&&(s.defaultValue!=null?Jo(i,!!s.multiple,s.defaultValue,!0):Jo(i,!!s.multiple,s.multiple?[]:"",!1))}i[cu]=s}catch(A){tt(t,t.return,A)}}break;case 6:if(or(e,t),wr(t),r&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(A){tt(t,t.return,A)}}break;case 3:if(or(e,t),wr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{su(e.containerInfo)}catch(A){tt(t,t.return,A)}break;case 4:or(e,t),wr(t);break;case 13:or(e,t),wr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Iy=st())),r&4&&BS(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(Vt=(f=Vt)||p,or(e,t),Vt=f):or(e,t),wr(t),r&8192){if(f=t.memoizedState!==null,(t.stateNode.isHidden=f)&&!p&&t.mode&1)for(Y=t,p=t.child;p!==null;){for(m=Y=p;Y!==null;){switch(v=Y,w=v.child,v.tag){case 0:case 11:case 14:case 15:Bl(4,v,v.return);break;case 1:Ko(v,v.return);var x=v.stateNode;if(typeof x.componentWillUnmount=="function"){r=v,n=v.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(A){tt(r,n,A)}}break;case 5:Ko(v,v.return);break;case 22:if(v.memoizedState!==null){HS(m);continue}}w!==null?(w.return=v,Y=w):HS(m)}p=p.sibling}e:for(p=null,m=t;;){if(m.tag===5){if(p===null){p=m;try{i=m.stateNode,f?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=m.stateNode,h=m.memoizedProps.style,l=h!=null&&h.hasOwnProperty("display")?h.display:null,u.style.display=Ox("display",l))}catch(A){tt(t,t.return,A)}}}else if(m.tag===6){if(p===null)try{m.stateNode.nodeValue=f?"":m.memoizedProps}catch(A){tt(t,t.return,A)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:or(e,t),wr(t),r&4&&BS(t);break;case 21:break;default:or(e,t),wr(t)}}function wr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(aC(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(tu(i,""),r.flags&=-33);var s=zS(t);V0(t,s,i);break;case 3:case 4:var l=r.stateNode.containerInfo,u=zS(t);B0(t,u,l);break;default:throw Error(B(161))}}catch(h){tt(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function g3(t,e,n){Y=t,cC(t)}function cC(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var i=Y,s=i.child;if(i.tag===22&&r){var l=i.memoizedState!==null||Lh;if(!l){var u=i.alternate,h=u!==null&&u.memoizedState!==null||Vt;u=Lh;var f=Vt;if(Lh=l,(Vt=h)&&!f)for(Y=i;Y!==null;)l=Y,h=l.child,l.tag===22&&l.memoizedState!==null?WS(i):h!==null?(h.return=l,Y=h):WS(i);for(;s!==null;)Y=s,cC(s),s=s.sibling;Y=i,Lh=u,Vt=f}VS(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Y=s):VS(t)}}function VS(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Vt||Rd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Vt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ar(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&xS(e,s,r);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}xS(e,l,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var h=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&n.focus();break;case"img":h.src&&(n.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var p=f.memoizedState;if(p!==null){var m=p.dehydrated;m!==null&&su(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Vt||e.flags&512&&z0(e)}catch(v){tt(e,e.return,v)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function HS(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function WS(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Rd(4,e)}catch(h){tt(e,n,h)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(h){tt(e,i,h)}}var s=e.return;try{z0(e)}catch(h){tt(e,s,h)}break;case 5:var l=e.return;try{z0(e)}catch(h){tt(e,l,h)}}}catch(h){tt(e,e.return,h)}if(e===t){Y=null;break}var u=e.sibling;if(u!==null){u.return=e.return,Y=u;break}Y=e.return}}var m3=Math.ceil,$f=mi.ReactCurrentDispatcher,Sy=mi.ReactCurrentOwner,Gn=mi.ReactCurrentBatchConfig,ke=0,kt=null,ut=null,Lt=0,kn=0,Go=fs(0),pt=0,mu=null,Gs=0,Dd=0,Ty=0,Vl=null,fn=null,Iy=0,ya=1/0,Qr=null,Uf=!1,H0=null,Qi=null,Oh=!1,Bi=null,Ff=0,Hl=0,W0=null,sf=-1,of=0;function sn(){return ke&6?st():sf!==-1?sf:sf=st()}function Yi(t){return t.mode&1?ke&2&&Lt!==0?Lt&-Lt:JF.transition!==null?(of===0&&(of=Kx()),of):(t=Pe,t!==0||(t=window.event,t=t===void 0?16:ek(t.type)),t):1}function hr(t,e,n,r){if(50<Hl)throw Hl=0,W0=null,Error(B(185));Gu(t,n,r),(!(ke&2)||t!==kt)&&(t===kt&&(!(ke&2)&&(Dd|=n),pt===4&&Li(t,Lt)),vn(t,r),n===1&&ke===0&&!(e.mode&1)&&(ya=st()+500,kd&&ds()))}function vn(t,e){var n=t.callbackNode;JU(t,e);var r=Sf(t,t===kt?Lt:0);if(r===0)n!==null&&JE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&JE(n),e===1)t.tag===0?ZF(jS.bind(null,t)):_k(jS.bind(null,t)),GF(function(){!(ke&6)&&ds()}),n=null;else{switch(Gx(r)){case 1:n=Yv;break;case 4:n=jx;break;case 16:n=Ef;break;case 536870912:n=qx;break;default:n=Ef}n=yC(n,hC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function hC(t,e){if(sf=-1,of=0,ke&6)throw Error(B(327));var n=t.callbackNode;if(ia()&&t.callbackNode!==n)return null;var r=Sf(t,t===kt?Lt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=zf(t,r);else{e=r;var i=ke;ke|=2;var s=dC();(kt!==t||Lt!==e)&&(Qr=null,ya=st()+500,Fs(t,e));do try{_3();break}catch(u){fC(t,u)}while(1);uy(),$f.current=s,ke=i,ut!==null?e=0:(kt=null,Lt=0,e=pt)}if(e!==0){if(e===2&&(i=v0(t),i!==0&&(r=i,e=j0(t,i))),e===1)throw n=mu,Fs(t,0),Li(t,r),vn(t,st()),n;if(e===6)Li(t,r);else{if(i=t.current.alternate,!(r&30)&&!v3(i)&&(e=zf(t,r),e===2&&(s=v0(t),s!==0&&(r=s,e=j0(t,s))),e===1))throw n=mu,Fs(t,0),Li(t,r),vn(t,st()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:Cs(t,fn,Qr);break;case 3:if(Li(t,r),(r&130023424)===r&&(e=Iy+500-st(),10<e)){if(Sf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){sn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=x0(Cs.bind(null,t,fn,Qr),e);break}Cs(t,fn,Qr);break;case 4:if(Li(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var l=31-cr(r);s=1<<l,l=e[l],l>i&&(i=l),r&=~s}if(r=i,r=st()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*m3(r/1960))-r,10<r){t.timeoutHandle=x0(Cs.bind(null,t,fn,Qr),r);break}Cs(t,fn,Qr);break;case 5:Cs(t,fn,Qr);break;default:throw Error(B(329))}}}return vn(t,st()),t.callbackNode===n?hC.bind(null,t):null}function j0(t,e){var n=Vl;return t.current.memoizedState.isDehydrated&&(Fs(t,e).flags|=256),t=zf(t,e),t!==2&&(e=fn,fn=n,e!==null&&q0(e)),t}function q0(t){fn===null?fn=t:fn.push.apply(fn,t)}function v3(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!fr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Li(t,e){for(e&=~Ty,e&=~Dd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-cr(e),r=1<<n;t[n]=-1,e&=~r}}function jS(t){if(ke&6)throw Error(B(327));ia();var e=Sf(t,0);if(!(e&1))return vn(t,st()),null;var n=zf(t,e);if(t.tag!==0&&n===2){var r=v0(t);r!==0&&(e=r,n=j0(t,r))}if(n===1)throw n=mu,Fs(t,0),Li(t,e),vn(t,st()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Cs(t,fn,Qr),vn(t,st()),null}function xy(t,e){var n=ke;ke|=1;try{return t(e)}finally{ke=n,ke===0&&(ya=st()+500,kd&&ds())}}function Qs(t){Bi!==null&&Bi.tag===0&&!(ke&6)&&ia();var e=ke;ke|=1;var n=Gn.transition,r=Pe;try{if(Gn.transition=null,Pe=1,t)return t()}finally{Pe=r,Gn.transition=n,ke=e,!(ke&6)&&ds()}}function ky(){kn=Go.current,He(Go)}function Fs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,KF(n)),ut!==null)for(n=ut.return;n!==null;){var r=n;switch(oy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Cf();break;case 3:ma(),He(gn),He(Kt),gy();break;case 5:py(r);break;case 4:ma();break;case 13:He(Xe);break;case 19:He(Xe);break;case 10:cy(r.type._context);break;case 22:case 23:ky()}n=n.return}if(kt=t,ut=t=Xi(t.current,null),Lt=kn=e,pt=0,mu=null,Ty=Dd=Gs=0,fn=Vl=null,Ds!==null){for(e=0;e<Ds.length;e++)if(n=Ds[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var l=s.next;s.next=i,r.next=l}n.pending=r}Ds=null}return t}function fC(t,e){do{var n=ut;try{if(uy(),tf.current=Mf,Pf){for(var r=Ze.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Pf=!1}if(Ks=0,Tt=dt=Ze=null,zl=!1,du=0,Sy.current=null,n===null||n.return===null){pt=1,mu=e,ut=null;break}e:{var s=t,l=n.return,u=n,h=e;if(e=Lt,u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var f=h,p=u,m=p.tag;if(!(p.mode&1)&&(m===0||m===11||m===15)){var v=p.alternate;v?(p.updateQueue=v.updateQueue,p.memoizedState=v.memoizedState,p.lanes=v.lanes):(p.updateQueue=null,p.memoizedState=null)}var w=bS(l);if(w!==null){w.flags&=-257,LS(w,l,u,s,e),w.mode&1&&NS(s,f,e),e=w,h=f;var x=e.updateQueue;if(x===null){var A=new Set;A.add(h),e.updateQueue=A}else x.add(h);break e}else{if(!(e&1)){NS(s,f,e),Cy();break e}h=Error(B(426))}}else if(Ke&&u.mode&1){var b=bS(l);if(b!==null){!(b.flags&65536)&&(b.flags|=256),LS(b,l,u,s,e),ay(va(h,u));break e}}s=h=va(h,u),pt!==4&&(pt=2),Vl===null?Vl=[s]:Vl.push(s),s=l;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var S=Qk(s,h,e);IS(s,S);break e;case 1:u=h;var E=s.type,I=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Qi===null||!Qi.has(I)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=Yk(s,u,e);IS(s,C);break e}}s=s.return}while(s!==null)}gC(n)}catch(P){e=P,ut===n&&n!==null&&(ut=n=n.return);continue}break}while(1)}function dC(){var t=$f.current;return $f.current=Mf,t===null?Mf:t}function Cy(){(pt===0||pt===3||pt===2)&&(pt=4),kt===null||!(Gs&268435455)&&!(Dd&268435455)||Li(kt,Lt)}function zf(t,e){var n=ke;ke|=2;var r=dC();(kt!==t||Lt!==e)&&(Qr=null,Fs(t,e));do try{y3();break}catch(i){fC(t,i)}while(1);if(uy(),ke=n,$f.current=r,ut!==null)throw Error(B(261));return kt=null,Lt=0,pt}function y3(){for(;ut!==null;)pC(ut)}function _3(){for(;ut!==null&&!WU();)pC(ut)}function pC(t){var e=vC(t.alternate,t,kn);t.memoizedProps=t.pendingProps,e===null?gC(t):ut=e,Sy.current=null}function gC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=f3(n,e),n!==null){n.flags&=32767,ut=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pt=6,ut=null;return}}else if(n=h3(n,e,kn),n!==null){ut=n;return}if(e=e.sibling,e!==null){ut=e;return}ut=e=t}while(e!==null);pt===0&&(pt=5)}function Cs(t,e,n){var r=Pe,i=Gn.transition;try{Gn.transition=null,Pe=1,w3(t,e,n,r)}finally{Gn.transition=i,Pe=r}return null}function w3(t,e,n,r){do ia();while(Bi!==null);if(ke&6)throw Error(B(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(eF(t,s),t===kt&&(ut=kt=null,Lt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Oh||(Oh=!0,yC(Ef,function(){return ia(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Gn.transition,Gn.transition=null;var l=Pe;Pe=1;var u=ke;ke|=4,Sy.current=null,p3(t,n),uC(n,t),zF(T0),Tf=!!S0,T0=S0=null,t.current=n,g3(n),jU(),ke=u,Pe=l,Gn.transition=s}else t.current=n;if(Oh&&(Oh=!1,Bi=t,Ff=i),s=t.pendingLanes,s===0&&(Qi=null),GU(n.stateNode),vn(t,st()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Uf)throw Uf=!1,t=H0,H0=null,t;return Ff&1&&t.tag!==0&&ia(),s=t.pendingLanes,s&1?t===W0?Hl++:(Hl=0,W0=t):Hl=0,ds(),null}function ia(){if(Bi!==null){var t=Gx(Ff),e=Gn.transition,n=Pe;try{if(Gn.transition=null,Pe=16>t?16:t,Bi===null)var r=!1;else{if(t=Bi,Bi=null,Ff=0,ke&6)throw Error(B(331));var i=ke;for(ke|=4,Y=t.current;Y!==null;){var s=Y,l=s.child;if(Y.flags&16){var u=s.deletions;if(u!==null){for(var h=0;h<u.length;h++){var f=u[h];for(Y=f;Y!==null;){var p=Y;switch(p.tag){case 0:case 11:case 15:Bl(8,p,s)}var m=p.child;if(m!==null)m.return=p,Y=m;else for(;Y!==null;){p=Y;var v=p.sibling,w=p.return;if(oC(p),p===f){Y=null;break}if(v!==null){v.return=w,Y=v;break}Y=w}}}var x=s.alternate;if(x!==null){var A=x.child;if(A!==null){x.child=null;do{var b=A.sibling;A.sibling=null,A=b}while(A!==null)}}Y=s}}if(s.subtreeFlags&2064&&l!==null)l.return=s,Y=l;else e:for(;Y!==null;){if(s=Y,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Bl(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,Y=S;break e}Y=s.return}}var E=t.current;for(Y=E;Y!==null;){l=Y;var I=l.child;if(l.subtreeFlags&2064&&I!==null)I.return=l,Y=I;else e:for(l=E;Y!==null;){if(u=Y,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Rd(9,u)}}catch(P){tt(u,u.return,P)}if(u===l){Y=null;break e}var C=u.sibling;if(C!==null){C.return=u.return,Y=C;break e}Y=u.return}}if(ke=i,ds(),kr&&typeof kr.onPostCommitFiberRoot=="function")try{kr.onPostCommitFiberRoot(Ed,t)}catch{}r=!0}return r}finally{Pe=n,Gn.transition=e}}return!1}function qS(t,e,n){e=va(n,e),e=Qk(t,e,1),t=Gi(t,e,1),e=sn(),t!==null&&(Gu(t,1,e),vn(t,e))}function tt(t,e,n){if(t.tag===3)qS(t,t,n);else for(;e!==null;){if(e.tag===3){qS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qi===null||!Qi.has(r))){t=va(n,t),t=Yk(e,t,1),e=Gi(e,t,1),t=sn(),e!==null&&(Gu(e,1,t),vn(e,t));break}}e=e.return}}function E3(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=sn(),t.pingedLanes|=t.suspendedLanes&n,kt===t&&(Lt&n)===n&&(pt===4||pt===3&&(Lt&130023424)===Lt&&500>st()-Iy?Fs(t,0):Ty|=n),vn(t,e)}function mC(t,e){e===0&&(t.mode&1?(e=Ih,Ih<<=1,!(Ih&130023424)&&(Ih=4194304)):e=1);var n=sn();t=li(t,e),t!==null&&(Gu(t,e,n),vn(t,n))}function S3(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),mC(t,n)}function T3(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),mC(t,n)}var vC;vC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||gn.current)dn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return dn=!1,c3(t,e,n);dn=!!(t.flags&131072)}else dn=!1,Ke&&e.flags&1048576&&wk(e,Df,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;rf(t,e),t=e.pendingProps;var i=da(e,Kt.current);ra(e,n),i=vy(null,e,r,t,i,n);var s=yy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mn(r)?(s=!0,Af(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,fy(e),i.updater=Cd,e.stateNode=i,i._reactInternals=e,b0(e,r,t,n),e=P0(null,e,r,!0,s,n)):(e.tag=0,Ke&&s&&sy(e),en(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(rf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=x3(r),t=ar(r,t),i){case 0:e=O0(null,e,r,t,n);break e;case 1:e=MS(null,e,r,t,n);break e;case 11:e=OS(null,e,r,t,n);break e;case 14:e=PS(null,e,r,ar(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ar(r,i),O0(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ar(r,i),MS(t,e,r,i,n);case 3:e:{if(eC(e),t===null)throw Error(B(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Ik(t,e),Lf(e,r,null,n);var l=e.memoizedState;if(r=l.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=va(Error(B(423)),e),e=$S(t,e,r,n,i);break e}else if(r!==i){i=va(Error(B(424)),e),e=$S(t,e,r,n,i);break e}else for(Cn=Ki(e.stateNode.containerInfo.firstChild),Rn=e,Ke=!0,ur=null,n=Ak(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(pa(),r===i){e=ui(t,e,n);break e}en(t,e,r,n)}e=e.child}return e;case 5:return Rk(e),t===null&&R0(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,l=i.children,I0(r,i)?l=null:s!==null&&I0(r,s)&&(e.flags|=32),Jk(t,e),en(t,e,l,n),e.child;case 6:return t===null&&R0(e),null;case 13:return tC(t,e,n);case 4:return dy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ga(e,null,r,n):en(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ar(r,i),OS(t,e,r,i,n);case 7:return en(t,e,e.pendingProps,n),e.child;case 8:return en(t,e,e.pendingProps.children,n),e.child;case 12:return en(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,l=i.value,ze(Nf,r._currentValue),r._currentValue=l,s!==null)if(fr(s.value,l)){if(s.children===i.children&&!gn.current){e=ui(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var u=s.dependencies;if(u!==null){l=s.child;for(var h=u.firstContext;h!==null;){if(h.context===r){if(s.tag===1){h=si(-1,n&-n),h.tag=2;var f=s.updateQueue;if(f!==null){f=f.shared;var p=f.pending;p===null?h.next=h:(h.next=p.next,p.next=h),f.pending=h}}s.lanes|=n,h=s.alternate,h!==null&&(h.lanes|=n),D0(s.return,n,e),u.lanes|=n;break}h=h.next}}else if(s.tag===10)l=s.type===e.type?null:s.child;else if(s.tag===18){if(l=s.return,l===null)throw Error(B(341));l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),D0(l,n,e),l=s.sibling}else l=s.child;if(l!==null)l.return=s;else for(l=s;l!==null;){if(l===e){l=null;break}if(s=l.sibling,s!==null){s.return=l.return,l=s;break}l=l.return}s=l}en(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ra(e,n),i=Yn(i),r=r(i),e.flags|=1,en(t,e,r,n),e.child;case 14:return r=e.type,i=ar(r,e.pendingProps),i=ar(r.type,i),PS(t,e,r,i,n);case 15:return Xk(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ar(r,i),rf(t,e),e.tag=1,mn(r)?(t=!0,Af(e)):t=!1,ra(e,n),kk(e,r,i),b0(e,r,i,n),P0(null,e,r,!0,t,n);case 19:return nC(t,e,n);case 22:return Zk(t,e,n)}throw Error(B(156,e.tag))};function yC(t,e){return Wx(t,e)}function I3(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(t,e,n,r){return new I3(t,e,n,r)}function Ay(t){return t=t.prototype,!(!t||!t.isReactComponent)}function x3(t){if(typeof t=="function")return Ay(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Kv)return 11;if(t===Gv)return 14}return 2}function Xi(t,e){var n=t.alternate;return n===null?(n=Kn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function af(t,e,n,r,i,s){var l=2;if(r=t,typeof t=="function")Ay(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case Uo:return zs(n.children,i,s,e);case qv:l=8,i|=8;break;case n0:return t=Kn(12,n,e,i|2),t.elementType=n0,t.lanes=s,t;case r0:return t=Kn(13,n,e,i),t.elementType=r0,t.lanes=s,t;case i0:return t=Kn(19,n,e,i),t.elementType=i0,t.lanes=s,t;case Cx:return Nd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case xx:l=10;break e;case kx:l=9;break e;case Kv:l=11;break e;case Gv:l=14;break e;case Di:l=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=Kn(l,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function zs(t,e,n,r){return t=Kn(7,t,r,e),t.lanes=n,t}function Nd(t,e,n,r){return t=Kn(22,t,r,e),t.elementType=Cx,t.lanes=n,t.stateNode={isHidden:!1},t}function vm(t,e,n){return t=Kn(6,t,null,e),t.lanes=n,t}function ym(t,e,n){return e=Kn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function k3(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zg(0),this.expirationTimes=Zg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ry(t,e,n,r,i,s,l,u,h){return t=new k3(t,e,n,u,h),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Kn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},fy(s),t}function C3(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$o,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function _C(t){if(!t)return as;t=t._reactInternals;e:{if(oo(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(mn(n))return yk(t,n,e)}return e}function wC(t,e,n,r,i,s,l,u,h){return t=Ry(n,r,!0,t,i,s,l,u,h),t.context=_C(null),n=t.current,r=sn(),i=Yi(n),s=si(r,i),s.callback=e??null,Gi(n,s,i),t.current.lanes=i,Gu(t,i,r),vn(t,r),t}function bd(t,e,n,r){var i=e.current,s=sn(),l=Yi(i);return n=_C(n),e.context===null?e.context=n:e.pendingContext=n,e=si(s,l),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Gi(i,e,l),t!==null&&(hr(t,i,l,s),ef(t,i,l)),l}function Bf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function KS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Dy(t,e){KS(t,e),(t=t.alternate)&&KS(t,e)}function A3(){return null}var EC=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ny(t){this._internalRoot=t}Ld.prototype.render=Ny.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));bd(t,e,null,null)};Ld.prototype.unmount=Ny.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Qs(function(){bd(null,t,null,null)}),e[ai]=null}};function Ld(t){this._internalRoot=t}Ld.prototype.unstable_scheduleHydration=function(t){if(t){var e=Xx();t={blockedOn:null,target:t,priority:e};for(var n=0;n<bi.length&&e!==0&&e<bi[n].priority;n++);bi.splice(n,0,t),n===0&&Jx(t)}};function by(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Od(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function GS(){}function R3(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var f=Bf(l);s.call(f)}}var l=wC(e,r,t,0,null,!1,!1,"",GS);return t._reactRootContainer=l,t[ai]=l.current,lu(t.nodeType===8?t.parentNode:t),Qs(),l}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var f=Bf(h);u.call(f)}}var h=Ry(t,0,!1,null,null,!1,!1,"",GS);return t._reactRootContainer=h,t[ai]=h.current,lu(t.nodeType===8?t.parentNode:t),Qs(function(){bd(e,h,n,r)}),h}function Pd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var l=s;if(typeof i=="function"){var u=i;i=function(){var h=Bf(l);u.call(h)}}bd(e,l,t,i)}else l=R3(n,e,t,i,r);return Bf(l)}Qx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Al(e.pendingLanes);n!==0&&(Xv(e,n|1),vn(e,st()),!(ke&6)&&(ya=st()+500,ds()))}break;case 13:Qs(function(){var r=li(t,1);if(r!==null){var i=sn();hr(r,t,1,i)}}),Dy(t,1)}};Zv=function(t){if(t.tag===13){var e=li(t,134217728);if(e!==null){var n=sn();hr(e,t,134217728,n)}Dy(t,134217728)}};Yx=function(t){if(t.tag===13){var e=Yi(t),n=li(t,e);if(n!==null){var r=sn();hr(n,t,e,r)}Dy(t,e)}};Xx=function(){return Pe};Zx=function(t,e){var n=Pe;try{return Pe=t,e()}finally{Pe=n}};p0=function(t,e,n){switch(e){case"input":if(a0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=xd(r);if(!i)throw Error(B(90));Rx(r),a0(r,i)}}}break;case"textarea":Nx(t,n);break;case"select":e=n.value,e!=null&&Jo(t,!!n.multiple,e,!1)}};Ux=xy;Fx=Qs;var D3={usingClientEntryPoint:!1,Events:[Yu,Vo,xd,Mx,$x,xy]},Tl={findFiberByHostInstance:Rs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},N3={bundleType:Tl.bundleType,version:Tl.version,rendererPackageName:Tl.rendererPackageName,rendererConfig:Tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Vx(t),t===null?null:t.stateNode},findFiberByHostInstance:Tl.findFiberByHostInstance||A3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ph=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ph.isDisabled&&Ph.supportsFiber)try{Ed=Ph.inject(N3),kr=Ph}catch{}}Ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D3;Ln.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!by(e))throw Error(B(200));return C3(t,e,null,n)};Ln.createRoot=function(t,e){if(!by(t))throw Error(B(299));var n=!1,r="",i=EC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ry(t,1,!1,null,null,n,!1,r,i),t[ai]=e.current,lu(t.nodeType===8?t.parentNode:t),new Ny(e)};Ln.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=Vx(e),t=t===null?null:t.stateNode,t};Ln.flushSync=function(t){return Qs(t)};Ln.hydrate=function(t,e,n){if(!Od(e))throw Error(B(200));return Pd(null,t,e,!0,n)};Ln.hydrateRoot=function(t,e,n){if(!by(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",l=EC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=wC(e,null,t,1,n??null,i,!1,s,l),t[ai]=e.current,lu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ld(e)};Ln.render=function(t,e,n){if(!Od(e))throw Error(B(200));return Pd(null,t,e,!1,n)};Ln.unmountComponentAtNode=function(t){if(!Od(t))throw Error(B(40));return t._reactRootContainer?(Qs(function(){Pd(null,null,t,!1,function(){t._reactRootContainer=null,t[ai]=null})}),!0):!1};Ln.unstable_batchedUpdates=xy;Ln.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Od(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Pd(t,e,n,!1,r)};Ln.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=Ln})(wx);var QS=wx.exports;e0.createRoot=QS.createRoot,e0.hydrateRoot=QS.hydrateRoot;function Vf(){return Vf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vf.apply(this,arguments)}var Vi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Vi||(Vi={}));const YS="popstate";function b3(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:l,hash:u}=r.location;return K0("",{pathname:s,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:vu(i)}return P3(e,n,null,t)}function gt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function L3(){return Math.random().toString(36).substr(2,8)}function XS(t){return{usr:t.state,key:t.key}}function K0(t,e,n,r){return n===void 0&&(n=null),Vf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Oa(e):e,{state:n,key:e&&e.key||r||L3()})}function vu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Oa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function O3(t){let e=typeof window<"u"&&typeof window.location<"u"&&window.location.origin!=="null"?window.location.origin:window.location.href,n=typeof t=="string"?t:vu(t);return gt(e,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,e)}function P3(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,u=Vi.Pop,h=null;function f(){u=Vi.Pop,h&&h({action:u,location:v.location})}function p(w,x){u=Vi.Push;let A=K0(v.location,w,x);n&&n(A,w);let b=XS(A),S=v.createHref(A);try{l.pushState(b,"",S)}catch{i.location.assign(S)}s&&h&&h({action:u,location:v.location})}function m(w,x){u=Vi.Replace;let A=K0(v.location,w,x);n&&n(A,w);let b=XS(A),S=v.createHref(A);l.replaceState(b,"",S),s&&h&&h({action:u,location:v.location})}let v={get action(){return u},get location(){return t(i,l)},listen(w){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(YS,f),h=w,()=>{i.removeEventListener(YS,f),h=null}},createHref(w){return e(i,w)},encodeLocation(w){let x=O3(typeof w=="string"?w:vu(w));return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:m,go(w){return l.go(w)}};return v}var ZS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ZS||(ZS={}));function M3(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Oa(e):e,i=IC(r.pathname||"/",n);if(i==null)return null;let s=SC(t);$3(s);let l=null;for(let u=0;l==null&&u<s.length;++u)l=q3(s[u],Q3(i));return l}function SC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,l,u)=>{let h={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};h.relativePath.startsWith("/")&&(gt(h.relativePath.startsWith(r),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(r.length));let f=Zi([r,h.relativePath]),p=n.concat(h);s.children&&s.children.length>0&&(gt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),SC(s.children,e,p,f)),!(s.path==null&&!s.index)&&e.push({path:f,score:W3(f,s.index),routesMeta:p})};return t.forEach((s,l)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,l);else for(let h of TC(s.path))i(s,l,h)}),e}function TC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=TC(r.join("/")),u=[];return u.push(...l.map(h=>h===""?s:[s,h].join("/"))),i&&u.push(...l),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function $3(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:j3(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const U3=/^:\w+$/,F3=3,z3=2,B3=1,V3=10,H3=-2,JS=t=>t==="*";function W3(t,e){let n=t.split("/"),r=n.length;return n.some(JS)&&(r+=H3),e&&(r+=z3),n.filter(i=>!JS(i)).reduce((i,s)=>i+(U3.test(s)?F3:s===""?B3:V3),r)}function j3(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function q3(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let l=0;l<n.length;++l){let u=n[l],h=l===n.length-1,f=i==="/"?e:e.slice(i.length)||"/",p=K3({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},f);if(!p)return null;Object.assign(r,p.params);let m=u.route;s.push({params:r,pathname:Zi([i,p.pathname]),pathnameBase:J3(Zi([i,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(i=Zi([i,p.pathnameBase]))}return s}function K3(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=G3(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,p,m)=>{if(p==="*"){let v=u[m]||"";l=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}return f[p]=Y3(u[m]||"",p),f},{}),pathname:s,pathnameBase:l,pattern:t}}function G3(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ly(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(l,u)=>(r.push(u),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Q3(t){try{return decodeURI(t)}catch(e){return Ly(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Y3(t,e){try{return decodeURIComponent(t)}catch(n){return Ly(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function IC(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Ly(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function X3(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Oa(t):t;return{pathname:n?n.startsWith("/")?n:Z3(n,e):e,search:ez(r),hash:tz(i)}}function Z3(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function _m(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function xC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function kC(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Oa(t):(i=Vf({},t),gt(!i.pathname||!i.pathname.includes("?"),_m("?","pathname","search",i)),gt(!i.pathname||!i.pathname.includes("#"),_m("#","pathname","hash",i)),gt(!i.search||!i.search.includes("#"),_m("#","search","hash",i)));let s=t===""||i.pathname==="",l=s?"/":i.pathname,u;if(r||l==null)u=n;else{let m=e.length-1;if(l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),m-=1;i.pathname=v.join("/")}u=m>=0?e[m]:"/"}let h=X3(i,u),f=l&&l!=="/"&&l.endsWith("/"),p=(s||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||p)&&(h.pathname+="/"),h}const Zi=t=>t.join("/").replace(/\/\/+/g,"/"),J3=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ez=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,tz=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class nz{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function rz(t){return t instanceof nz}const iz=["post","put","patch","delete"];[...iz];function G0(){return G0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G0.apply(this,arguments)}function sz(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const oz=typeof Object.is=="function"?Object.is:sz,{useState:az,useEffect:lz,useLayoutEffect:uz,useDebugValue:cz}=Jm;function hz(t,e,n){const r=e(),[{inst:i},s]=az({inst:{value:r,getSnapshot:e}});return uz(()=>{i.value=r,i.getSnapshot=e,wm(i)&&s({inst:i})},[t,r,e]),lz(()=>(wm(i)&&s({inst:i}),t(()=>{wm(i)&&s({inst:i})})),[t]),cz(r),r}function wm(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!oz(n,r)}catch{return!0}}function fz(t,e,n){return e()}const dz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pz=!dz,gz=pz?fz:hz;"useSyncExternalStore"in Jm&&(t=>t.useSyncExternalStore)(Jm);const mz=F.exports.createContext(null),vz=F.exports.createContext(null),CC=F.exports.createContext(null),Md=F.exports.createContext(null),$d=F.exports.createContext(null),Pa=F.exports.createContext({outlet:null,matches:[]}),AC=F.exports.createContext(null);function yz(t,e){let{relative:n}=e===void 0?{}:e;Zu()||gt(!1);let{basename:r,navigator:i}=F.exports.useContext(Md),{hash:s,pathname:l,search:u}=DC(t,{relative:n}),h=l;return r!=="/"&&(h=l==="/"?r:Zi([r,l])),i.createHref({pathname:h,search:u,hash:s})}function Zu(){return F.exports.useContext($d)!=null}function Ju(){return Zu()||gt(!1),F.exports.useContext($d).location}function RC(){Zu()||gt(!1);let{basename:t,navigator:e}=F.exports.useContext(Md),{matches:n}=F.exports.useContext(Pa),{pathname:r}=Ju(),i=JSON.stringify(xC(n).map(u=>u.pathnameBase)),s=F.exports.useRef(!1);return F.exports.useEffect(()=>{s.current=!0}),F.exports.useCallback(function(u,h){if(h===void 0&&(h={}),!s.current)return;if(typeof u=="number"){e.go(u);return}let f=kC(u,JSON.parse(i),r,h.relative==="path");t!=="/"&&(f.pathname=f.pathname==="/"?t:Zi([t,f.pathname])),(h.replace?e.replace:e.push)(f,h.state,h)},[t,e,i,r])}function _z(){let{matches:t}=F.exports.useContext(Pa),e=t[t.length-1];return e?e.params:{}}function DC(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=F.exports.useContext(Pa),{pathname:i}=Ju(),s=JSON.stringify(xC(r).map(l=>l.pathnameBase));return F.exports.useMemo(()=>kC(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function wz(t,e){Zu()||gt(!1);let{navigator:n}=F.exports.useContext(Md),r=F.exports.useContext(CC),{matches:i}=F.exports.useContext(Pa),s=i[i.length-1],l=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let h=Ju(),f;if(e){var p;let A=typeof e=="string"?Oa(e):e;u==="/"||(p=A.pathname)!=null&&p.startsWith(u)||gt(!1),f=A}else f=h;let m=f.pathname||"/",v=u==="/"?m:m.slice(u.length)||"/",w=M3(t,{pathname:v}),x=Iz(w&&w.map(A=>Object.assign({},A,{params:Object.assign({},l,A.params),pathname:Zi([u,n.encodeLocation?n.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?u:Zi([u,n.encodeLocation?n.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),i,r||void 0);return e&&x?F.exports.createElement($d.Provider,{value:{location:G0({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Vi.Pop}},x):x}function Ez(){let t=kz(),e=rz(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r};return F.exports.createElement(F.exports.Fragment,null,F.exports.createElement("h2",null,"Unhandled Thrown Error!"),F.exports.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.exports.createElement("pre",{style:i},n):null,F.exports.createElement("p",null," Hey developer "),F.exports.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own",F.exports.createElement("code",{style:s},"errorElement")," props on",F.exports.createElement("code",{style:s},"<Route>")))}class Sz extends F.exports.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?F.exports.createElement(AC.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}function Tz(t){let{routeContext:e,match:n,children:r}=t,i=F.exports.useContext(mz);return i&&n.route.errorElement&&(i._deepestRenderedBoundaryId=n.route.id),F.exports.createElement(Pa.Provider,{value:e},r)}function Iz(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(l=>l.route.id&&(i==null?void 0:i[l.route.id]));s>=0||gt(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,l,u)=>{let h=l.route.id?i==null?void 0:i[l.route.id]:null,f=n?l.route.errorElement||F.exports.createElement(Ez,null):null,p=()=>F.exports.createElement(Tz,{match:l,routeContext:{outlet:s,matches:e.concat(r.slice(0,u+1))}},h?f:l.route.element!==void 0?l.route.element:s);return n&&(l.route.errorElement||u===0)?F.exports.createElement(Sz,{location:n.location,component:f,error:h,children:p()}):p()},null)}var eT;(function(t){t.UseRevalidator="useRevalidator"})(eT||(eT={}));var Q0;(function(t){t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(Q0||(Q0={}));function xz(t){let e=F.exports.useContext(CC);return e||gt(!1),e}function kz(){var t;let e=F.exports.useContext(AC),n=xz(Q0.UseRouteError),r=F.exports.useContext(Pa),i=r.matches[r.matches.length-1];return e||(r||gt(!1),i.route.id||gt(!1),(t=n.errors)==null?void 0:t[i.route.id])}function lf(t){gt(!1)}function Cz(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Vi.Pop,navigator:s,static:l=!1}=t;Zu()&&gt(!1);let u=e.replace(/^\/*/,"/"),h=F.exports.useMemo(()=>({basename:u,navigator:s,static:l}),[u,s,l]);typeof r=="string"&&(r=Oa(r));let{pathname:f="/",search:p="",hash:m="",state:v=null,key:w="default"}=r,x=F.exports.useMemo(()=>{let A=IC(f,u);return A==null?null:{pathname:A,search:p,hash:m,state:v,key:w}},[u,f,p,m,v,w]);return x==null?null:F.exports.createElement(Md.Provider,{value:h},F.exports.createElement($d.Provider,{children:n,value:{location:x,navigationType:i}}))}function Az(t){let{children:e,location:n}=t,r=F.exports.useContext(vz),i=r&&!e?r.router.routes:Y0(e);return wz(i,n)}var tT;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(tT||(tT={}));new Promise(()=>{});function Y0(t,e){e===void 0&&(e=[]);let n=[];return F.exports.Children.forEach(t,(r,i)=>{if(!F.exports.isValidElement(r))return;if(r.type===F.exports.Fragment){n.push.apply(n,Y0(r.props.children,e));return}r.type!==lf&&gt(!1),!r.props.index||!r.props.children||gt(!1);let s=[...e,i],l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(l.children=Y0(r.props.children,s)),n.push(l)}),n}function X0(){return X0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X0.apply(this,arguments)}function Rz(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Dz(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Nz(t,e){return t.button===0&&(!e||e==="_self")&&!Dz(t)}const bz=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function Lz(t){let{basename:e,children:n,window:r}=t,i=F.exports.useRef();i.current==null&&(i.current=b3({window:r,v5Compat:!0}));let s=i.current,[l,u]=F.exports.useState({action:s.action,location:s.location});return F.exports.useLayoutEffect(()=>s.listen(u),[s]),F.exports.createElement(Cz,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:s})}const Hf=F.exports.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:l,state:u,target:h,to:f,preventScrollReset:p}=e,m=Rz(e,bz),v=yz(f,{relative:i}),w=Oz(f,{replace:l,state:u,target:h,preventScrollReset:p,relative:i});function x(A){r&&r(A),A.defaultPrevented||w(A)}return F.exports.createElement("a",X0({},m,{href:v,onClick:s?r:x,ref:n,target:h}))});var nT;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(nT||(nT={}));var rT;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(rT||(rT={}));function Oz(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:l}=e===void 0?{}:e,u=RC(),h=Ju(),f=DC(t,{relative:l});return F.exports.useCallback(p=>{if(Nz(p,n)){p.preventDefault();let m=r!==void 0?r:vu(h)===vu(f);u(t,{replace:m,state:i,preventScrollReset:s,relative:l})}},[h,u,f,r,i,n,t,s,l])}const NC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Pz=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],l=t[n++],u=t[n++],h=((i&7)<<18|(s&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const s=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},bC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],l=i+1<t.length,u=l?t[i+1]:0,h=i+2<t.length,f=h?t[i+2]:0,p=s>>2,m=(s&3)<<4|u>>4;let v=(u&15)<<2|f>>6,w=f&63;h||(w=64,l||(v=64)),r.push(n[p],n[m],n[v],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(NC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Pz(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||u==null||f==null||m==null)throw Error();const v=s<<2|u>>4;if(r.push(v),f!==64){const w=u<<4&240|f>>2;if(r.push(w),m!==64){const x=f<<6&192|m;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Mz=function(t){const e=NC(t);return bC.encodeByteArray(e,!0)},Wf=function(t){return Mz(t).replace(/\./g,"")},LC=function(t){try{return bC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $z(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function Uz(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Fz(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zz(){const t=Gt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Bz(){try{return typeof indexedDB=="object"}catch{return!1}}function Vz(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function Hz(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Wz=()=>Hz().__FIREBASE_DEFAULTS__,jz=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},qz=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&LC(t[1]);return e&&JSON.parse(e)},Oy=()=>{try{return Wz()||jz()||qz()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},OC=t=>{var e,n;return(n=(e=Oy())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Kz=t=>{const e=OC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Gz=()=>{var t;return(t=Oy())===null||t===void 0?void 0:t.config},PC=t=>{var e;return(e=Oy())===null||e===void 0?void 0:e[`_${t}`]};class Qz{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Yz(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),u="";return[Wf(JSON.stringify(n)),Wf(JSON.stringify(l)),u].join(".")}const Xz="FirebaseError";class vi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Xz,Object.setPrototypeOf(this,vi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ec.prototype.create)}}class ec{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?Zz(s,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new vi(i,u,r)}}function Zz(t,e){return t.replace(Jz,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Jz=/\{\$([^}]+)}/g;function eB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function jf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],l=e[i];if(iT(s)&&iT(l)){if(!jf(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function iT(t){return t!==null&&typeof t=="object"}function tc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function tB(t,e){const n=new nB(t,e);return n.subscribe.bind(n)}class nB{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");rB(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Em),i.error===void 0&&(i.error=Em),i.complete===void 0&&(i.complete=Em);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rB(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Em(){}function Qe(t){return t&&t._delegate?t._delegate:t}class Ys{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const As="[DEFAULT]";class iB{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Qz;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oB(e))try{this.getOrInitializeService({instanceIdentifier:As})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=As){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=As){return this.instances.has(e)}getOptions(e=As){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&l.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const l=this.instances.get(i);return l&&e(l,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:sB(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=As){return this.component?this.component.multipleInstances?e:As:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sB(t){return t===As?void 0:t}function oB(t){return t.instantiationMode==="EAGER"}class aB{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new iB(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var De;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(De||(De={}));const lB={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},uB=De.INFO,cB={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},hB=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=cB[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Py{constructor(e){this.name=e,this._logLevel=uB,this._logHandler=hB,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const fB=(t,e)=>e.some(n=>t instanceof n);let sT,oT;function dB(){return sT||(sT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pB(){return oT||(oT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const MC=new WeakMap,Z0=new WeakMap,$C=new WeakMap,Sm=new WeakMap,My=new WeakMap;function gB(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(Ji(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&MC.set(n,t)}).catch(()=>{}),My.set(e,t),e}function mB(t){if(Z0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});Z0.set(t,e)}let J0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Z0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$C.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ji(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function vB(t){J0=t(J0)}function yB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Tm(this),e,...n);return $C.set(r,e.sort?e.sort():[e]),Ji(r)}:pB().includes(t)?function(...e){return t.apply(Tm(this),e),Ji(MC.get(this))}:function(...e){return Ji(t.apply(Tm(this),e))}}function _B(t){return typeof t=="function"?yB(t):(t instanceof IDBTransaction&&mB(t),fB(t,dB())?new Proxy(t,J0):t)}function Ji(t){if(t instanceof IDBRequest)return gB(t);if(Sm.has(t))return Sm.get(t);const e=_B(t);return e!==t&&(Sm.set(t,e),My.set(e,t)),e}const Tm=t=>My.get(t);function wB(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(t,e),u=Ji(l);return r&&l.addEventListener("upgradeneeded",h=>{r(Ji(l.result),h.oldVersion,h.newVersion,Ji(l.transaction))}),n&&l.addEventListener("blocked",()=>n()),u.then(h=>{s&&h.addEventListener("close",()=>s()),i&&h.addEventListener("versionchange",()=>i())}).catch(()=>{}),u}const EB=["get","getKey","getAll","getAllKeys","count"],SB=["put","add","delete","clear"],Im=new Map;function aT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Im.get(e))return Im.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=SB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||EB.includes(n)))return;const s=async function(l,...u){const h=this.transaction(l,i?"readwrite":"readonly");let f=h.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),i&&h.done]))[0]};return Im.set(e,s),s}vB(t=>({...t,get:(e,n,r)=>aT(e,n)||t.get(e,n,r),has:(e,n)=>!!aT(e,n)||t.has(e,n)}));class TB{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(IB(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function IB(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ev="@firebase/app",lT="0.9.0";const Xs=new Py("@firebase/app"),xB="@firebase/app-compat",kB="@firebase/analytics-compat",CB="@firebase/analytics",AB="@firebase/app-check-compat",RB="@firebase/app-check",DB="@firebase/auth",NB="@firebase/auth-compat",bB="@firebase/database",LB="@firebase/database-compat",OB="@firebase/functions",PB="@firebase/functions-compat",MB="@firebase/installations",$B="@firebase/installations-compat",UB="@firebase/messaging",FB="@firebase/messaging-compat",zB="@firebase/performance",BB="@firebase/performance-compat",VB="@firebase/remote-config",HB="@firebase/remote-config-compat",WB="@firebase/storage",jB="@firebase/storage-compat",qB="@firebase/firestore",KB="@firebase/firestore-compat",GB="firebase",QB="9.15.0";const tv="[DEFAULT]",YB={[ev]:"fire-core",[xB]:"fire-core-compat",[CB]:"fire-analytics",[kB]:"fire-analytics-compat",[RB]:"fire-app-check",[AB]:"fire-app-check-compat",[DB]:"fire-auth",[NB]:"fire-auth-compat",[bB]:"fire-rtdb",[LB]:"fire-rtdb-compat",[OB]:"fire-fn",[PB]:"fire-fn-compat",[MB]:"fire-iid",[$B]:"fire-iid-compat",[UB]:"fire-fcm",[FB]:"fire-fcm-compat",[zB]:"fire-perf",[BB]:"fire-perf-compat",[VB]:"fire-rc",[HB]:"fire-rc-compat",[WB]:"fire-gcs",[jB]:"fire-gcs-compat",[qB]:"fire-fst",[KB]:"fire-fst-compat","fire-js":"fire-js",[GB]:"fire-js-all"};const qf=new Map,nv=new Map;function XB(t,e){try{t.container.addComponent(e)}catch(n){Xs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _a(t){const e=t.name;if(nv.has(e))return Xs.debug(`There were multiple attempts to register component ${e}.`),!1;nv.set(e,t);for(const n of qf.values())XB(n,t);return!0}function $y(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const ZB={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},es=new ec("app","Firebase",ZB);class JB{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw es.create("app-deleted",{appName:this._name})}}const nc=QB;function UC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:tv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw es.create("bad-app-name",{appName:String(i)});if(n||(n=Gz()),!n)throw es.create("no-options");const s=qf.get(i);if(s){if(jf(n,s.options)&&jf(r,s.config))return s;throw es.create("duplicate-app",{appName:i})}const l=new aB(i);for(const h of nv.values())l.addComponent(h);const u=new JB(n,r,l);return qf.set(i,u),u}function FC(t=tv){const e=qf.get(t);if(!e&&t===tv)return UC();if(!e)throw es.create("no-app",{appName:t});return e}function ts(t,e,n){var r;let i=(r=YB[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),l=e.match(/\s|\//);if(s||l){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xs.warn(u.join(" "));return}_a(new Ys(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const e4="firebase-heartbeat-database",t4=1,yu="firebase-heartbeat-store";let xm=null;function zC(){return xm||(xm=wB(e4,t4,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(yu)}}}).catch(t=>{throw es.create("idb-open",{originalErrorMessage:t.message})})),xm}async function n4(t){try{return(await zC()).transaction(yu).objectStore(yu).get(BC(t))}catch(e){if(e instanceof vi)Xs.warn(e.message);else{const n=es.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xs.warn(n.message)}}}async function uT(t,e){try{const r=(await zC()).transaction(yu,"readwrite");return await r.objectStore(yu).put(e,BC(t)),r.done}catch(n){if(n instanceof vi)Xs.warn(n.message);else{const r=es.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Xs.warn(r.message)}}}function BC(t){return`${t.name}!${t.options.appId}`}const r4=1024,i4=30*24*60*60*1e3;class s4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new a4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=cT();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=i4}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=cT(),{heartbeatsToSend:n,unsentEntries:r}=o4(this._heartbeatsCache.heartbeats),i=Wf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function cT(){return new Date().toISOString().substring(0,10)}function o4(t,e=r4){const n=[];let r=t.slice();for(const i of t){const s=n.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),hT(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),hT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class a4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Bz()?Vz().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await n4(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return uT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return uT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function hT(t){return Wf(JSON.stringify({version:2,heartbeats:t})).length}function l4(t){_a(new Ys("platform-logger",e=>new TB(e),"PRIVATE")),_a(new Ys("heartbeat",e=>new s4(e),"PRIVATE")),ts(ev,lT,t),ts(ev,lT,"esm2017"),ts("fire-js","")}l4("");var u4="firebase",c4="9.15.0";ts(u4,c4,"app");var h4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ee,Uy=Uy||{},ce=h4||self;function Kf(){}function Ud(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function rc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function f4(t){return Object.prototype.hasOwnProperty.call(t,km)&&t[km]||(t[km]=++d4)}var km="closure_uid_"+(1e9*Math.random()>>>0),d4=0;function p4(t,e,n){return t.call.apply(t.bind,arguments)}function g4(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function jt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?jt=p4:jt=g4,jt.apply(null,arguments)}function Mh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Mt(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,s){for(var l=Array(arguments.length-2),u=2;u<arguments.length;u++)l[u-2]=arguments[u];return e.prototype[i].apply(r,l)}}function ps(){this.s=this.s,this.o=this.o}var m4=0;ps.prototype.s=!1;ps.prototype.na=function(){!this.s&&(this.s=!0,this.M(),m4!=0)&&f4(this)};ps.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const VC=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Fy(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function fT(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Ud(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let l=0;l<s;l++)t[i+l]=r[l]}else t.push(r)}}function qt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}qt.prototype.h=function(){this.defaultPrevented=!0};var v4=function(){if(!ce.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ce.addEventListener("test",Kf,e),ce.removeEventListener("test",Kf,e)}catch{}return t}();function Gf(t){return/^[\s\xa0]*$/.test(t)}var dT=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Cm(t,e){return t<e?-1:t>e?1:0}function Fd(){var t=ce.navigator;return t&&(t=t.userAgent)?t:""}function Ir(t){return Fd().indexOf(t)!=-1}function zy(t){return zy[" "](t),t}zy[" "]=Kf;function y4(t){var e=E4;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var _4=Ir("Opera"),wa=Ir("Trident")||Ir("MSIE"),HC=Ir("Edge"),rv=HC||wa,WC=Ir("Gecko")&&!(Fd().toLowerCase().indexOf("webkit")!=-1&&!Ir("Edge"))&&!(Ir("Trident")||Ir("MSIE"))&&!Ir("Edge"),w4=Fd().toLowerCase().indexOf("webkit")!=-1&&!Ir("Edge");function jC(){var t=ce.document;return t?t.documentMode:void 0}var Qf;e:{var Am="",Rm=function(){var t=Fd();if(WC)return/rv:([^\);]+)(\)|;)/.exec(t);if(HC)return/Edge\/([\d\.]+)/.exec(t);if(wa)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(w4)return/WebKit\/(\S+)/.exec(t);if(_4)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Rm&&(Am=Rm?Rm[1]:""),wa){var Dm=jC();if(Dm!=null&&Dm>parseFloat(Am)){Qf=String(Dm);break e}}Qf=Am}var E4={};function S4(){return y4(function(){let t=0;const e=dT(String(Qf)).split("."),n=dT("9").split("."),r=Math.max(e.length,n.length);for(let l=0;t==0&&l<r;l++){var i=e[l]||"",s=n[l]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=Cm(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||Cm(i[2].length==0,s[2].length==0)||Cm(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var iv;if(ce.document&&wa){var pT=jC();iv=pT||parseInt(Qf,10)||void 0}else iv=void 0;var T4=iv;function _u(t,e){if(qt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(WC){e:{try{zy(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:I4[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&_u.X.h.call(this)}}Mt(_u,qt);var I4={2:"touch",3:"pen",4:"mouse"};_u.prototype.h=function(){_u.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ic="closure_listenable_"+(1e6*Math.random()|0),x4=0;function k4(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++x4,this.ba=this.ea=!1}function zd(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function By(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function qC(t){const e={};for(const n in t)e[n]=t[n];return e}const gT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function KC(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<gT.length;s++)n=gT[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Bd(t){this.src=t,this.g={},this.h=0}Bd.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var l=ov(t,e,r,i);return-1<l?(e=t[l],n||(e.ea=!1)):(e=new k4(e,this.src,s,!!r,i),e.ea=n,t.push(e)),e};function sv(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=VC(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(zd(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function ov(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}var Vy="closure_lm_"+(1e6*Math.random()|0),Nm={};function GC(t,e,n,r,i){if(r&&r.once)return YC(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)GC(t,e[s],n,r,i);return null}return n=jy(n),t&&t[ic]?t.N(e,n,rc(r)?!!r.capture:!!r,i):QC(t,e,n,!1,r,i)}function QC(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var l=rc(i)?!!i.capture:!!i,u=Wy(t);if(u||(t[Vy]=u=new Bd(t)),n=u.add(e,n,r,l,s),n.proxy)return n;if(r=C4(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)v4||(i=l),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ZC(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function C4(){function t(n){return e.call(t.src,t.listener,n)}const e=A4;return t}function YC(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)YC(t,e[s],n,r,i);return null}return n=jy(n),t&&t[ic]?t.O(e,n,rc(r)?!!r.capture:!!r,i):QC(t,e,n,!0,r,i)}function XC(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)XC(t,e[s],n,r,i);else r=rc(r)?!!r.capture:!!r,n=jy(n),t&&t[ic]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=ov(s,n,r,i),-1<n&&(zd(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Wy(t))&&(e=t.g[e.toString()],t=-1,e&&(t=ov(e,n,r,i)),(n=-1<t?e[t]:null)&&Hy(n))}function Hy(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[ic])sv(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ZC(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Wy(e))?(sv(n,t),n.h==0&&(n.src=null,e[Vy]=null)):zd(t)}}}function ZC(t){return t in Nm?Nm[t]:Nm[t]="on"+t}function A4(t,e){if(t.ba)t=!0;else{e=new _u(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&Hy(t),t=n.call(r,e)}return t}function Wy(t){return t=t[Vy],t instanceof Bd?t:null}var bm="__closure_events_fn_"+(1e9*Math.random()>>>0);function jy(t){return typeof t=="function"?t:(t[bm]||(t[bm]=function(e){return t.handleEvent(e)}),t[bm])}function Ct(){ps.call(this),this.i=new Bd(this),this.P=this,this.I=null}Mt(Ct,ps);Ct.prototype[ic]=!0;Ct.prototype.removeEventListener=function(t,e,n,r){XC(this,t,e,n,r)};function Ot(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new qt(e,t);else if(e instanceof qt)e.target=e.target||t;else{var i=e;e=new qt(r,t),KC(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var l=e.g=n[s];i=$h(l,r,!0,e)&&i}if(l=e.g=t,i=$h(l,r,!0,e)&&i,i=$h(l,r,!1,e)&&i,n)for(s=0;s<n.length;s++)l=e.g=n[s],i=$h(l,r,!1,e)&&i}Ct.prototype.M=function(){if(Ct.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)zd(n[r]);delete t.g[e],t.h--}}this.I=null};Ct.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Ct.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function $h(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var l=e[s];if(l&&!l.ba&&l.capture==n){var u=l.listener,h=l.ha||l.src;l.ea&&sv(t.i,l),i=u.call(h,r)!==!1&&i}}return i&&!r.defaultPrevented}var qy=ce.JSON.stringify;function R4(){var t=tA;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class D4{constructor(){this.h=this.g=null}add(e,n){const r=JC.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var JC=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new N4,t=>t.reset());class N4{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function b4(t){ce.setTimeout(()=>{throw t},0)}function eA(t,e){av||L4(),lv||(av(),lv=!0),tA.add(t,e)}var av;function L4(){var t=ce.Promise.resolve(void 0);av=function(){t.then(O4)}}var lv=!1,tA=new D4;function O4(){for(var t;t=R4();){try{t.h.call(t.g)}catch(n){b4(n)}var e=JC;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}lv=!1}function Vd(t,e){Ct.call(this),this.h=t||1,this.g=e||ce,this.j=jt(this.lb,this),this.l=Date.now()}Mt(Vd,Ct);ee=Vd.prototype;ee.ca=!1;ee.R=null;ee.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ot(this,"tick"),this.ca&&(Ky(this),this.start()))}};ee.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Ky(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}ee.M=function(){Vd.X.M.call(this),Ky(this),delete this.g};function Gy(t,e,n){if(typeof t=="function")n&&(t=jt(t,n));else if(t&&typeof t.handleEvent=="function")t=jt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ce.setTimeout(t,e||0)}function nA(t){t.g=Gy(()=>{t.g=null,t.i&&(t.i=!1,nA(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class P4 extends ps{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:nA(this)}M(){super.M(),this.g&&(ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wu(t){ps.call(this),this.h=t,this.g={}}Mt(wu,ps);var mT=[];function rA(t,e,n,r){Array.isArray(n)||(n&&(mT[0]=n.toString()),n=mT);for(var i=0;i<n.length;i++){var s=GC(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function iA(t){By(t.g,function(e,n){this.g.hasOwnProperty(n)&&Hy(e)},t),t.g={}}wu.prototype.M=function(){wu.X.M.call(this),iA(this)};wu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Hd(){this.g=!0}Hd.prototype.Aa=function(){this.g=!1};function M4(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var l="",u=s.split("&"),h=0;h<u.length;h++){var f=u[h].split("=");if(1<f.length){var p=f[0];f=f[1];var m=p.split("_");l=2<=m.length&&m[1]=="type"?l+(p+"="+f+"&"):l+(p+"=redacted&")}}else l=null;else l=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+l})}function $4(t,e,n,r,i,s,l){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+l})}function Qo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+F4(t,n)+(r?" "+r:"")})}function U4(t,e){t.info(function(){return"TIMEOUT: "+e})}Hd.prototype.info=function(){};function F4(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var l=1;l<i.length;l++)i[l]=""}}}}return qy(n)}catch{return e}}var ao={},vT=null;function Wd(){return vT=vT||new Ct}ao.Pa="serverreachability";function sA(t){qt.call(this,ao.Pa,t)}Mt(sA,qt);function Eu(t){const e=Wd();Ot(e,new sA(e))}ao.STAT_EVENT="statevent";function oA(t,e){qt.call(this,ao.STAT_EVENT,t),this.stat=e}Mt(oA,qt);function nn(t){const e=Wd();Ot(e,new oA(e,t))}ao.Qa="timingevent";function aA(t,e){qt.call(this,ao.Qa,t),this.size=e}Mt(aA,qt);function sc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ce.setTimeout(function(){t()},e)}var jd={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},lA={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Qy(){}Qy.prototype.h=null;function yT(t){return t.h||(t.h=t.i())}function uA(){}var oc={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Yy(){qt.call(this,"d")}Mt(Yy,qt);function Xy(){qt.call(this,"c")}Mt(Xy,qt);var uv;function qd(){}Mt(qd,Qy);qd.prototype.g=function(){return new XMLHttpRequest};qd.prototype.i=function(){return{}};uv=new qd;function ac(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new wu(this),this.O=z4,t=rv?125:void 0,this.T=new Vd(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new cA}function cA(){this.i=null,this.g="",this.h=!1}var z4=45e3,cv={},Yf={};ee=ac.prototype;ee.setTimeout=function(t){this.O=t};function hv(t,e,n){t.K=1,t.v=Gd(ci(e)),t.s=n,t.P=!0,hA(t,null)}function hA(t,e){t.F=Date.now(),lc(t),t.A=ci(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),_A(n.i,"t",r),t.C=0,n=t.l.H,t.h=new cA,t.g=zA(t.l,n?e:null,!t.s),0<t.N&&(t.L=new P4(jt(t.La,t,t.g),t.N)),rA(t.S,t.g,"readystatechange",t.ib),e=t.H?qC(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),Eu(),M4(t.j,t.u,t.A,t.m,t.U,t.s)}ee.ib=function(t){t=t.target;const e=this.L;e&&ni(t)==3?e.l():this.La(t)};ee.La=function(t){try{if(t==this.g)e:{const p=ni(this.g);var e=this.g.Ea();const m=this.g.aa();if(!(3>p)&&(p!=3||rv||this.g&&(this.h.h||this.g.fa()||ST(this.g)))){this.I||p!=4||e==7||(e==8||0>=m?Eu(3):Eu(2)),Kd(this);var n=this.g.aa();this.Y=n;t:if(fA(this)){var r=ST(this.g);t="";var i=r.length,s=ni(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){bs(this),Wl(this);var l="";break t}this.h.i=new ce.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,l=this.h.g}else l=this.g.fa();if(this.i=n==200,$4(this.j,this.u,this.A,this.m,this.U,p,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var u,h=this.g;if((u=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Gf(u)){var f=u;break t}}f=null}if(n=f)Qo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,fv(this,n);else{this.i=!1,this.o=3,nn(12),bs(this),Wl(this);break e}}this.P?(dA(this,p,l),rv&&this.i&&p==3&&(rA(this.S,this.T,"tick",this.hb),this.T.start())):(Qo(this.j,this.m,l,null),fv(this,l)),p==4&&bs(this),this.i&&!this.I&&(p==4?MA(this.l,this):(this.i=!1,lc(this)))}else n==400&&0<l.indexOf("Unknown SID")?(this.o=3,nn(12)):(this.o=0,nn(13)),bs(this),Wl(this)}}}catch{}finally{}};function fA(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function dA(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=B4(t,n),i==Yf){e==4&&(t.o=4,nn(14),r=!1),Qo(t.j,t.m,null,"[Incomplete Response]");break}else if(i==cv){t.o=4,nn(15),Qo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Qo(t.j,t.m,i,null),fv(t,i);fA(t)&&i!=Yf&&i!=cv&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,nn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),i_(e),e.K=!0,nn(11))):(Qo(t.j,t.m,n,"[Invalid Chunked Response]"),bs(t),Wl(t))}ee.hb=function(){if(this.g){var t=ni(this.g),e=this.g.fa();this.C<e.length&&(Kd(this),dA(this,t,e),this.i&&t!=4&&lc(this))}};function B4(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Yf:(n=Number(e.substring(n,r)),isNaN(n)?cv:(r+=1,r+n>e.length?Yf:(e=e.substr(r,n),t.C=r+n,e)))}ee.cancel=function(){this.I=!0,bs(this)};function lc(t){t.V=Date.now()+t.O,pA(t,t.O)}function pA(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=sc(jt(t.gb,t),e)}function Kd(t){t.B&&(ce.clearTimeout(t.B),t.B=null)}ee.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(U4(this.j,this.A),this.K!=2&&(Eu(),nn(17)),bs(this),this.o=2,Wl(this)):pA(this,this.V-t)};function Wl(t){t.l.G==0||t.I||MA(t.l,t)}function bs(t){Kd(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,Ky(t.T),iA(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function fv(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||dv(n.h,t))){if(!t.J&&dv(n.h,t)&&n.G==3){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)Jf(n),Xd(n);else break e;r_(n),nn(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=sc(jt(n.cb,n),6e3));if(1>=SA(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Ls(n,11)}else if((t.J||n.g==t)&&Jf(n),!Gf(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let f=i[e];if(n.T=f[0],f=f[1],n.G==2)if(f[0]=="c"){n.I=f[1],n.ka=f[2];const p=f[3];p!=null&&(n.ma=p,n.j.info("VER="+n.ma));const m=f[4];m!=null&&(n.Ca=m,n.j.info("SVER="+n.Ca));const v=f[5];v!=null&&typeof v=="number"&&0<v&&(r=1.5*v,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const w=t.g;if(w){const x=w.g?w.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(x){var s=r.h;s.g||x.indexOf("spdy")==-1&&x.indexOf("quic")==-1&&x.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Zy(s,s.h),s.h=null))}if(r.D){const A=w.g?w.g.getResponseHeader("X-HTTP-Session-Id"):null;A&&(r.za=A,Ge(r.F,r.D,A))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var l=t;if(r.sa=FA(r,r.H?r.ka:null,r.V),l.J){TA(r.h,l);var u=l,h=r.J;h&&u.setTimeout(h),u.B&&(Kd(u),lc(u)),r.g=l}else OA(r);0<n.i.length&&Zd(n)}else f[0]!="stop"&&f[0]!="close"||Ls(n,7);else n.G==3&&(f[0]=="stop"||f[0]=="close"?f[0]=="stop"?Ls(n,7):n_(n):f[0]!="noop"&&n.l&&n.l.wa(f),n.A=0)}}Eu(4)}catch{}}function V4(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Ud(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function H4(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Ud(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function gA(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Ud(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=H4(t),r=V4(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var mA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function W4(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Bs(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Bs){this.h=e!==void 0?e:t.h,Xf(this,t.j),this.s=t.s,this.g=t.g,Zf(this,t.m),this.l=t.l,e=t.i;var n=new Su;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),_T(this,n),this.o=t.o}else t&&(n=String(t).match(mA))?(this.h=!!e,Xf(this,n[1]||"",!0),this.s=Dl(n[2]||""),this.g=Dl(n[3]||"",!0),Zf(this,n[4]),this.l=Dl(n[5]||"",!0),_T(this,n[6]||"",!0),this.o=Dl(n[7]||"")):(this.h=!!e,this.i=new Su(null,this.h))}Bs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Nl(e,wT,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Nl(e,wT,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Nl(n,n.charAt(0)=="/"?K4:q4,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Nl(n,Q4)),t.join("")};function ci(t){return new Bs(t)}function Xf(t,e,n){t.j=n?Dl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Zf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function _T(t,e,n){e instanceof Su?(t.i=e,Y4(t.i,t.h)):(n||(e=Nl(e,G4)),t.i=new Su(e,t.h))}function Ge(t,e,n){t.i.set(e,n)}function Gd(t){return Ge(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Dl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Nl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,j4),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function j4(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var wT=/[#\/\?@]/g,q4=/[#\?:]/g,K4=/[#\?]/g,G4=/[#\?@]/g,Q4=/#/g;function Su(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function gs(t){t.g||(t.g=new Map,t.h=0,t.i&&W4(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ee=Su.prototype;ee.add=function(t,e){gs(this),this.i=null,t=Ma(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function vA(t,e){gs(t),e=Ma(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function yA(t,e){return gs(t),e=Ma(t,e),t.g.has(e)}ee.forEach=function(t,e){gs(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};ee.oa=function(){gs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};ee.W=function(t){gs(this);let e=[];if(typeof t=="string")yA(this,t)&&(e=e.concat(this.g.get(Ma(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ee.set=function(t,e){return gs(this),this.i=null,t=Ma(this,t),yA(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ee.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function _A(t,e,n){vA(t,e),0<n.length&&(t.i=null,t.g.set(Ma(t,e),Fy(n)),t.h+=n.length)}ee.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),l=this.W(r);for(r=0;r<l.length;r++){var i=s;l[r]!==""&&(i+="="+encodeURIComponent(String(l[r]))),t.push(i)}}return this.i=t.join("&")};function Ma(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Y4(t,e){e&&!t.j&&(gs(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(vA(this,r),_A(this,i,n))},t)),t.j=e}var X4=class{constructor(e,n){this.h=e,this.g=n}};function wA(t){this.l=t||Z4,ce.PerformanceNavigationTiming?(t=ce.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ce.g&&ce.g.Ga&&ce.g.Ga()&&ce.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Z4=10;function EA(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function SA(t){return t.h?1:t.g?t.g.size:0}function dv(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Zy(t,e){t.g?t.g.add(e):t.h=e}function TA(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}wA.prototype.cancel=function(){if(this.i=IA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function IA(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return Fy(t.i)}function Jy(){}Jy.prototype.stringify=function(t){return ce.JSON.stringify(t,void 0)};Jy.prototype.parse=function(t){return ce.JSON.parse(t,void 0)};function J4(){this.g=new Jy}function eV(t,e,n){const r=n||"";try{gA(t,function(i,s){let l=i;rc(i)&&(l=qy(i)),e.push(r+s+"="+encodeURIComponent(l))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function tV(t,e){const n=new Hd;if(ce.Image){const r=new Image;r.onload=Mh(Uh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Mh(Uh,n,r,"TestLoadImage: error",!1,e),r.onabort=Mh(Uh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Mh(Uh,n,r,"TestLoadImage: timeout",!1,e),ce.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Uh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function uc(t){this.l=t.ac||null,this.j=t.jb||!1}Mt(uc,Qy);uc.prototype.g=function(){return new Qd(this.l,this.j)};uc.prototype.i=function(t){return function(){return t}}({});function Qd(t,e){Ct.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=e_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Mt(Qd,Ct);var e_=0;ee=Qd.prototype;ee.open=function(t,e){if(this.readyState!=e_)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Tu(this)};ee.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||ce).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};ee.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,cc(this)),this.readyState=e_};ee.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Tu(this)),this.g&&(this.readyState=3,Tu(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof ce.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;xA(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function xA(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}ee.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?cc(this):Tu(this),this.readyState==3&&xA(this)}};ee.Va=function(t){this.g&&(this.response=this.responseText=t,cc(this))};ee.Ua=function(t){this.g&&(this.response=t,cc(this))};ee.ga=function(){this.g&&cc(this)};function cc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Tu(t)}ee.setRequestHeader=function(t,e){this.v.append(t,e)};ee.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ee.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Tu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Qd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var nV=ce.JSON.parse;function nt(t){Ct.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=kA,this.K=this.L=!1}Mt(nt,Ct);var kA="",rV=/^https?$/i,iV=["POST","PUT"];ee=nt.prototype;ee.Ka=function(t){this.L=t};ee.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():uv.g(),this.C=this.u?yT(this.u):yT(uv),this.g.onreadystatechange=jt(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){ET(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=ce.FormData&&t instanceof ce.FormData,!(0<=VC(iV,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,l]of n)this.g.setRequestHeader(s,l);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{RA(this),0<this.B&&((this.K=sV(this.g))?(this.g.timeout=this.B,this.g.ontimeout=jt(this.qa,this)):this.A=Gy(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){ET(this,s)}};function sV(t){return wa&&S4()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ee.qa=function(){typeof Uy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ot(this,"timeout"),this.abort(8))};function ET(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,CA(t),Yd(t)}function CA(t){t.D||(t.D=!0,Ot(t,"complete"),Ot(t,"error"))}ee.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ot(this,"complete"),Ot(this,"abort"),Yd(this))};ee.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Yd(this,!0)),nt.X.M.call(this)};ee.Ha=function(){this.s||(this.F||this.v||this.l?AA(this):this.fb())};ee.fb=function(){AA(this)};function AA(t){if(t.h&&typeof Uy<"u"&&(!t.C[1]||ni(t)!=4||t.aa()!=2)){if(t.v&&ni(t)==4)Gy(t.Ha,0,t);else if(Ot(t,"readystatechange"),ni(t)==4){t.h=!1;try{const u=t.aa();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=u===0){var i=String(t.H).match(mA)[1]||null;if(!i&&ce.self&&ce.self.location){var s=ce.self.location.protocol;i=s.substr(0,s.length-1)}r=!rV.test(i?i.toLowerCase():"")}n=r}if(n)Ot(t,"complete"),Ot(t,"success");else{t.m=6;try{var l=2<ni(t)?t.g.statusText:""}catch{l=""}t.j=l+" ["+t.aa()+"]",CA(t)}}finally{Yd(t)}}}}function Yd(t,e){if(t.g){RA(t);const n=t.g,r=t.C[0]?Kf:null;t.g=null,t.C=null,e||Ot(t,"ready");try{n.onreadystatechange=r}catch{}}}function RA(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(ce.clearTimeout(t.A),t.A=null)}function ni(t){return t.g?t.g.readyState:0}ee.aa=function(){try{return 2<ni(this)?this.g.status:-1}catch{return-1}};ee.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};ee.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),nV(e)}};function ST(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case kA:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}ee.Ea=function(){return this.m};ee.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function DA(t){let e="";return By(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function t_(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=DA(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ge(t,e,n))}function Il(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function NA(t){this.Ca=0,this.i=[],this.j=new Hd,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Il("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Il("baseRetryDelayMs",5e3,t),this.bb=Il("retryDelaySeedMs",1e4,t),this.$a=Il("forwardChannelMaxRetries",2,t),this.ta=Il("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new wA(t&&t.concurrentRequestLimit),this.Fa=new J4,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}ee=NA.prototype;ee.ma=8;ee.G=1;function n_(t){if(bA(t),t.G==3){var e=t.U++,n=ci(t.F);Ge(n,"SID",t.I),Ge(n,"RID",e),Ge(n,"TYPE","terminate"),hc(t,n),e=new ac(t,t.j,e,void 0),e.K=2,e.v=Gd(ci(n)),n=!1,ce.navigator&&ce.navigator.sendBeacon&&(n=ce.navigator.sendBeacon(e.v.toString(),"")),!n&&ce.Image&&(new Image().src=e.v,n=!0),n||(e.g=zA(e.l,null),e.g.da(e.v)),e.F=Date.now(),lc(e)}UA(t)}function Xd(t){t.g&&(i_(t),t.g.cancel(),t.g=null)}function bA(t){Xd(t),t.u&&(ce.clearTimeout(t.u),t.u=null),Jf(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&ce.clearTimeout(t.m),t.m=null)}function Zd(t){EA(t.h)||t.m||(t.m=!0,eA(t.Ja,t),t.C=0)}function oV(t,e){return SA(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=sc(jt(t.Ja,t,e),$A(t,t.C)),t.C++,!0)}ee.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new ac(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=qC(s),KC(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=LA(this,i,e),n=ci(this.F),Ge(n,"RID",t),Ge(n,"CVER",22),this.D&&Ge(n,"X-HTTP-Session-Id",this.D),hc(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(DA(s)))+"&"+e:this.o&&t_(n,this.o,s)),Zy(this.h,i),this.Ya&&Ge(n,"TYPE","init"),this.O?(Ge(n,"$req",e),Ge(n,"SID","null"),i.Z=!0,hv(i,n,null)):hv(i,n,e),this.G=2}}else this.G==3&&(t?TT(this,t):this.i.length==0||EA(this.h)||TT(this))};function TT(t,e){var n;e?n=e.m:n=t.U++;const r=ci(t.F);Ge(r,"SID",t.I),Ge(r,"RID",n),Ge(r,"AID",t.T),hc(t,r),t.o&&t.s&&t_(r,t.o,t.s),n=new ac(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=LA(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),Zy(t.h,n),hv(n,r,e)}function hc(t,e){t.ia&&By(t.ia,function(n,r){Ge(e,r,n)}),t.l&&gA({},function(n,r){Ge(e,r,n)})}function LA(t,e,n){n=Math.min(t.i.length,n);var r=t.l?jt(t.l.Ra,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const l=["count="+n];s==-1?0<n?(s=i[0].h,l.push("ofs="+s)):s=0:l.push("ofs="+s);let u=!0;for(let h=0;h<n;h++){let f=i[h].h;const p=i[h].g;if(f-=s,0>f)s=Math.max(0,i[h].h-100),u=!1;else try{eV(p,l,"req"+f+"_")}catch{r&&r(p)}}if(u){r=l.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function OA(t){t.g||t.u||(t.Z=1,eA(t.Ia,t),t.A=0)}function r_(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=sc(jt(t.Ia,t),$A(t,t.A)),t.A++,!0)}ee.Ia=function(){if(this.u=null,PA(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=sc(jt(this.eb,this),t)}};ee.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,nn(10),Xd(this),PA(this))};function i_(t){t.B!=null&&(ce.clearTimeout(t.B),t.B=null)}function PA(t){t.g=new ac(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=ci(t.sa);Ge(e,"RID","rpc"),Ge(e,"SID",t.I),Ge(e,"CI",t.L?"0":"1"),Ge(e,"AID",t.T),Ge(e,"TYPE","xmlhttp"),hc(t,e),t.o&&t.s&&t_(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=Gd(ci(e)),n.s=null,n.P=!0,hA(n,t)}ee.cb=function(){this.v!=null&&(this.v=null,Xd(this),r_(this),nn(19))};function Jf(t){t.v!=null&&(ce.clearTimeout(t.v),t.v=null)}function MA(t,e){var n=null;if(t.g==e){Jf(t),i_(t),t.g=null;var r=2}else if(dv(t.h,e))n=e.D,TA(t.h,e),r=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=Wd(),Ot(r,new aA(r,n)),Zd(t)}else OA(t);else if(i=e.o,i==3||i==0&&0<t.pa||!(r==1&&oV(t,e)||r==2&&r_(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:Ls(t,5);break;case 4:Ls(t,10);break;case 3:Ls(t,6);break;default:Ls(t,2)}}}function $A(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function Ls(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=jt(t.kb,t);n||(n=new Bs("//www.google.com/images/cleardot.gif"),ce.location&&ce.location.protocol=="http"||Xf(n,"https"),Gd(n)),tV(n.toString(),r)}else nn(2);t.G=0,t.l&&t.l.va(e),UA(t),bA(t)}ee.kb=function(t){t?(this.j.info("Successfully pinged google.com"),nn(2)):(this.j.info("Failed to ping google.com"),nn(1))};function UA(t){if(t.G=0,t.la=[],t.l){const e=IA(t.h);(e.length!=0||t.i.length!=0)&&(fT(t.la,e),fT(t.la,t.i),t.h.i.length=0,Fy(t.i),t.i.length=0),t.l.ua()}}function FA(t,e,n){var r=n instanceof Bs?ci(n):new Bs(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),Zf(r,r.m);else{var i=ce.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Bs(null,void 0);r&&Xf(s,r),e&&(s.g=e),i&&Zf(s,i),n&&(s.l=n),r=s}return n=t.D,e=t.za,n&&e&&Ge(r,n,e),Ge(r,"VER",t.ma),hc(t,r),r}function zA(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new nt(new uc({jb:!0})):new nt(t.ra),e.Ka(t.H),e}function BA(){}ee=BA.prototype;ee.xa=function(){};ee.wa=function(){};ee.va=function(){};ee.ua=function(){};ee.Ra=function(){};function ed(){if(wa&&!(10<=Number(T4)))throw Error("Environmental error: no available transport.")}ed.prototype.g=function(t,e){return new bn(t,e)};function bn(t,e){Ct.call(this),this.g=new NA(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!Gf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Gf(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new $a(this)}Mt(bn,Ct);bn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;nn(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=FA(t,null,t.V),Zd(t)};bn.prototype.close=function(){n_(this.g)};bn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=qy(t),t=n);e.i.push(new X4(e.ab++,t)),e.G==3&&Zd(e)};bn.prototype.M=function(){this.g.l=null,delete this.j,n_(this.g),delete this.g,bn.X.M.call(this)};function VA(t){Yy.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Mt(VA,Yy);function HA(){Xy.call(this),this.status=1}Mt(HA,Xy);function $a(t){this.g=t}Mt($a,BA);$a.prototype.xa=function(){Ot(this.g,"a")};$a.prototype.wa=function(t){Ot(this.g,new VA(t))};$a.prototype.va=function(t){Ot(this.g,new HA)};$a.prototype.ua=function(){Ot(this.g,"b")};ed.prototype.createWebChannel=ed.prototype.g;bn.prototype.send=bn.prototype.u;bn.prototype.open=bn.prototype.m;bn.prototype.close=bn.prototype.close;jd.NO_ERROR=0;jd.TIMEOUT=8;jd.HTTP_ERROR=6;lA.COMPLETE="complete";uA.EventType=oc;oc.OPEN="a";oc.CLOSE="b";oc.ERROR="c";oc.MESSAGE="d";Ct.prototype.listen=Ct.prototype.N;nt.prototype.listenOnce=nt.prototype.O;nt.prototype.getLastError=nt.prototype.Oa;nt.prototype.getLastErrorCode=nt.prototype.Ea;nt.prototype.getStatus=nt.prototype.aa;nt.prototype.getResponseJson=nt.prototype.Sa;nt.prototype.getResponseText=nt.prototype.fa;nt.prototype.send=nt.prototype.da;nt.prototype.setWithCredentials=nt.prototype.Ka;var aV=function(){return new ed},lV=function(){return Wd()},Lm=jd,uV=lA,cV=ao,IT={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},hV=uc,Fh=uA,fV=nt;const xT="@firebase/firestore";class Bt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bt.UNAUTHENTICATED=new Bt(null),Bt.GOOGLE_CREDENTIALS=new Bt("google-credentials-uid"),Bt.FIRST_PARTY=new Bt("first-party-uid"),Bt.MOCK_USER=new Bt("mock-user");let Ua="9.15.0";const Zs=new Py("@firebase/firestore");function kT(){return Zs.logLevel}function ne(t,...e){if(Zs.logLevel<=De.DEBUG){const n=e.map(s_);Zs.debug(`Firestore (${Ua}): ${t}`,...n)}}function hi(t,...e){if(Zs.logLevel<=De.ERROR){const n=e.map(s_);Zs.error(`Firestore (${Ua}): ${t}`,...n)}}function pv(t,...e){if(Zs.logLevel<=De.WARN){const n=e.map(s_);Zs.warn(`Firestore (${Ua}): ${t}`,...n)}}function s_(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}var e}function oe(t="Unexpected state"){const e=`FIRESTORE (${Ua}) INTERNAL ASSERTION FAILED: `+t;throw hi(e),new Error(e)}function Le(t,e){t||oe()}function fe(t,e){return t}const M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends vi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ar{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class WA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Bt.UNAUTHENTICATED))}shutdown(){}}class pV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class gV{constructor(e){this.t=e,this.currentUser=Bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let s=new Ar;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ar,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const h=s;e.enqueueRetryable(async()=>{await h.promise,await i(this.currentUser)})},u=h=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.auth.addAuthTokenListener(this.o),l()};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ar)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Le(typeof r.accessToken=="string"),new WA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string"),new Bt(e)}}class mV{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Bt.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Le(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class vV{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new mV(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(Bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _V{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=s=>{s.error!=null&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.A;return this.A=s.token,ne("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Le(typeof n.token=="string"),this.A=n.token,new yV(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function wV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class jA{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=wV(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function be(t,e){return t<e?-1:t>e?1:0}function Ea(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class mt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new q(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new mt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class le{constructor(e){this.timestamp=e}static fromTimestamp(e){return new le(e)}static min(){return new le(new mt(0,0))}static max(){return new le(new mt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Iu{constructor(e,n,r){n===void 0?n=0:n>e.length&&oe(),r===void 0?r=e.length-n:r>e.length-n&&oe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Iu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Iu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),l=n.get(i);if(s<l)return-1;if(s>l)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Fe extends Iu{construct(e,n,r){return new Fe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new q(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Fe(n)}static emptyPath(){return new Fe([])}}const EV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Iu{construct(e,n,r){return new Wt(e,n,r)}static isValidIdentifier(e){return EV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Wt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new q(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new q(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new q(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(s(),i++)}if(s(),l)throw new q(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(n)}static emptyPath(){return new Wt([])}}class te{constructor(e){this.path=e}static fromPath(e){return new te(Fe.fromString(e))}static fromName(e){return new te(Fe.fromString(e).popFirst(5))}static empty(){return new te(Fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Fe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Fe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new Fe(e.slice()))}}function SV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=le.fromTimestamp(r===1e9?new mt(n+1,0):new mt(n,r));return new ls(i,te.empty(),e)}function TV(t){return new ls(t.readTime,t.key,-1)}class ls{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ls(le.min(),te.empty(),-1)}static max(){return new ls(le.max(),te.empty(),-1)}}function IV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:be(t.largestBatchId,e.largestBatchId))}const xV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function fc(t){if(t.code!==M.FAILED_PRECONDITION||t.message!==xV)throw t;ne("LocalStore","Unexpectedly lost primary lease")}class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,r)=>{n(e)})}static reject(e){return new H((n,r)=>{r(e)})}static waitFor(e){return new H((n,r)=>{let i=0,s=0,l=!1;e.forEach(u=>{++i,u.next(()=>{++s,l&&s===i&&n()},h=>r(h))}),l=!0,s===i&&n()})}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next(i=>i?H.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new H((r,i)=>{const s=e.length,l=new Array(s);let u=0;for(let h=0;h<s;h++){const f=h;n(e[f]).next(p=>{l[f]=p,++u,u===s&&r(l)},p=>i(p))}})}static doWhile(e,n){return new H((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function dc(t){return t.name==="IndexedDbTransactionError"}class o_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>n.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}o_.at=-1;class CV{constructor(e,n,r,i,s,l,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.useFetchStreams=h}}class xu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new xu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof xu&&e.projectId===this.projectId&&e.database===this.database}}function CT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function lo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function qA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function pc(t){return t==null}function td(t){return t===0&&1/t==-1/0}function AV(t){return typeof t=="number"&&Number.isInteger(t)&&!td(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Qt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const RV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function us(t){if(Le(!!t),typeof t=="string"){let e=0;const n=RV.exec(t);if(Le(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:lt(t.seconds),nanos:lt(t.nanos)}}function lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Sa(t){return typeof t=="string"?Qt.fromBase64String(t):Qt.fromUint8Array(t)}function a_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function KA(t){const e=t.mapValue.fields.__previous_value__;return a_(e)?KA(e):e}function ku(t){const e=us(t.mapValue.fields.__local_write_time__.timestampValue);return new mt(e.seconds,e.nanos)}const zh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Js(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?a_(t)?4:DV(t)?9007199254740991:10:oe()}function Or(t,e){if(t===e)return!0;const n=Js(t);if(n!==Js(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ku(t).isEqual(ku(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=us(r.timestampValue),l=us(i.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Sa(r.bytesValue).isEqual(Sa(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return lt(r.geoPointValue.latitude)===lt(i.geoPointValue.latitude)&&lt(r.geoPointValue.longitude)===lt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return lt(r.integerValue)===lt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=lt(r.doubleValue),l=lt(i.doubleValue);return s===l?td(s)===td(l):isNaN(s)&&isNaN(l)}return!1}(t,e);case 9:return Ea(t.arrayValue.values||[],e.arrayValue.values||[],Or);case 10:return function(r,i){const s=r.mapValue.fields||{},l=i.mapValue.fields||{};if(CT(s)!==CT(l))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(l[u]===void 0||!Or(s[u],l[u])))return!1;return!0}(t,e);default:return oe()}}function Cu(t,e){return(t.values||[]).find(n=>Or(n,e))!==void 0}function Ta(t,e){if(t===e)return 0;const n=Js(t),r=Js(e);if(n!==r)return be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return be(t.booleanValue,e.booleanValue);case 2:return function(i,s){const l=lt(i.integerValue||i.doubleValue),u=lt(s.integerValue||s.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return AT(t.timestampValue,e.timestampValue);case 4:return AT(ku(t),ku(e));case 5:return be(t.stringValue,e.stringValue);case 6:return function(i,s){const l=Sa(i),u=Sa(s);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const l=i.split("/"),u=s.split("/");for(let h=0;h<l.length&&h<u.length;h++){const f=be(l[h],u[h]);if(f!==0)return f}return be(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const l=be(lt(i.latitude),lt(s.latitude));return l!==0?l:be(lt(i.longitude),lt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const l=i.values||[],u=s.values||[];for(let h=0;h<l.length&&h<u.length;++h){const f=Ta(l[h],u[h]);if(f)return f}return be(l.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===zh.mapValue&&s===zh.mapValue)return 0;if(i===zh.mapValue)return 1;if(s===zh.mapValue)return-1;const l=i.fields||{},u=Object.keys(l),h=s.fields||{},f=Object.keys(h);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){const m=be(u[p],f[p]);if(m!==0)return m;const v=Ta(l[u[p]],h[f[p]]);if(v!==0)return v}return be(u.length,f.length)}(t.mapValue,e.mapValue);default:throw oe()}}function AT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return be(t,e);const n=us(t),r=us(e),i=be(n.seconds,r.seconds);return i!==0?i:be(n.nanos,r.nanos)}function Ia(t){return gv(t)}function gv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=us(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Sa(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,te.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const l of r.values||[])s?s=!1:i+=",",i+=gv(l);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",l=!0;for(const u of i)l?l=!1:s+=",",s+=`${u}:${gv(r.fields[u])}`;return s+"}"}(t.mapValue):oe();var e,n}function nd(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function mv(t){return!!t&&"integerValue"in t}function l_(t){return!!t&&"arrayValue"in t}function RT(t){return!!t&&"nullValue"in t}function DT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function uf(t){return!!t&&"mapValue"in t}function jl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return lo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=jl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=jl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function DV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}class xa{constructor(e,n){this.position=e,this.inclusive=n}}function NT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],l=t.position[i];if(s.field.isKeyField()?r=te.comparator(te.fromName(l.referenceValue),n.key):r=Ta(l,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function bT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Or(t.position[n],e.position[n]))return!1;return!0}class GA{}class ct extends GA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new LV(e,n,r):n==="array-contains"?new MV(e,r):n==="in"?new $V(e,r):n==="not-in"?new UV(e,r):n==="array-contains-any"?new FV(e,r):new ct(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new OV(e,r):new PV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ta(n,this.value)):n!==null&&Js(this.value)===Js(n)&&this.matchesComparison(Ta(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class dr extends GA{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new dr(e,n)}matches(e){return QA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return e!==null?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function QA(t){return t.op==="and"}function NV(t){return bV(t)&&QA(t)}function bV(t){for(const e of t.filters)if(e instanceof dr)return!1;return!0}function YA(t){if(t instanceof ct)return t.field.canonicalString()+t.op.toString()+Ia(t.value);{const e=t.filters.map(n=>YA(n)).join(",");return`${t.op}(${e})`}}function XA(t,e){return t instanceof ct?function(n,r){return r instanceof ct&&n.op===r.op&&n.field.isEqual(r.field)&&Or(n.value,r.value)}(t,e):t instanceof dr?function(n,r){return r instanceof dr&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,l)=>i&&XA(s,r.filters[l]),!0):!1}(t,e):void oe()}function ZA(t){return t instanceof ct?function(e){return`${e.field.canonicalString()} ${e.op} ${Ia(e.value)}`}(t):t instanceof dr?function(e){return e.op.toString()+" {"+e.getFilters().map(ZA).join(" ,")+"}"}(t):"Filter"}class LV extends ct{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.matchesComparison(n)}}class OV extends ct{constructor(e,n){super(e,"in",n),this.keys=JA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class PV extends ct{constructor(e,n){super(e,"not-in",n),this.keys=JA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function JA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}class MV extends ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return l_(n)&&Cu(n.arrayValue,this.value)}}class $V extends ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Cu(this.value.arrayValue,n)}}class UV extends ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(Cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Cu(this.value.arrayValue,n)}}class FV extends ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!l_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Cu(this.value.arrayValue,r))}}class sa{constructor(e,n="asc"){this.field=e,this.dir=n}}function zV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class _t{constructor(e,n){this.comparator=e,this.root=n||bt.EMPTY}insert(e,n){return new _t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,bt.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bh(this.root,e,this.comparator,!0)}}class Bh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??bt.RED,this.left=i??bt.EMPTY,this.right=s??bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new bt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return bt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw oe();const e=this.left.check();if(e!==this.right.check())throw oe();return e+(this.isRed()?0:1)}}bt.EMPTY=null,bt.RED=!0,bt.BLACK=!1;bt.EMPTY=new class{constructor(){this.size=0}get key(){throw oe()}get value(){throw oe()}get color(){throw oe()}get left(){throw oe()}get right(){throw oe()}copy(t,e,n,r,i){return this}insert(t,e,n){return new bt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class vt{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new LT(this.data.getIterator())}getIteratorFrom(e){return new LT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new vt(this.comparator);return n.data=e,n}}class LT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Qn{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new Qn([])}unionWith(e){let n=new vt(Wt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Qn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ea(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class tn{constructor(e){this.value=e}static empty(){return new tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!uf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=jl(n)}setAll(e){let n=Wt.emptyPath(),r={},i=[];e.forEach((l,u)=>{if(!n.isImmediateParentOf(u)){const h=this.getFieldsMap(n);this.applyChanges(h,r,i),r={},i=[],n=u.popLast()}l?r[u.lastSegment()]=jl(l):i.push(u.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());uf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Or(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];uf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){lo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new tn(jl(this.value))}}function eR(t){const e=[];return lo(t.fields,(n,r)=>{const i=new Wt([n]);if(uf(r)){const s=eR(r.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)}),new Qn(e)}class It{constructor(e,n,r,i,s,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=u}static newInvalidDocument(e){return new It(e,0,le.min(),le.min(),le.min(),tn.empty(),0)}static newFoundDocument(e,n,r,i){return new It(e,1,n,le.min(),r,i,0)}static newNoDocument(e,n){return new It(e,2,n,le.min(),le.min(),tn.empty(),0)}static newUnknownDocument(e,n){return new It(e,3,n,le.min(),le.min(),tn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof It&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new It(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class BV{constructor(e,n=null,r=[],i=[],s=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=u,this.ft=null}}function OT(t,e=null,n=[],r=[],i=null,s=null,l=null){return new BV(t,e,n,r,i,s,l)}function u_(t){const e=fe(t);if(e.ft===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>YA(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),pc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ia(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ia(r)).join(",")),e.ft=n}return e.ft}function c_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!zV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!XA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!bT(t.startAt,e.startAt)&&bT(t.endAt,e.endAt)}function vv(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class uo{constructor(e,n=null,r=[],i=[],s=null,l="F",u=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=u,this.endAt=h,this.dt=null,this._t=null,this.startAt,this.endAt}}function VV(t,e,n,r,i,s,l,u){return new uo(t,e,n,r,i,s,l,u)}function Jd(t){return new uo(t)}function PT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function h_(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function ep(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function f_(t){return t.collectionGroup!==null}function Vs(t){const e=fe(t);if(e.dt===null){e.dt=[];const n=ep(e),r=h_(e);if(n!==null&&r===null)n.isKeyField()||e.dt.push(new sa(n)),e.dt.push(new sa(Wt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new sa(Wt.keyField(),s))}}}return e.dt}function fi(t){const e=fe(t);if(!e._t)if(e.limitType==="F")e._t=OT(e.path,e.collectionGroup,Vs(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Vs(e)){const l=s.dir==="desc"?"asc":"desc";n.push(new sa(s.field,l))}const r=e.endAt?new xa(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new xa(e.startAt.position,e.startAt.inclusive):null;e._t=OT(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function yv(t,e){e.getFirstInequalityField(),ep(t);const n=t.filters.concat([e]);return new uo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function rd(t,e,n){return new uo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function tp(t,e){return c_(fi(t),fi(e))&&t.limitType===e.limitType}function tR(t){return`${u_(fi(t))}|lt:${t.limitType}`}function _v(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>ZA(r)).join(", ")}]`),pc(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ia(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ia(r)).join(",")),`Target(${n})`}(fi(t))}; limitType=${t.limitType})`}function d_(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):te.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Vs(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,l){const u=NT(i,s,l);return i.inclusive?u<=0:u<0}(n.startAt,Vs(n),r)||n.endAt&&!function(i,s,l){const u=NT(i,s,l);return i.inclusive?u>=0:u>0}(n.endAt,Vs(n),r))}(t,e)}function HV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function nR(t){return(e,n)=>{let r=!1;for(const i of Vs(t)){const s=WV(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function WV(t,e,n){const r=t.field.isKeyField()?te.comparator(e.key,n.key):function(i,s,l){const u=s.data.field(i),h=l.data.field(i);return u!==null&&h!==null?Ta(u,h):oe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return oe()}}function rR(t,e){if(t.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:td(e)?"-0":e}}function iR(t){return{integerValue:""+t}}function jV(t,e){return AV(e)?iR(e):rR(t,e)}class np{constructor(){this._=void 0}}function qV(t,e,n){return t instanceof Au?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Ru?oR(t,e):t instanceof Du?aR(t,e):function(r,i){const s=sR(r,i),l=MT(s)+MT(r.gt);return mv(s)&&mv(r.gt)?iR(l):rR(r.yt,l)}(t,e)}function KV(t,e,n){return t instanceof Ru?oR(t,e):t instanceof Du?aR(t,e):n}function sR(t,e){return t instanceof id?mv(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Au extends np{}class Ru extends np{constructor(e){super(),this.elements=e}}function oR(t,e){const n=lR(e);for(const r of t.elements)n.some(i=>Or(i,r))||n.push(r);return{arrayValue:{values:n}}}class Du extends np{constructor(e){super(),this.elements=e}}function aR(t,e){let n=lR(e);for(const r of t.elements)n=n.filter(i=>!Or(i,r));return{arrayValue:{values:n}}}class id extends np{constructor(e,n){super(),this.yt=e,this.gt=n}}function MT(t){return lt(t.integerValue||t.doubleValue)}function lR(t){return l_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class GV{constructor(e,n){this.field=e,this.transform=n}}function QV(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Ru&&r instanceof Ru||n instanceof Du&&r instanceof Du?Ea(n.elements,r.elements,Or):n instanceof id&&r instanceof id?Or(n.gt,r.gt):n instanceof Au&&r instanceof Au}(t.transform,e.transform)}class YV{constructor(e,n){this.version=e,this.transformResults=n}}class xt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new xt}static exists(e){return new xt(void 0,e)}static updateTime(e){return new xt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class rp{}function uR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ip(t.key,xt.none()):new gc(t.key,t.data,xt.none());{const n=t.data,r=tn.empty();let i=new vt(Wt.comparator);for(let s of e.fields)if(!i.has(s)){let l=n.field(s);l===null&&s.length>1&&(s=s.popLast(),l=n.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new ms(t.key,r,new Qn(i.toArray()),xt.none())}}function XV(t,e,n){t instanceof gc?function(r,i,s){const l=r.value.clone(),u=UT(r.fieldTransforms,i,s.transformResults);l.setAll(u),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):t instanceof ms?function(r,i,s){if(!cf(r.precondition,i))return void i.convertToUnknownDocument(s.version);const l=UT(r.fieldTransforms,i,s.transformResults),u=i.data;u.setAll(cR(r)),u.setAll(l),i.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function ql(t,e,n,r){return t instanceof gc?function(i,s,l,u){if(!cf(i.precondition,s))return l;const h=i.value.clone(),f=FT(i.fieldTransforms,u,s);return h.setAll(f),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof ms?function(i,s,l,u){if(!cf(i.precondition,s))return l;const h=FT(i.fieldTransforms,u,s),f=s.data;return f.setAll(cR(i)),f.setAll(h),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(i,s,l){return cf(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l}(t,e,n)}function ZV(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=sR(r.transform,i||null);s!=null&&(n===null&&(n=tn.empty()),n.set(r.field,s))}return n||null}function $T(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Ea(n,r,(i,s)=>QV(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class gc extends rp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ms extends rp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function cR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function UT(t,e,n){const r=new Map;Le(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],l=s.transform,u=e.data.field(s.field);r.set(s.field,KV(l,u,n[i]))}return r}function FT(t,e,n){const r=new Map;for(const i of t){const s=i.transform,l=n.data.field(i.field);r.set(i.field,qV(s,l,e))}return r}class ip extends rp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hR extends rp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class JV{constructor(e){this.count=e}}var at,xe;function fR(t){switch(t){default:return oe();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function dR(t){if(t===void 0)return hi("GRPC error has no .code"),M.UNKNOWN;switch(t){case at.OK:return M.OK;case at.CANCELLED:return M.CANCELLED;case at.UNKNOWN:return M.UNKNOWN;case at.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case at.INTERNAL:return M.INTERNAL;case at.UNAVAILABLE:return M.UNAVAILABLE;case at.UNAUTHENTICATED:return M.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case at.NOT_FOUND:return M.NOT_FOUND;case at.ALREADY_EXISTS:return M.ALREADY_EXISTS;case at.PERMISSION_DENIED:return M.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case at.ABORTED:return M.ABORTED;case at.OUT_OF_RANGE:return M.OUT_OF_RANGE;case at.UNIMPLEMENTED:return M.UNIMPLEMENTED;case at.DATA_LOSS:return M.DATA_LOSS;default:return oe()}}(xe=at||(at={}))[xe.OK=0]="OK",xe[xe.CANCELLED=1]="CANCELLED",xe[xe.UNKNOWN=2]="UNKNOWN",xe[xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xe[xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xe[xe.NOT_FOUND=5]="NOT_FOUND",xe[xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",xe[xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",xe[xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",xe[xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xe[xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xe[xe.ABORTED=10]="ABORTED",xe[xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",xe[xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",xe[xe.INTERNAL=13]="INTERNAL",xe[xe.UNAVAILABLE=14]="UNAVAILABLE",xe[xe.DATA_LOSS=15]="DATA_LOSS";class Fa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){lo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return qA(this.inner)}size(){return this.innerSize}}const e6=new _t(te.comparator);function di(){return e6}const pR=new _t(te.comparator);function bl(...t){let e=pR;for(const n of t)e=e.insert(n.key,n);return e}function gR(t){let e=pR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Os(){return Kl()}function mR(){return Kl()}function Kl(){return new Fa(t=>t.toString(),(t,e)=>t.isEqual(e))}const t6=new _t(te.comparator),n6=new vt(te.comparator);function Ee(...t){let e=n6;for(const n of t)e=e.add(n);return e}const r6=new vt(be);function vR(){return r6}class sp{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,mc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new sp(le.min(),i,vR(),di(),Ee())}}class mc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new mc(r,n,Ee(),Ee(),Ee())}}class hf{constructor(e,n,r,i){this.It=e,this.removedTargetIds=n,this.key=r,this.Tt=i}}class yR{constructor(e,n){this.targetId=e,this.Et=n}}class _R{constructor(e,n,r=Qt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class zT{constructor(){this.At=0,this.Rt=VT(),this.bt=Qt.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return this.At!==0}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=Ee(),n=Ee(),r=Ee();return this.Rt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:oe()}}),new mc(this.bt,this.Pt,e,n,r)}xt(){this.vt=!1,this.Rt=VT()}Nt(e,n){this.vt=!0,this.Rt=this.Rt.insert(e,n)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class i6{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=di(),this.qt=BT(),this.Ut=new vt(be)}Kt(e){for(const n of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(n,e.Tt):this.Qt(n,e.key,e.Tt);for(const n of e.removedTargetIds)this.Qt(n,e.key,e.Tt)}jt(e){this.forEachTarget(e,n=>{const r=this.Wt(n);switch(e.state){case 0:this.zt(n)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(n);break;case 3:this.zt(n)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(n)&&(this.Ht(n),r.Dt(e.resumeToken));break;default:oe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Bt.forEach((r,i)=>{this.zt(i)&&n(i)})}Jt(e){const n=e.targetId,r=e.Et.count,i=this.Yt(n);if(i){const s=i.target;if(vv(s))if(r===0){const l=new te(s.path);this.Qt(n,l,It.newNoDocument(l,le.min()))}else Le(r===1);else this.Xt(n)!==r&&(this.Ht(n),this.Ut=this.Ut.add(n))}}Zt(e){const n=new Map;this.Bt.forEach((s,l)=>{const u=this.Yt(l);if(u){if(s.current&&vv(u.target)){const h=new te(u.target.path);this.Lt.get(h)!==null||this.te(l,h)||this.Qt(l,h,It.newNoDocument(h,e))}s.St&&(n.set(l,s.Ct()),s.xt())}});let r=Ee();this.qt.forEach((s,l)=>{let u=!0;l.forEachWhile(h=>{const f=this.Yt(h);return!f||f.purpose===2||(u=!1,!1)}),u&&(r=r.add(s))}),this.Lt.forEach((s,l)=>l.setReadTime(e));const i=new sp(e,n,this.Ut,this.Lt,r);return this.Lt=di(),this.qt=BT(),this.Ut=new vt(be),i}Gt(e,n){if(!this.zt(e))return;const r=this.te(e,n.key)?2:0;this.Wt(e).Nt(n.key,r),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(e))}Qt(e,n,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,n)?i.Nt(n,1):i.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(e)),r&&(this.Lt=this.Lt.insert(n,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const n=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let n=this.Bt.get(e);return n||(n=new zT,this.Bt.set(e,n)),n}ee(e){let n=this.qt.get(e);return n||(n=new vt(be),this.qt=this.qt.insert(e,n)),n}zt(e){const n=this.Yt(e)!==null;return n||ne("WatchChangeAggregator","Detected inactive target",e),n}Yt(e){const n=this.Bt.get(e);return n&&n.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new zT),this.$t.getRemoteKeysForTarget(e).forEach(n=>{this.Qt(e,n,null)})}te(e,n){return this.$t.getRemoteKeysForTarget(e).has(n)}}function BT(){return new _t(te.comparator)}function VT(){return new _t(te.comparator)}const s6=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),o6=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),a6=(()=>({and:"AND",or:"OR"}))();class l6{constructor(e,n){this.databaseId=e,this.wt=n}}function sd(t,e){return t.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wR(t,e){return t.wt?e.toBase64():e.toUint8Array()}function u6(t,e){return sd(t,e.toTimestamp())}function Dn(t){return Le(!!t),le.fromTimestamp(function(e){const n=us(e);return new mt(n.seconds,n.nanos)}(t))}function p_(t,e){return function(n){return new Fe(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function ER(t){const e=Fe.fromString(t);return Le(kR(e)),e}function od(t,e){return p_(t.databaseId,e.path)}function Gl(t,e){const n=ER(e);if(n.get(1)!==t.databaseId.projectId)throw new q(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new q(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(SR(n))}function wv(t,e){return p_(t.databaseId,e)}function c6(t){const e=ER(t);return e.length===4?Fe.emptyPath():SR(e)}function Nu(t){return new Fe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function SR(t){return Le(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function HT(t,e,n){return{name:od(t,e),fields:n.value.mapValue.fields}}function h6(t,e){return"found"in e?function(n,r){Le(!!r.found),r.found.name,r.found.updateTime;const i=Gl(n,r.found.name),s=Dn(r.found.updateTime),l=r.found.createTime?Dn(r.found.createTime):le.min(),u=new tn({mapValue:{fields:r.found.fields}});return It.newFoundDocument(i,s,l,u)}(t,e):"missing"in e?function(n,r){Le(!!r.missing),Le(!!r.readTime);const i=Gl(n,r.missing),s=Dn(r.readTime);return It.newNoDocument(i,s)}(t,e):oe()}function f6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:oe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,f){return h.wt?(Le(f===void 0||typeof f=="string"),Qt.fromBase64String(f||"")):(Le(f===void 0||f instanceof Uint8Array),Qt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(h){const f=h.code===void 0?M.UNKNOWN:dR(h.code);return new q(f,h.message||"")}(l);n=new _R(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Gl(t,r.document.name),s=Dn(r.document.updateTime),l=r.document.createTime?Dn(r.document.createTime):le.min(),u=new tn({mapValue:{fields:r.document.fields}}),h=It.newFoundDocument(i,s,l,u),f=r.targetIds||[],p=r.removedTargetIds||[];n=new hf(f,p,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Gl(t,r.document),s=r.readTime?Dn(r.readTime):le.min(),l=It.newNoDocument(i,s),u=r.removedTargetIds||[];n=new hf([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Gl(t,r.document),s=r.removedTargetIds||[];n=new hf([],s,i,null)}else{if(!("filter"in e))return oe();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new JV(i),l=r.targetId;n=new yR(l,s)}}return n}function TR(t,e){let n;if(e instanceof gc)n={update:HT(t,e.key,e.value)};else if(e instanceof ip)n={delete:od(t,e.key)};else if(e instanceof ms)n={update:HT(t,e.key,e.data),updateMask:E6(e.fieldMask)};else{if(!(e instanceof hR))return oe();n={verify:od(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const l=s.transform;if(l instanceof Au)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Ru)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Du)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof id)return{fieldPath:s.field.canonicalString(),increment:l.gt};throw oe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:u6(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:oe()}(t,e.precondition)),n}function d6(t,e){return t&&t.length>0?(Le(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?Dn(r.updateTime):Dn(i);return s.isEqual(le.min())&&(s=Dn(i)),new YV(s,r.transformResults||[])}(n,e))):[]}function p6(t,e){return{documents:[wv(t,e.path)]}}function g6(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=wv(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=wv(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(h){if(h.length!==0)return xR(dr.create(h,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(h){if(h.length!==0)return h.map(f=>function(p){return{field:Po(p.field),direction:y6(p.dir)}}(f))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const l=function(h,f){return h.wt||pc(f)?f:{value:f}}(t,e.limit);var u;return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),n}function m6(t){let e=c6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Le(r===1);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=function(p){const m=IR(p);return m instanceof dr&&NV(m)?m.getFilters():[m]}(n.where));let l=[];n.orderBy&&(l=n.orderBy.map(p=>function(m){return new sa(Mo(m.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(p)));let u=null;n.limit&&(u=function(p){let m;return m=typeof p=="object"?p.value:p,pc(m)?null:m}(n.limit));let h=null;n.startAt&&(h=function(p){const m=!!p.before,v=p.values||[];return new xa(v,m)}(n.startAt));let f=null;return n.endAt&&(f=function(p){const m=!p.before,v=p.values||[];return new xa(v,m)}(n.endAt)),VV(e,i,l,s,u,"F",h,f)}function v6(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return oe()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function IR(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Mo(e.unaryFilter.field);return ct.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Mo(e.unaryFilter.field);return ct.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Mo(e.unaryFilter.field);return ct.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Mo(e.unaryFilter.field);return ct.create(s,"!=",{nullValue:"NULL_VALUE"});default:return oe()}}(t):t.fieldFilter!==void 0?function(e){return ct.create(Mo(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return oe()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return dr.create(e.compositeFilter.filters.map(n=>IR(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return oe()}}(e.compositeFilter.op))}(t):oe()}function y6(t){return s6[t]}function _6(t){return o6[t]}function w6(t){return a6[t]}function Po(t){return{fieldPath:t.canonicalString()}}function Mo(t){return Wt.fromServerFormat(t.fieldPath)}function xR(t){return t instanceof ct?function(e){if(e.op==="=="){if(DT(e.value))return{unaryFilter:{field:Po(e.field),op:"IS_NAN"}};if(RT(e.value))return{unaryFilter:{field:Po(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(DT(e.value))return{unaryFilter:{field:Po(e.field),op:"IS_NOT_NAN"}};if(RT(e.value))return{unaryFilter:{field:Po(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Po(e.field),op:_6(e.op),value:e.value}}}(t):t instanceof dr?function(e){const n=e.getFilters().map(r=>xR(r));return n.length===1?n[0]:{compositeFilter:{op:w6(e.op),filters:n}}}(t):oe()}function E6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function kR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class S6{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&XV(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ql(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ql(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=mR();return this.mutations.forEach(i=>{const s=e.get(i.key),l=s.overlayedDocument;let u=this.applyToLocalView(l,s.mutatedFields);u=n.has(i.key)?null:u;const h=uR(l,u);h!==null&&r.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ee())}isEqual(e){return this.batchId===e.batchId&&Ea(this.mutations,e.mutations,(n,r)=>$T(n,r))&&Ea(this.baseMutations,e.baseMutations,(n,r)=>$T(n,r))}}class g_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Le(e.mutations.length===r.length);let i=t6;const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new g_(e,n,r,i)}}class T6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Hs{constructor(e,n,r,i,s=le.min(),l=le.min(),u=Qt.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u}withSequenceNumber(e){return new Hs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class I6{constructor(e){this.ie=e}}function x6(t){const e=m6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?rd(e,e.limit,"L"):e}class k6{constructor(){this.Je=new C6}addToCollectionParentIndex(e,n){return this.Je.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.Je.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(ls.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(ls.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class C6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new vt(Fe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new vt(Fe.comparator)).toArray()}}class ka{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new ka(0)}static vn(){return new ka(-1)}}class A6{constructor(){this.changes=new Fa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,It.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class R6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class D6{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ql(r.mutation,i,Qn.empty(),mt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ee()){const i=Os();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let l=bl();return s.forEach((u,h)=>{l=l.insert(u,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=Os();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ee()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((l,u)=>{n.set(l,u)})})}computeViews(e,n,r,i){let s=di();const l=Kl(),u=Kl();return n.forEach((h,f)=>{const p=r.get(f.key);i.has(f.key)&&(p===void 0||p.mutation instanceof ms)?s=s.insert(f.key,f):p!==void 0&&(l.set(f.key,p.mutation.getFieldMask()),ql(p.mutation,f,p.mutation.getFieldMask(),mt.now()))}),this.recalculateAndSaveOverlays(e,s).next(h=>(h.forEach((f,p)=>l.set(f,p)),n.forEach((f,p)=>{var m;return u.set(f,new R6(p,(m=l.get(f))!==null&&m!==void 0?m:null))}),u))}recalculateAndSaveOverlays(e,n){const r=Kl();let i=new _t((l,u)=>l-u),s=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const u of l)u.keys().forEach(h=>{const f=n.get(h);if(f===null)return;let p=r.get(h)||Qn.empty();p=u.applyToLocalView(f,p),r.set(h,p);const m=(i.get(u.batchId)||Ee()).add(h);i=i.insert(u.batchId,m)})}).next(()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),f=h.key,p=h.value,m=mR();p.forEach(v=>{if(!s.has(v)){const w=uR(n.get(v),r.get(v));w!==null&&m.set(v,w),s=s.add(v)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,m))}return H.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return te.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):f_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):H.resolve(Os());let u=-1,h=s;return l.next(f=>H.forEach(f,(p,m)=>(u<m.largestBatchId&&(u=m.largestBatchId),s.get(p)?H.resolve():this.remoteDocumentCache.getEntry(e,p).next(v=>{h=h.insert(p,v)}))).next(()=>this.populateOverlays(e,f,s)).next(()=>this.computeViews(e,h,f,Ee())).next(p=>({batchId:u,changes:gR(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let i=bl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=bl();return this.indexManager.getCollectionParents(e,i).next(l=>H.forEach(l,u=>{const h=function(f,p){return new uo(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,h,r).next(f=>{f.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(s=>{s.forEach((u,h)=>{const f=h.getKey();i.get(f)===null&&(i=i.insert(f,It.newInvalidDocument(f)))});let l=bl();return i.forEach((u,h)=>{const f=s.get(u);f!==void 0&&ql(f.mutation,h,Qn.empty(),mt.now()),d_(n,h)&&(l=l.insert(u,h))}),l})}}class N6{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return H.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:Dn(r.createTime)}),H.resolve()}getNamedQuery(e,n){return H.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,function(r){return{name:r.name,query:x6(r.bundledQuery),readTime:Dn(r.readTime)}}(n)),H.resolve()}}class b6{constructor(){this.overlays=new _t(te.comparator),this.es=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Os();return H.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.oe(e,n,s)}),H.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.es.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const i=Os(),s=n.length+1,l=new te(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,f=h.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===s&&h.largestBatchId>r&&i.set(h.getKey(),h)}return H.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new _t((f,p)=>f-p);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let p=s.get(f.largestBatchId);p===null&&(p=Os(),s=s.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const u=Os(),h=s.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,p)=>u.set(f,p)),!(u.size()>=i)););return H.resolve(u)}oe(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new T6(n,r));let s=this.es.get(n);s===void 0&&(s=Ee(),this.es.set(n,s)),this.es.set(n,s.add(r.key))}}class m_{constructor(){this.ns=new vt(St.ss),this.rs=new vt(St.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const r=new St(e,n);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.cs(new St(e,n))}hs(e,n){e.forEach(r=>this.removeReference(r,n))}ls(e){const n=new te(new Fe([])),r=new St(n,e),i=new St(n,e+1),s=[];return this.rs.forEachInRange([r,i],l=>{this.cs(l),s.push(l.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new te(new Fe([])),r=new St(n,e),i=new St(n,e+1);let s=Ee();return this.rs.forEachInRange([r,i],l=>{s=s.add(l.key)}),s}containsKey(e){const n=new St(e,0),r=this.ns.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class St{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return te.comparator(e.key,n.key)||be(e._s,n._s)}static os(e,n){return be(e._s,n._s)||te.comparator(e.key,n.key)}}class L6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new vt(St.ss)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new S6(s,n,r,i);this.mutationQueue.push(l);for(const u of i)this.gs=this.gs.add(new St(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return H.resolve(l)}lookupMutationBatch(e,n){return H.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ps(r),s=i<0?0:i;return H.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new St(n,0),i=new St(n,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],l=>{const u=this.ys(l._s);s.push(u)}),H.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new vt(be);return n.forEach(i=>{const s=new St(i,0),l=new St(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,l],u=>{r=r.add(u._s)})}),H.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;te.isDocumentKey(s)||(s=s.child(""));const l=new St(new te(s),0);let u=new vt(be);return this.gs.forEachWhile(h=>{const f=h.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(u=u.add(h._s)),!0)},l),H.resolve(this.Is(u))}Is(e){const n=[];return e.forEach(r=>{const i=this.ys(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Le(this.Ts(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.gs;return H.forEach(n.mutations,i=>{const s=new St(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,n){const r=new St(n,0),i=this.gs.firstAfterOrEqual(r);return H.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}Ts(e,n){return this.ps(e)}ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class O6{constructor(e){this.Es=e,this.docs=new _t(te.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,l=this.Es(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():It.newInvalidDocument(n))}getEntries(e,n){let r=di();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():It.newInvalidDocument(i))}),H.resolve(r)}getAllFromCollection(e,n,r){let i=di();const s=new te(n.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!n.isPrefixOf(u.path))break;u.path.length>n.length+1||IV(TV(h),r)<=0||(i=i.insert(h.key,h.mutableCopy()))}return H.resolve(i)}getAllFromCollectionGroup(e,n,r,i){oe()}As(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new P6(this)}getSize(e){return H.resolve(this.size)}}class P6 extends A6{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}class M6{constructor(e){this.persistence=e,this.Rs=new Fa(n=>u_(n),c_),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.bs=0,this.Ps=new m_,this.targetCount=0,this.vs=ka.Pn()}forEachTarget(e,n){return this.Rs.forEach((r,i)=>n(i)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),H.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new ka(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.Dn(n),H.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Rs.forEach((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.Rs.delete(l),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),H.waitFor(s).next(()=>i)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.Rs.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this.Ps.us(n,r),H.resolve()}removeMatchingKeys(e,n,r){this.Ps.hs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(l=>{s.push(i.markPotentiallyOrphaned(e,l))}),H.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ps.ds(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this.Ps.containsKey(n))}}class $6{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new o_(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new M6(this),this.indexManager=new k6,this.remoteDocumentCache=function(r){return new O6(r)}(r=>this.referenceDelegate.xs(r)),this.yt=new I6(n),this.Ns=new N6(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new b6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Vs[e.toKey()];return r||(r=new L6(n,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,r){ne("MemoryPersistence","Starting transaction:",e);const i=new U6(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ms(e,n){return H.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,n)))}}class U6 extends kV{constructor(e){super(),this.currentSequenceNumber=e}}class v_{constructor(e){this.persistence=e,this.Fs=new m_,this.$s=null}static Bs(e){return new v_(e)}get Ls(){if(this.$s)return this.$s;throw oe()}addReference(e,n,r){return this.Fs.addReference(r,n),this.Ls.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.Fs.removeReference(r,n),this.Ls.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),H.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}ks(){this.$s=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.Ls,r=>{const i=te.fromPath(r);return this.qs(e,i).next(s=>{s||n.removeEntry(i,le.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.qs(e,n).next(r=>{r?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}qs(e,n){return H.or([()=>H.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ms(e,n)])}}class y_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Si=r,this.Di=i}static Ci(e,n){let r=Ee(),i=Ee();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new y_(e,n.fromCache,r,i)}}class F6{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.ki(e,n).next(s=>s||this.Oi(e,n,i,r)).next(s=>s||this.Mi(e,n))}ki(e,n){if(PT(n))return H.resolve(null);let r=fi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=rd(n,null,"F"),r=fi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const l=Ee(...s);return this.Ni.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(h=>{const f=this.Fi(n,u);return this.$i(n,f,l,h.readTime)?this.ki(e,rd(n,null,"F")):this.Bi(e,f,n,h)}))})))}Oi(e,n,r,i){return PT(n)||i.isEqual(le.min())?this.Mi(e,n):this.Ni.getDocuments(e,r).next(s=>{const l=this.Fi(n,s);return this.$i(n,l,r,i)?this.Mi(e,n):(kT()<=De.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),_v(n)),this.Bi(e,l,n,SV(i,-1)))})}Fi(e,n){let r=new vt(nR(e));return n.forEach((i,s)=>{d_(e,s)&&(r=r.add(s))}),r}$i(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mi(e,n){return kT()<=De.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",_v(n)),this.Ni.getDocumentsMatchingQuery(e,n,ls.min())}Bi(e,n,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(l=>{s=s.insert(l.key,l)}),s))}}class z6{constructor(e,n,r,i){this.persistence=e,this.Li=n,this.yt=i,this.qi=new _t(be),this.Ui=new Fa(s=>u_(s),c_),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new D6(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.qi))}}function B6(t,e,n,r){return new z6(t,e,n,r)}async function CR(t,e){const n=fe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Qi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const l=[],u=[];let h=Ee();for(const f of i){l.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}for(const f of s){u.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}return n.localDocuments.getDocuments(r,h).next(f=>({ji:f,removedBatchIds:l,addedBatchIds:u}))})})}function V6(t,e){const n=fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Gi.newChangeBuffer({trackRemovals:!0});return function(l,u,h,f){const p=h.batch,m=p.keys();let v=H.resolve();return m.forEach(w=>{v=v.next(()=>f.getEntry(u,w)).next(x=>{const A=h.docVersions.get(w);Le(A!==null),x.version.compareTo(A)<0&&(p.applyToRemoteDocument(x,h),x.isValidDocument()&&(x.setReadTime(h.commitVersion),f.addEntry(x)))})}),v.next(()=>l.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=Ee();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function AR(t){const e=fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function H6(t,e){const n=fe(t),r=e.snapshotVersion;let i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const l=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;const u=[];e.targetChanges.forEach((p,m)=>{const v=i.get(m);if(!v)return;u.push(n.Cs.removeMatchingKeys(s,p.removedDocuments,m).next(()=>n.Cs.addMatchingKeys(s,p.addedDocuments,m)));let w=v.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(m)?w=w.withResumeToken(Qt.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):p.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(p.resumeToken,r)),i=i.insert(m,w),function(x,A,b){return x.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(v,w,p)&&u.push(n.Cs.updateTargetData(s,w))});let h=di(),f=Ee();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),u.push(W6(s,l,e.documentUpdates).next(p=>{h=p.Wi,f=p.zi})),!r.isEqual(le.min())){const p=n.Cs.getLastRemoteSnapshotVersion(s).next(m=>n.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));u.push(p)}return H.waitFor(u).next(()=>l.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,h,f)).next(()=>h)}).then(s=>(n.qi=i,s))}function W6(t,e,n){let r=Ee(),i=Ee();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let l=di();return n.forEach((u,h)=>{const f=s.get(u);h.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),h.isNoDocument()&&h.version.isEqual(le.min())?(e.removeEntry(u,h.readTime),l=l.insert(u,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),l=l.insert(u,h)):ne("LocalStore","Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",h.version)}),{Wi:l,zi:i}})}function j6(t,e){const n=fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function q6(t,e){const n=fe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Cs.getTargetData(r,e).next(s=>s?(i=s,H.resolve(i)):n.Cs.allocateTargetId(r).next(l=>(i=new Hs(e,l,0,r.currentSequenceNumber),n.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.qi.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.qi=n.qi.insert(r.targetId,r),n.Ui.set(e,r.targetId)),r})}async function Ev(t,e,n){const r=fe(t),i=r.qi.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!dc(l))throw l;ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}function WT(t,e,n){const r=fe(t);let i=le.min(),s=Ee();return r.persistence.runTransaction("Execute query","readonly",l=>function(u,h,f){const p=fe(u),m=p.Ui.get(f);return m!==void 0?H.resolve(p.qi.get(m)):p.Cs.getTargetData(h,f)}(r,l,fi(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(l,u.targetId).next(h=>{s=h})}).next(()=>r.Li.getDocumentsMatchingQuery(l,e,n?i:le.min(),n?s:Ee())).next(u=>(K6(r,HV(e),u),{documents:u,Hi:s})))}function K6(t,e,n){let r=t.Ki.get(e)||le.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ki.set(e,r)}class jT{constructor(){this.activeTargetIds=vR()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class G6{constructor(){this.Lr=new jT,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,n,r){this.qr[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new jT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Q6{Ur(e){}shutdown(){}}class qT{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}const Y6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class X6{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Z6 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.oo=n+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,n,r,i,s){const l=this.ho(e,n);ne("RestConnection","Sending: ",l,r);const u={};return this.lo(u,i,s),this.fo(e,l,u,r).then(h=>(ne("RestConnection","Received: ",h),h),h=>{throw pv("RestConnection",`${e} failed with error: `,h,"url: ",l,"request:",r),h})}_o(e,n,r,i,s,l){return this.ao(e,n,r,i,s)}lo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ua,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,n){const r=Y6[e];return`${this.oo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,r,i){return new Promise((s,l)=>{const u=new fV;u.setWithCredentials(!0),u.listenOnce(uV.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Lm.NO_ERROR:const f=u.getResponseJson();ne("Connection","XHR received:",JSON.stringify(f)),s(f);break;case Lm.TIMEOUT:ne("Connection",'RPC "'+e+'" timed out'),l(new q(M.DEADLINE_EXCEEDED,"Request time out"));break;case Lm.HTTP_ERROR:const p=u.getStatus();if(ne("Connection",'RPC "'+e+'" failed with status:',p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const v=m==null?void 0:m.error;if(v&&v.status&&v.message){const w=function(x){const A=x.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(A)>=0?A:M.UNKNOWN}(v.status);l(new q(w,v.message))}else l(new q(M.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new q(M.UNAVAILABLE,"Connection failed."));break;default:oe()}}finally{ne("Connection",'RPC "'+e+'" completed.')}});const h=JSON.stringify(i);u.send(n,"POST",h,r,15)})}wo(e,n,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=aV(),l=lV(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(u.xmlHttpFactory=new hV({})),this.lo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=i.join("");ne("Connection","Creating WebChannel: "+h,u);const f=s.createWebChannel(h,u);let p=!1,m=!1;const v=new X6({Hr:x=>{m?ne("Connection","Not sending because WebChannel is closed:",x):(p||(ne("Connection","Opening WebChannel transport."),f.open(),p=!0),ne("Connection","WebChannel sending:",x),f.send(x))},Jr:()=>f.close()}),w=(x,A,b)=>{x.listen(A,S=>{try{b(S)}catch(E){setTimeout(()=>{throw E},0)}})};return w(f,Fh.EventType.OPEN,()=>{m||ne("Connection","WebChannel transport opened.")}),w(f,Fh.EventType.CLOSE,()=>{m||(m=!0,ne("Connection","WebChannel transport closed"),v.io())}),w(f,Fh.EventType.ERROR,x=>{m||(m=!0,pv("Connection","WebChannel transport errored:",x),v.io(new q(M.UNAVAILABLE,"The operation could not be completed")))}),w(f,Fh.EventType.MESSAGE,x=>{var A;if(!m){const b=x.data[0];Le(!!b);const S=b,E=S.error||((A=S[0])===null||A===void 0?void 0:A.error);if(E){ne("Connection","WebChannel received error:",E);const I=E.status;let C=function(V){const L=at[V];if(L!==void 0)return dR(L)}(I),P=E.message;C===void 0&&(C=M.INTERNAL,P="Unknown error status: "+I+" with message "+E.message),m=!0,v.io(new q(C,P)),f.close()}else ne("Connection","WebChannel received:",b),v.ro(b)}}),w(l,cV.STAT_EVENT,x=>{x.stat===IT.PROXY?ne("Connection","Detected buffering proxy"):x.stat===IT.NOPROXY&&ne("Connection","Detected no buffering proxy")}),setTimeout(()=>{v.so()},0),v}}function Om(){return typeof document<"u"?document:null}function op(t){return new l6(t,!0)}class __{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=n,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){this.To!==null&&(this.To.skipDelay(),this.To=null)}cancel(){this.To!==null&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class RR{constructor(e,n,r,i,s,l,u,h){this.Hs=e,this.vo=r,this.Vo=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new __(e,n)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Oo()}async stop(){this.No()&&await this.close(0)}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,n){this.Lo(),this.qo(),this.xo.cancel(),this.So++,e!==4?this.xo.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(hi(n.toString()),hi("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Uo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===n&&this.Go(r,i)},r=>{e(()=>{const i=new q(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,n){const r=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){this.state=5,this.xo.Ro(async()=>{this.state=0,this.start()})}Qo(e){return ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class J6 extends RR{constructor(e,n,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.yt=s}jo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.xo.reset();const n=f6(this.yt,e),r=function(i){if(!("targetChange"in i))return le.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?le.min():s.readTime?Dn(s.readTime):le.min()}(e);return this.listener.Wo(n,r)}zo(e){const n={};n.database=Nu(this.yt),n.addTarget=function(i,s){let l;const u=s.target;return l=vv(u)?{documents:p6(i,u)}:{query:g6(i,u)},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?l.resumeToken=wR(i,s.resumeToken):s.snapshotVersion.compareTo(le.min())>0&&(l.readTime=sd(i,s.snapshotVersion.toTimestamp())),l}(this.yt,e);const r=v6(this.yt,e);r&&(n.labels=r),this.Bo(n)}Ho(e){const n={};n.database=Nu(this.yt),n.removeTarget=e,this.Bo(n)}}class e8 extends RR{constructor(e,n,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.yt=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(Le(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=d6(e.writeResults,e.commitTime),r=Dn(e.commitTime);return this.listener.Zo(r,n)}return Le(!e.writeResults||e.writeResults.length===0),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Nu(this.yt),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>TR(this.yt,r))};this.Bo(n)}}class t8 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new q(M.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,n,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.ao(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new q(M.UNKNOWN,i.toString())})}_o(e,n,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection._o(e,n,r,s,l,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new q(M.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class n8{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,e==="Online"&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(hi(n),this.ou=!1):ne("OnlineStateTracker",n)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}class r8{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.Ur(l=>{r.enqueueAndForget(async()=>{co(this)&&(ne("RemoteStore","Restarting streams for network reachability change."),await async function(u){const h=fe(u);h._u.add(4),await vc(h),h.gu.set("Unknown"),h._u.delete(4),await ap(h)}(this))})}),this.gu=new n8(r,i)}}async function ap(t){if(co(t))for(const e of t.wu)await e(!0)}async function vc(t){for(const e of t.wu)await e(!1)}function DR(t,e){const n=fe(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),S_(n)?E_(n):za(n).ko()&&w_(n,e))}function NR(t,e){const n=fe(t),r=za(n);n.du.delete(e),r.ko()&&bR(n,e),n.du.size===0&&(r.ko()?r.Fo():co(n)&&n.gu.set("Unknown"))}function w_(t,e){t.yu.Ot(e.targetId),za(t).zo(e)}function bR(t,e){t.yu.Ot(e),za(t).Ho(e)}function E_(t){t.yu=new i6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.du.get(e)||null}),za(t).start(),t.gu.uu()}function S_(t){return co(t)&&!za(t).No()&&t.du.size>0}function co(t){return fe(t)._u.size===0}function LR(t){t.yu=void 0}async function i8(t){t.du.forEach((e,n)=>{w_(t,e)})}async function s8(t,e){LR(t),S_(t)?(t.gu.hu(e),E_(t)):t.gu.set("Unknown")}async function o8(t,e,n){if(t.gu.set("Online"),e instanceof _R&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const l of i.targetIds)r.du.has(l)&&(await r.remoteSyncer.rejectListen(l,s),r.du.delete(l),r.yu.removeTarget(l))}(t,e)}catch(r){ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ad(t,r)}else if(e instanceof hf?t.yu.Kt(e):e instanceof yR?t.yu.Jt(e):t.yu.jt(e),!n.isEqual(le.min()))try{const r=await AR(t.localStore);n.compareTo(r)>=0&&await function(i,s){const l=i.yu.Zt(s);return l.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const f=i.du.get(h);f&&i.du.set(h,f.withResumeToken(u.resumeToken,s))}}),l.targetMismatches.forEach(u=>{const h=i.du.get(u);if(!h)return;i.du.set(u,h.withResumeToken(Qt.EMPTY_BYTE_STRING,h.snapshotVersion)),bR(i,u);const f=new Hs(h.target,u,1,h.sequenceNumber);w_(i,f)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){ne("RemoteStore","Failed to raise snapshot:",r),await ad(t,r)}}async function ad(t,e,n){if(!dc(e))throw e;t._u.add(1),await vc(t),t.gu.set("Offline"),n||(n=()=>AR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ne("RemoteStore","Retrying IndexedDB access"),await n(),t._u.delete(1),await ap(t)})}function OR(t,e){return e().catch(n=>ad(t,n,e))}async function lp(t){const e=fe(t),n=cs(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;a8(e);)try{const i=await j6(e.localStore,r);if(i===null){e.fu.length===0&&n.Fo();break}r=i.batchId,l8(e,i)}catch(i){await ad(e,i)}PR(e)&&MR(e)}function a8(t){return co(t)&&t.fu.length<10}function l8(t,e){t.fu.push(e);const n=cs(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function PR(t){return co(t)&&!cs(t).No()&&t.fu.length>0}function MR(t){cs(t).start()}async function u8(t){cs(t).eu()}async function c8(t){const e=cs(t);for(const n of t.fu)e.Xo(n.mutations)}async function h8(t,e,n){const r=t.fu.shift(),i=g_.from(r,e,n);await OR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await lp(t)}async function f8(t,e){e&&cs(t).Yo&&await async function(n,r){if(i=r.code,fR(i)&&i!==M.ABORTED){const s=n.fu.shift();cs(n).Mo(),await OR(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await lp(n)}var i}(t,e),PR(t)&&MR(t)}async function KT(t,e){const n=fe(t);n.asyncQueue.verifyOperationInProgress(),ne("RemoteStore","RemoteStore received new credentials");const r=co(n);n._u.add(3),await vc(n),r&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),await ap(n)}async function d8(t,e){const n=fe(t);e?(n._u.delete(2),await ap(n)):e||(n._u.add(2),await vc(n),n.gu.set("Unknown"))}function za(t){return t.pu||(t.pu=function(e,n,r){const i=fe(e);return i.su(),new J6(n,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(t.datastore,t.asyncQueue,{Yr:i8.bind(null,t),Zr:s8.bind(null,t),Wo:o8.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Mo(),S_(t)?E_(t):t.gu.set("Unknown")):(await t.pu.stop(),LR(t))})),t.pu}function cs(t){return t.Iu||(t.Iu=function(e,n,r){const i=fe(e);return i.su(),new e8(n,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(t.datastore,t.asyncQueue,{Yr:u8.bind(null,t),Zr:f8.bind(null,t),tu:c8.bind(null,t),Zo:h8.bind(null,t)}),t.wu.push(async e=>{e?(t.Iu.Mo(),await lp(t)):(await t.Iu.stop(),t.fu.length>0&&(ne("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))})),t.Iu}class T_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,n,r,i,s){const l=Date.now()+r,u=new T_(e,n,l,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function I_(t,e){if(hi("AsyncQueue",`${e}: ${t}`),dc(t))return new q(M.UNAVAILABLE,`${e}: ${t}`);throw t}class oa{constructor(e){this.comparator=e?(n,r)=>e(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=bl(),this.sortedSet=new _t(this.comparator)}static emptySet(e){return new oa(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof oa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new oa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class GT{constructor(){this.Tu=new _t(te.comparator)}track(e){const n=e.doc.key,r=this.Tu.get(n);r?e.type!==0&&r.type===3?this.Tu=this.Tu.insert(n,e):e.type===3&&r.type!==1?this.Tu=this.Tu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Tu=this.Tu.remove(n):e.type===1&&r.type===2?this.Tu=this.Tu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):oe():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ca{constructor(e,n,r,i,s,l,u,h,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,s){const l=[];return n.forEach(u=>{l.push({type:0,doc:u})}),new Ca(e,n,oa.emptySet(n),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class p8{constructor(){this.Au=void 0,this.listeners=[]}}class g8{constructor(){this.queries=new Fa(e=>tR(e),tp),this.onlineState="Unknown",this.Ru=new Set}}async function x_(t,e){const n=fe(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new p8),i)try{s.Au=await n.onListen(r)}catch(l){const u=I_(l,`Initialization of query '${_v(e.query)}' failed`);return void e.onError(u)}n.queries.set(r,s),s.listeners.push(e),e.bu(n.onlineState),s.Au&&e.Pu(s.Au)&&C_(n)}async function k_(t,e){const n=fe(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const l=s.listeners.indexOf(e);l>=0&&(s.listeners.splice(l,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function m8(t,e){const n=fe(t);let r=!1;for(const i of e){const s=i.query,l=n.queries.get(s);if(l){for(const u of l.listeners)u.Pu(i)&&(r=!0);l.Au=i}}r&&C_(n)}function v8(t,e,n){const r=fe(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function C_(t){t.Ru.forEach(e=>{e.next()})}class A_{constructor(e,n,r){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ca(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Nu||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Du(e){if(e.docChanges.length>0)return!0;const n=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}xu(e){e=Ca.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class $R{constructor(e){this.key=e}}class UR{constructor(e){this.key=e}}class y8{constructor(e,n){this.query=e,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Ee(),this.mutatedKeys=Ee(),this.Gu=nR(e),this.Qu=new oa(this.Gu)}get ju(){return this.qu}Wu(e,n){const r=n?n.zu:new GT,i=n?n.Qu:this.Qu;let s=n?n.mutatedKeys:this.mutatedKeys,l=i,u=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,m)=>{const v=i.get(p),w=d_(this.query,m)?m:null,x=!!v&&this.mutatedKeys.has(v.key),A=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let b=!1;v&&w?v.data.isEqual(w.data)?x!==A&&(r.track({type:3,doc:w}),b=!0):this.Hu(v,w)||(r.track({type:2,doc:w}),b=!0,(h&&this.Gu(w,h)>0||f&&this.Gu(w,f)<0)&&(u=!0)):!v&&w?(r.track({type:0,doc:w}),b=!0):v&&!w&&(r.track({type:1,doc:v}),b=!0,(h||f)&&(u=!0)),b&&(w?(l=l.add(w),s=A?s.add(p):s.delete(p)):(l=l.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{Qu:l,zu:r,$i:u,mutatedKeys:s}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((f,p)=>function(m,v){const w=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe()}};return w(m)-w(v)}(f.type,p.type)||this.Gu(f.doc,p.doc)),this.Ju(r);const l=n?this.Yu():[],u=this.Ku.size===0&&this.current?1:0,h=u!==this.Uu;return this.Uu=u,s.length!==0||h?{snapshot:new Ca(this.query,e.Qu,i,s,e.mutatedKeys,u===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:l}:{Xu:l}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new GT,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.qu=this.qu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qu=this.qu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Ee(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const n=[];return e.forEach(r=>{this.Ku.has(r)||n.push(new UR(r))}),this.Ku.forEach(r=>{e.has(r)||n.push(new $R(r))}),n}tc(e){this.qu=e.Hi,this.Ku=Ee();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ec(){return Ca.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,this.Uu===0,this.hasCachedResults)}}class _8{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class w8{constructor(e){this.key=e,this.nc=!1}}class E8{constructor(e,n,r,i,s,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.sc={},this.ic=new Fa(u=>tR(u),tp),this.rc=new Map,this.oc=new Set,this.uc=new _t(te.comparator),this.cc=new Map,this.ac=new m_,this.hc={},this.lc=new Map,this.fc=ka.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return this.dc===!0}}async function S8(t,e){const n=b8(t);let r,i;const s=n.ic.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.ec();else{const l=await q6(n.localStore,fi(e));n.isPrimaryClient&&DR(n.remoteStore,l);const u=n.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,i=await T8(n,e,r,u==="current",l.resumeToken)}return i}async function T8(t,e,n,r,i){t._c=(m,v,w)=>async function(x,A,b,S){let E=A.view.Wu(b);E.$i&&(E=await WT(x.localStore,A.query,!1).then(({documents:P})=>A.view.Wu(P,E)));const I=S&&S.targetChanges.get(A.targetId),C=A.view.applyChanges(E,x.isPrimaryClient,I);return YT(x,A.targetId,C.Xu),C.snapshot}(t,m,v,w);const s=await WT(t.localStore,e,!0),l=new y8(e,s.Hi),u=l.Wu(s.documents),h=mc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=l.applyChanges(u,t.isPrimaryClient,h);YT(t,n,f.Xu);const p=new _8(e,n,l);return t.ic.set(e,p),t.rc.has(n)?t.rc.get(n).push(e):t.rc.set(n,[e]),f.snapshot}async function I8(t,e){const n=fe(t),r=n.ic.get(e),i=n.rc.get(r.targetId);if(i.length>1)return n.rc.set(r.targetId,i.filter(s=>!tp(s,e))),void n.ic.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Ev(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),NR(n.remoteStore,r.targetId),Sv(n,r.targetId)}).catch(fc)):(Sv(n,r.targetId),await Ev(n.localStore,r.targetId,!0))}async function x8(t,e,n){const r=L8(t);try{const i=await function(s,l){const u=fe(s),h=mt.now(),f=l.reduce((v,w)=>v.add(w.key),Ee());let p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let w=di(),x=Ee();return u.Gi.getEntries(v,f).next(A=>{w=A,w.forEach((b,S)=>{S.isValidDocument()||(x=x.add(b))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,w)).next(A=>{p=A;const b=[];for(const S of l){const E=ZV(S,p.get(S.key).overlayedDocument);E!=null&&b.push(new ms(S.key,E,eR(E.value.mapValue),xt.exists(!0)))}return u.mutationQueue.addMutationBatch(v,h,b,l)}).next(A=>{m=A;const b=A.applyToLocalDocumentSet(p,x);return u.documentOverlayCache.saveOverlays(v,A.batchId,b)})}).then(()=>({batchId:m.batchId,changes:gR(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,l,u){let h=s.hc[s.currentUser.toKey()];h||(h=new _t(be)),h=h.insert(l,u),s.hc[s.currentUser.toKey()]=h}(r,i.batchId,n),await yc(r,i.changes),await lp(r.remoteStore)}catch(i){const s=I_(i,"Failed to persist write");n.reject(s)}}async function FR(t,e){const n=fe(t);try{const r=await H6(n.localStore,e);e.targetChanges.forEach((i,s)=>{const l=n.cc.get(s);l&&(Le(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.nc=!0:i.modifiedDocuments.size>0?Le(l.nc):i.removedDocuments.size>0&&(Le(l.nc),l.nc=!1))}),await yc(n,r,e)}catch(r){await fc(r)}}function QT(t,e,n){const r=fe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ic.forEach((s,l)=>{const u=l.view.bu(e);u.snapshot&&i.push(u.snapshot)}),function(s,l){const u=fe(s);u.onlineState=l;let h=!1;u.queries.forEach((f,p)=>{for(const m of p.listeners)m.bu(l)&&(h=!0)}),h&&C_(u)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function k8(t,e,n){const r=fe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.cc.get(e),s=i&&i.key;if(s){let l=new _t(te.comparator);l=l.insert(s,It.newNoDocument(s,le.min()));const u=Ee().add(s),h=new sp(le.min(),new Map,new vt(be),l,u);await FR(r,h),r.uc=r.uc.remove(s),r.cc.delete(e),R_(r)}else await Ev(r.localStore,e,!1).then(()=>Sv(r,e,n)).catch(fc)}async function C8(t,e){const n=fe(t),r=e.batch.batchId;try{const i=await V6(n.localStore,e);BR(n,r,null),zR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await yc(n,i)}catch(i){await fc(i)}}async function A8(t,e,n){const r=fe(t);try{const i=await function(s,l){const u=fe(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let f;return u.mutationQueue.lookupMutationBatch(h,l).next(p=>(Le(p!==null),f=p.keys(),u.mutationQueue.removeMutationBatch(h,p))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,f,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f)).next(()=>u.localDocuments.getDocuments(h,f))})}(r.localStore,e);BR(r,e,n),zR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await yc(r,i)}catch(i){await fc(i)}}function zR(t,e){(t.lc.get(e)||[]).forEach(n=>{n.resolve()}),t.lc.delete(e)}function BR(t,e,n){const r=fe(t);let i=r.hc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function Sv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.rc.get(e))t.ic.delete(r),n&&t.sc.wc(r,n);t.rc.delete(e),t.isPrimaryClient&&t.ac.ls(e).forEach(r=>{t.ac.containsKey(r)||VR(t,r)})}function VR(t,e){t.oc.delete(e.path.canonicalString());const n=t.uc.get(e);n!==null&&(NR(t.remoteStore,n),t.uc=t.uc.remove(e),t.cc.delete(n),R_(t))}function YT(t,e,n){for(const r of n)r instanceof $R?(t.ac.addReference(r.key,e),R8(t,r)):r instanceof UR?(ne("SyncEngine","Document no longer in limbo: "+r.key),t.ac.removeReference(r.key,e),t.ac.containsKey(r.key)||VR(t,r.key)):oe()}function R8(t,e){const n=e.key,r=n.path.canonicalString();t.uc.get(n)||t.oc.has(r)||(ne("SyncEngine","New document in limbo: "+n),t.oc.add(r),R_(t))}function R_(t){for(;t.oc.size>0&&t.uc.size<t.maxConcurrentLimboResolutions;){const e=t.oc.values().next().value;t.oc.delete(e);const n=new te(Fe.fromString(e)),r=t.fc.next();t.cc.set(r,new w8(n)),t.uc=t.uc.insert(n,r),DR(t.remoteStore,new Hs(fi(Jd(n.path)),r,2,o_.at))}}async function yc(t,e,n){const r=fe(t),i=[],s=[],l=[];r.ic.isEmpty()||(r.ic.forEach((u,h)=>{l.push(r._c(h,e,n).then(f=>{if((f||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(h.targetId,f!=null&&f.fromCache?"not-current":"current"),f){i.push(f);const p=y_.Ci(h.targetId,f);s.push(p)}}))}),await Promise.all(l),r.sc.Wo(i),await async function(u,h){const f=fe(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>H.forEach(h,m=>H.forEach(m.Si,v=>f.persistence.referenceDelegate.addReference(p,m.targetId,v)).next(()=>H.forEach(m.Di,v=>f.persistence.referenceDelegate.removeReference(p,m.targetId,v)))))}catch(p){if(!dc(p))throw p;ne("LocalStore","Failed to update sequence numbers: "+p)}for(const p of h){const m=p.targetId;if(!p.fromCache){const v=f.qi.get(m),w=v.snapshotVersion,x=v.withLastLimboFreeSnapshotVersion(w);f.qi=f.qi.insert(m,x)}}}(r.localStore,s))}async function D8(t,e){const n=fe(t);if(!n.currentUser.isEqual(e)){ne("SyncEngine","User change. New user:",e.toKey());const r=await CR(n.localStore,e);n.currentUser=e,function(i,s){i.lc.forEach(l=>{l.forEach(u=>{u.reject(new q(M.CANCELLED,s))})}),i.lc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await yc(n,r.ji)}}function N8(t,e){const n=fe(t),r=n.cc.get(e);if(r&&r.nc)return Ee().add(r.key);{let i=Ee();const s=n.rc.get(e);if(!s)return i;for(const l of s){const u=n.ic.get(l);i=i.unionWith(u.view.ju)}return i}}function b8(t){const e=fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=FR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=N8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=k8.bind(null,e),e.sc.Wo=m8.bind(null,e.eventManager),e.sc.wc=v8.bind(null,e.eventManager),e}function L8(t){const e=fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=C8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=A8.bind(null,e),e}class O8{constructor(){this.synchronizeTabs=!1}async initialize(e){this.yt=op(e.databaseInfo.databaseId),this.sharedClientState=this.gc(e),this.persistence=this.yc(e),await this.persistence.start(),this.localStore=this.Ic(e),this.gcScheduler=this.Tc(e,this.localStore),this.indexBackfillerScheduler=this.Ec(e,this.localStore)}Tc(e,n){return null}Ec(e,n){return null}Ic(e){return B6(this.persistence,new F6,e.initialUser,this.yt)}yc(e){return new $6(v_.Bs,this.yt)}gc(e){return new G6}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class P8{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>QT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=D8.bind(null,this.syncEngine),await d8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new g8}createDatastore(e){const n=op(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new Z6(i));var i;return function(s,l,u,h){return new t8(s,l,u,h)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=u=>QT(this.syncEngine,u,0),l=qT.C()?new qT:new Q6,new r8(n,r,i,s,l);var n,r,i,s,l}createSyncEngine(e,n){return function(r,i,s,l,u,h,f){const p=new E8(r,i,s,l,u,h);return f&&(p.dc=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=fe(e);ne("RemoteStore","RemoteStore shutting down."),n._u.add(5),await vc(n),n.mu.shutdown(),n.gu.set("Unknown")}(this.remoteStore)}}function HR(t,e,n){if(!n)throw new q(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function M8(t,e,n,r){if(e===!0&&r===!0)throw new q(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function XT(t){if(!te.isDocumentKey(t))throw new q(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ZT(t){if(te.isDocumentKey(t))throw new q(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function up(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe()}function yn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=up(t);throw new q(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function $8(t,e){if(e<=0)throw new q(M.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}const JT=new Map;class eI{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new q(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new q(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,M8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eI({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new q(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new q(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eI(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new dV;switch(n.type){case"gapi":const r=n.client;return new vV(r,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new q(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=JT.get(e);n&&(ne("ComponentProvider","Removing Datastore"),JT.delete(e),n.terminate())}(this),Promise.resolve()}}function U8(t,e,n,r={}){var i;const s=(t=yn(t,cp))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&pv("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=Bt.MOCK_USER;else{l=Yz(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new q(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Bt(h)}t._authCredentials=new pV(new WA(l,u))}}class yt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yt(this.firestore,e,this._key)}}class Mr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Mr(this.firestore,e,this._query)}}class Rr extends Mr{constructor(e,n,r){super(e,n,Jd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new te(e))}withConverter(e){return new Rr(this.firestore,e,this._path)}}function bu(t,e,...n){if(t=Qe(t),HR("collection","path",e),t instanceof cp){const r=Fe.fromString(e,...n);return ZT(r),new Rr(t,null,r)}{if(!(t instanceof yt||t instanceof Rr))throw new q(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Fe.fromString(e,...n));return ZT(r),new Rr(t.firestore,null,r)}}function Ht(t,e,...n){if(t=Qe(t),arguments.length===1&&(e=jA.R()),HR("doc","path",e),t instanceof cp){const r=Fe.fromString(e,...n);return XT(r),new yt(t,null,new te(r))}{if(!(t instanceof yt||t instanceof Rr))throw new q(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Fe.fromString(e,...n));return XT(r),new yt(t.firestore,t instanceof Rr?t.converter:null,new te(r))}}function F8(t,e){return t=Qe(t),e=Qe(e),(t instanceof yt||t instanceof Rr)&&(e instanceof yt||e instanceof Rr)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}class D_{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):hi("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class z8{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new q(M.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=await async function(r,i){const s=fe(r),l=Nu(s.yt)+"/documents",u={documents:i.map(m=>od(s.yt,m))},h=await s._o("BatchGetDocuments",l,u,i.length),f=new Map;h.forEach(m=>{const v=h6(s.yt,m);f.set(v.key.toString(),v)});const p=[];return i.forEach(m=>{const v=f.get(m.toString());Le(!!v),p.push(v)}),p}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new ip(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=te.fromPath(r);this.mutations.push(new hR(i,this.precondition(i)))}),await async function(n,r){const i=fe(n),s=Nu(i.yt)+"/documents",l={writes:r.map(u=>TR(i.yt,u))};await i.ao("Commit",s,l)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw oe();n=le.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new q(M.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(le.min())?xt.exists(!1):xt.updateTime(n):xt.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(le.min()))throw new q(M.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return xt.updateTime(n)}return xt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class B8{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.kc=r.maxAttempts,this.xo=new __(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){this.xo.Ro(async()=>{const e=new z8(this.datastore),n=this.Mc(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Fc(i)}))}).catch(r=>{this.Fc(r)})})}Mc(e){try{const n=this.updateFunction(e);return!pc(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!fR(n)}return!1}}class V8{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Bt.UNAUTHENTICATED,this.clientId=jA.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ne("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ne("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new q(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=I_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function H8(t,e){t.asyncQueue.verifyOperationInProgress(),ne("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await CR(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function W8(t,e){t.asyncQueue.verifyOperationInProgress();const n=await j8(t);ne("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>KT(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>KT(e.remoteStore,s)),t.onlineComponents=e}async function j8(t){return t.offlineComponents||(ne("FirestoreClient","Using default OfflineComponentProvider"),await H8(t,new O8)),t.offlineComponents}async function N_(t){return t.onlineComponents||(ne("FirestoreClient","Using default OnlineComponentProvider"),await W8(t,new P8)),t.onlineComponents}function q8(t){return N_(t).then(e=>e.syncEngine)}function K8(t){return N_(t).then(e=>e.datastore)}async function ld(t){const e=await N_(t),n=e.eventManager;return n.onListen=S8.bind(null,e.syncEngine),n.onUnlisten=I8.bind(null,e.syncEngine),n}function G8(t,e,n={}){const r=new Ar;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,l,u,h){const f=new D_({next:m=>{s.enqueueAndForget(()=>k_(i,p));const v=m.docs.has(l);!v&&m.fromCache?h.reject(new q(M.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&m.fromCache&&u&&u.source==="server"?h.reject(new q(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(m)},error:m=>h.reject(m)}),p=new A_(Jd(l.path),f,{includeMetadataChanges:!0,Nu:!0});return x_(i,p)}(await ld(t),t.asyncQueue,e,n,r)),r.promise}function Q8(t,e,n={}){const r=new Ar;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,l,u,h){const f=new D_({next:m=>{s.enqueueAndForget(()=>k_(i,p)),m.fromCache&&u.source==="server"?h.reject(new q(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(m)},error:m=>h.reject(m)}),p=new A_(l,f,{includeMetadataChanges:!0,Nu:!0});return x_(i,p)}(await ld(t),t.asyncQueue,e,n,r)),r.promise}class Y8{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new __(this,"async_queue_retry"),this.Wc=()=>{const n=Om();n&&ne("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.Po()};const e=Om();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const n=Om();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const n=new Ar;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}async Jc(){if(this.Lc.length!==0){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(e){if(!dc(e))throw e;ne("AsyncQueue","Operation failed with retryable error: "+e)}this.Lc.length>0&&this.xo.Ro(()=>this.Jc())}}Hc(e){const n=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{this.Kc=r,this.Gc=!1;const i=function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),l}(r);throw hi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Gc=!1,r))));return this.Bc=n,n}enqueueAfterDelay(e,n,r){this.zc(),this.jc.indexOf(e)>-1&&(n=0);const i=T_.createAndSchedule(this,e,n,r,s=>this.Yc(s));return this.Uc.push(i),i}zc(){this.Kc&&oe()}verifyOperationInProgress(){}async Xc(){let e;do e=this.Bc,await e;while(e!==this.Bc)}Zc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}}function tI(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class pi extends cp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Y8,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||WR(this),this._firestoreClient.terminate()}}function X8(t,e){const n=typeof t=="object"?t:FC(),r=typeof t=="string"?t:e||"(default)",i=$y(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Kz("firestore");s&&U8(i,...s)}return i}function Ba(t){return t._firestoreClient||WR(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function WR(t){var e;const n=t._freezeSettings(),r=function(i,s,l,u){return new CV(i,s,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new V8(t._authCredentials,t._appCheckCredentials,t._queue,r)}class eo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new eo(Qt.fromBase64String(e))}catch(n){throw new q(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new eo(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ho{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new q(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function nI(){return new ho("__name__")}class hp{constructor(e){this._methodName=e}}class b_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}}const Z8=/^__.*__$/;class J8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ms(e,this.data,this.fieldMask,n,this.fieldTransforms):new gc(e,this.data,n,this.fieldTransforms)}}class jR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ms(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function qR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe()}}class L_{constructor(e,n,r,i,s,l){this.settings=e,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,s===void 0&&this.na(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new L_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return ud(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(e.length===0)throw this.ha("Document fields must not be empty");if(qR(this.sa)&&Z8.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class e5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.yt=r||op(e)}da(e,n,r,i=!1){return new L_({sa:e,methodName:n,fa:r,path:Wt.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function Va(t){const e=t._freezeSettings(),n=op(t._databaseId);return new e5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function O_(t,e,n,r,i,s={}){const l=t.da(s.merge||s.mergeFields?2:0,e,n,i);U_("Data must be an object, but it was:",l,r);const u=GR(r,l);let h,f;if(s.merge)h=new Qn(l.fieldMask),f=l.fieldTransforms;else if(s.mergeFields){const p=[];for(const m of s.mergeFields){const v=Tv(e,m,n);if(!l.contains(v))throw new q(M.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);YR(p,v)||p.push(v)}h=new Qn(p),f=l.fieldTransforms.filter(m=>h.covers(m.field))}else h=null,f=l.fieldTransforms;return new J8(new tn(u),h,f)}class fp extends hp{_toFieldTransform(e){if(e.sa!==2)throw e.sa===1?e.ha(`${this._methodName}() can only appear at the top level of your update data`):e.ha(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fp}}class P_ extends hp{_toFieldTransform(e){return new GV(e.path,new Au)}isEqual(e){return e instanceof P_}}function M_(t,e,n,r){const i=t.da(1,e,n);U_("Data must be an object, but it was:",i,r);const s=[],l=tn.empty();lo(r,(h,f)=>{const p=F_(e,h,n);f=Qe(f);const m=i.ca(p);if(f instanceof fp)s.push(p);else{const v=_c(f,m);v!=null&&(s.push(p),l.set(p,v))}});const u=new Qn(s);return new jR(l,u,i.fieldTransforms)}function $_(t,e,n,r,i,s){const l=t.da(1,e,n),u=[Tv(e,r,n)],h=[i];if(s.length%2!=0)throw new q(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<s.length;v+=2)u.push(Tv(e,s[v])),h.push(s[v+1]);const f=[],p=tn.empty();for(let v=u.length-1;v>=0;--v)if(!YR(f,u[v])){const w=u[v];let x=h[v];x=Qe(x);const A=l.ca(w);if(x instanceof fp)f.push(w);else{const b=_c(x,A);b!=null&&(f.push(w),p.set(w,b))}}const m=new Qn(f);return new jR(p,m,l.fieldTransforms)}function KR(t,e,n,r=!1){return _c(n,t.da(r?4:3,e))}function _c(t,e){if(QR(t=Qe(t)))return U_("Unsupported field value:",e,t),GR(t,e);if(t instanceof hp)return function(n,r){if(!qR(r.sa))throw r.ha(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.oa&&e.sa!==4)throw e.ha("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const l of n){let u=_c(l,r.aa(s));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Qe(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return jV(r.yt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=mt.fromDate(n);return{timestampValue:sd(r.yt,i)}}if(n instanceof mt){const i=new mt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:sd(r.yt,i)}}if(n instanceof b_)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof eo)return{bytesValue:wR(r.yt,n._byteString)};if(n instanceof yt){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:p_(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ha(`Unsupported field value: ${up(n)}`)}(t,e)}function GR(t,e){const n={};return qA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):lo(t,(r,i)=>{const s=_c(i,e.ra(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function QR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof mt||t instanceof b_||t instanceof eo||t instanceof yt||t instanceof hp)}function U_(t,e,n){if(!QR(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=up(n);throw r==="an object"?e.ha(t+" a custom object"):e.ha(t+" "+r)}}function Tv(t,e,n){if((e=Qe(e))instanceof ho)return e._internalPath;if(typeof e=="string")return F_(t,e);throw ud("Field path arguments must be of type string or ",t,!1,void 0,n)}const t5=new RegExp("[~\\*/\\[\\]]");function F_(t,e,n){if(e.search(t5)>=0)throw ud(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ho(...e.split("."))._internalPath}catch{throw ud(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ud(t,e,n,r,i){const s=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(s||l)&&(h+=" (found",s&&(h+=` in field ${r}`),l&&(h+=` in document ${i}`),h+=")"),new q(M.INVALID_ARGUMENT,u+t+h)}function YR(t,e){return t.some(n=>n.isEqual(e))}class Lu{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new n5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(dp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class n5 extends Lu{data(){return super.data()}}function dp(t,e){return typeof e=="string"?F_(t,e):e instanceof ho?e._internalPath:e._delegate._internalPath}function XR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new q(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class z_{}class pp extends z_{}function Ou(t,e,...n){let r=[];e instanceof z_&&r.push(e),r=r.concat(n),function(i){const s=i.filter(u=>u instanceof B_).length,l=i.filter(u=>u instanceof gp).length;if(s>1||s>0&&l>0)throw new q(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class gp extends pp{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new gp(e,n,r)}_apply(e){const n=this._parse(e);return JR(e._query,n),new Mr(e.firestore,e.converter,yv(e._query,n))}_parse(e){const n=Va(e.firestore);return function(i,s,l,u,h,f,p){let m;if(h.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new q(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){sI(p,f);const v=[];for(const w of p)v.push(iI(u,i,w));m={arrayValue:{values:v}}}else m=iI(u,i,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||sI(p,f),m=KR(l,s,p,f==="in"||f==="not-in");return ct.create(h,f,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function rI(t,e,n){const r=e,i=dp("where",t);return gp._create(i,r,n)}class B_ extends z_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new B_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:dr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let s=r;const l=i.getFlattenedFilters();for(const u of l)JR(s,u),s=yv(s,u)}(e._query,n),new Mr(e.firestore,e.converter,yv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class V_ extends pp{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new V_(e,n)}_apply(e){const n=function(r,i,s){if(r.startAt!==null)throw new q(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new q(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new sa(i,s);return function(u,h){if(h_(u)===null){const f=ep(u);f!==null&&eD(u,f,h.field)}}(r,l),l}(e._query,this._field,this._direction);return new Mr(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new uo(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function cd(t,e="asc"){const n=e,r=dp("orderBy",t);return V_._create(r,n)}class H_ extends pp{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new H_(e,n,r)}_apply(e){return new Mr(e.firestore,e.converter,rd(e._query,this._limit,this._limitType))}}function Pu(t){return $8("limit",t),H_._create("limit",t,"F")}class W_ extends pp{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new W_(e,n,r)}_apply(e){const n=r5(e,this.type,this._docOrFields,this._inclusive);return new Mr(e.firestore,e.converter,function(r,i){return new uo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)}(e._query,n))}}function ZR(...t){return W_._create("startAfter",t,!1)}function r5(t,e,n,r){if(n[0]=Qe(n[0]),n[0]instanceof Lu)return function(i,s,l,u,h){if(!u)throw new q(M.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const f=[];for(const p of Vs(i))if(p.field.isKeyField())f.push(nd(s,u.key));else{const m=u.data.field(p.field);if(a_(m))throw new q(M.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(m===null){const v=p.field.canonicalString();throw new q(M.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${v}' (used as the orderBy) does not exist.`)}f.push(m)}return new xa(f,h)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Va(t.firestore);return function(s,l,u,h,f,p){const m=s.explicitOrderBy;if(f.length>m.length)throw new q(M.INVALID_ARGUMENT,`Too many arguments provided to ${h}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const v=[];for(let w=0;w<f.length;w++){const x=f[w];if(m[w].field.isKeyField()){if(typeof x!="string")throw new q(M.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${h}(), but got a ${typeof x}`);if(!f_(s)&&x.indexOf("/")!==-1)throw new q(M.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${h}() must be a plain document ID, but '${x}' contains a slash.`);const A=s.path.child(Fe.fromString(x));if(!te.isDocumentKey(A))throw new q(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${h}() must result in a valid document path, but '${A}' is not because it contains an odd number of segments.`);const b=new te(A);v.push(nd(l,b))}else{const A=KR(u,h,x);v.push(A)}}return new xa(v,p)}(t._query,t.firestore._databaseId,i,e,n,r)}}function iI(t,e,n){if(typeof(n=Qe(n))=="string"){if(n==="")throw new q(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!f_(e)&&n.indexOf("/")!==-1)throw new q(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Fe.fromString(n));if(!te.isDocumentKey(r))throw new q(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return nd(t,new te(r))}if(n instanceof yt)return nd(t,n._key);throw new q(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${up(n)}.`)}function sI(t,e){if(!Array.isArray(t)||t.length===0)throw new q(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new q(M.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function JR(t,e){if(e.isInequality()){const r=ep(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new q(M.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=h_(t);s!==null&&eD(t,i,s)}const n=function(r,i){for(const s of r)for(const l of s.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new q(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new q(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function eD(t,e,n){if(!n.isEqual(e))throw new q(M.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class tD{convertValue(e,n="none"){switch(Js(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Sa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw oe()}}convertObject(e,n){const r={};return lo(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new b_(lt(e.latitude),lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=KA(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ku(e));default:return null}}convertTimestamp(e){const n=us(e);return new mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Fe.fromString(e);Le(kR(r));const i=new xu(r.get(1),r.get(3)),s=new te(r.popFirst(5));return i.isEqual(n)||hi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}function j_(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class i5 extends tD{constructor(e){super(),this.firestore=e}convertBytes(e){return new eo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,n)}}class Yo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class q_ extends Lu{constructor(e,n,r,i,s,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ff(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(dp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ff extends q_{data(e={}){return super.data(e)}}class nD{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Yo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ff(this._firestore,this._userDataWriter,r.key,r,new Yo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(l=>{const u=new ff(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Yo(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const u=new ff(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Yo(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let h=-1,f=-1;return l.type!==0&&(h=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),f=s.indexOf(l.doc.key)),{type:s5(l.type),doc:u,oldIndex:h,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function s5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe()}}function o5(t){t=yn(t,yt);const e=yn(t.firestore,pi);return G8(Ba(e),t._key).then(n=>rD(e,t,n))}class mp extends tD{constructor(e){super(),this.firestore=e}convertBytes(e){return new eo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,n)}}function K_(t){t=yn(t,Mr);const e=yn(t.firestore,pi),n=Ba(e),r=new mp(e);return XR(t._query),Q8(n,t._query).then(i=>new nD(e,r,t,i))}function a5(t,e,n){t=yn(t,yt);const r=yn(t.firestore,pi),i=j_(t.converter,e,n);return G_(r,[O_(Va(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,xt.none())])}function oI(t,e,n,...r){t=yn(t,yt);const i=yn(t.firestore,pi),s=Va(i);let l;return l=typeof(e=Qe(e))=="string"||e instanceof ho?$_(s,"updateDoc",t._key,e,n,r):M_(s,"updateDoc",t._key,e),G_(i,[l.toMutation(t._key,xt.exists(!0))])}function hd(t,...e){var n,r,i;t=Qe(t);let s={includeMetadataChanges:!1},l=0;typeof e[l]!="object"||tI(e[l])||(s=e[l],l++);const u={includeMetadataChanges:s.includeMetadataChanges};if(tI(e[l])){const m=e[l];e[l]=(n=m.next)===null||n===void 0?void 0:n.bind(m),e[l+1]=(r=m.error)===null||r===void 0?void 0:r.bind(m),e[l+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let h,f,p;if(t instanceof yt)f=yn(t.firestore,pi),p=Jd(t._key.path),h={next:m=>{e[l]&&e[l](rD(f,t,m))},error:e[l+1],complete:e[l+2]};else{const m=yn(t,Mr);f=yn(m.firestore,pi),p=m._query;const v=new mp(f);h={next:w=>{e[l]&&e[l](new nD(f,v,m,w))},error:e[l+1],complete:e[l+2]},XR(t._query)}return function(m,v,w,x){const A=new D_(x),b=new A_(v,A,w);return m.asyncQueue.enqueueAndForget(async()=>x_(await ld(m),b)),()=>{A.bc(),m.asyncQueue.enqueueAndForget(async()=>k_(await ld(m),b))}}(Ba(f),p,u,h)}function G_(t,e){return function(n,r){const i=new Ar;return n.asyncQueue.enqueueAndForget(async()=>x8(await q8(n),r,i)),i.promise}(Ba(t),e)}function rD(t,e,n){const r=n.docs.get(e._key),i=new mp(t);return new q_(t,i,e._key,r,new Yo(n.hasPendingWrites,n.fromCache),e.converter)}const l5={maxAttempts:5};class u5{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Va(e)}set(e,n,r){this._verifyNotCommitted();const i=Oi(e,this._firestore),s=j_(i.converter,n,r),l=O_(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(l.toMutation(i._key,xt.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Oi(e,this._firestore);let l;return l=typeof(n=Qe(n))=="string"||n instanceof ho?$_(this._dataReader,"WriteBatch.update",s._key,n,r,i):M_(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(l.toMutation(s._key,xt.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Oi(e,this._firestore);return this._mutations=this._mutations.concat(new ip(n._key,xt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new q(M.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Oi(t,e){if((t=Qe(t)).firestore!==e)throw new q(M.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class c5 extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Va(e)}get(e){const n=Oi(e,this._firestore),r=new i5(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return oe();const s=i[0];if(s.isFoundDocument())return new Lu(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new Lu(this._firestore,r,n._key,null,n.converter);throw oe()})}set(e,n,r){const i=Oi(e,this._firestore),s=j_(i.converter,n,r),l=O_(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,l),this}update(e,n,r,...i){const s=Oi(e,this._firestore);let l;return l=typeof(n=Qe(n))=="string"||n instanceof ho?$_(this._dataReader,"Transaction.update",s._key,n,r,i):M_(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,l),this}delete(e){const n=Oi(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Oi(e,this._firestore),r=new mp(this._firestore);return super.get(e).then(i=>new q_(this._firestore,r,n._key,i._document,new Yo(!1,!1),n.converter))}}function h5(t,e,n){t=yn(t,pi);const r=Object.assign(Object.assign({},l5),n);return function(i){if(i.maxAttempts<1)throw new q(M.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,s,l){const u=new Ar;return i.asyncQueue.enqueueAndForget(async()=>{const h=await K8(i);new B8(i.asyncQueue,h,l,s,u).run()}),u.promise}(Ba(t),i=>e(new c5(t,i)),r)}function Mu(){return new P_("serverTimestamp")}function iD(t){return Ba(t=yn(t,pi)),new u5(t,e=>G_(t,e))}(function(t,e=!0){(function(n){Ua=n})(nc),_a(new Ys("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),l=new pi(new gV(n.getProvider("auth-internal")),new _V(n.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new q(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xu(u.options.projectId,h)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),ts(xT,"3.8.0",t),ts(xT,"3.8.0","esm2017")})();function Q_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function sD(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const f5=sD,oD=new ec("auth","Firebase",sD());const aI=new Py("@firebase/auth");function df(t,...e){aI.logLevel<=De.ERROR&&aI.error(`Auth (${nc}): ${t}`,...e)}function Pr(t,...e){throw Y_(t,...e)}function Dr(t,...e){return Y_(t,...e)}function aD(t,e,n){const r=Object.assign(Object.assign({},f5()),{[e]:n});return new ec("auth","Firebase",r).create(e,{appName:t.name})}function d5(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Pr(t,"argument-error"),aD(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Y_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return oD.create(t,...e)}function ue(t,e,...n){if(!t)throw Y_(e,...n)}function ri(t){const e="INTERNAL ASSERTION FAILED: "+t;throw df(e),new Error(e)}function gi(t,e){t||ri(e)}const lI=new Map;function ii(t){gi(t instanceof Function,"Expected a class definition");let e=lI.get(t);return e?(gi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,lI.set(t,e),e)}function p5(t,e){const n=$y(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(jf(s,e??{}))return i;Pr(i,"already-initialized")}return n.initialize({options:e})}function g5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ii);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Iv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function m5(){return uI()==="http:"||uI()==="https:"}function uI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function v5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(m5()||Uz()||"connection"in navigator)?navigator.onLine:!0}function y5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class wc{constructor(e,n){this.shortDelay=e,this.longDelay=n,gi(n>e,"Short delay should be less than long delay!"),this.isMobile=$z()||Fz()}get(){return v5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function X_(t,e){gi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class lD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};const w5=new wc(3e4,6e4);function E5(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function vp(t,e,n,r,i={}){return uD(t,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const u=tc(Object.assign({key:t.config.apiKey},l)).slice(1),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),lD.fetch()(cD(t,t.config.apiHost,n,u),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},s))})}async function uD(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},_5),e);try{const i=new T5(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw Vh(t,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const u=s.ok?l.errorMessage:l.error.message,[h,f]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vh(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Vh(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw Vh(t,"user-disabled",l);const p=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw aD(t,p,f);Pr(t,p)}}catch(i){if(i instanceof vi)throw i;Pr(t,"network-request-failed")}}async function S5(t,e,n,r,i={}){const s=await vp(t,e,n,r,i);return"mfaPendingCredential"in s&&Pr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function cD(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?X_(t.config,i):`${t.config.apiScheme}://${i}`}class T5{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Dr(this.auth,"network-request-failed")),w5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Vh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Dr(t,e,r);return i.customData._tokenResponse=n,i}async function I5(t,e){return vp(t,"POST","/v1/accounts:delete",e)}async function x5(t,e){return vp(t,"POST","/v1/accounts:lookup",e)}function Ql(t){if(!!t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function k5(t,e=!1){const n=Qe(t),r=await n.getIdToken(e),i=Z_(r);ue(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ql(Pm(i.auth_time)),issuedAtTime:Ql(Pm(i.iat)),expirationTime:Ql(Pm(i.exp)),signInProvider:l||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Pm(t){return Number(t)*1e3}function Z_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return df("JWT malformed, contained fewer than 3 sections"),null;try{const i=LC(n);return i?JSON.parse(i):(df("Failed to decode base64 JWT payload"),null)}catch(i){return df("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function C5(t){const e=Z_(t);return ue(e,"internal-error"),ue(typeof e.exp<"u","internal-error"),ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function $u(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof vi&&A5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function A5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class R5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class hD{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ql(this.lastLoginAt),this.creationTime=Ql(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function fd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await $u(t,x5(n,{idToken:r}));ue(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const l=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?b5(s.providerUserInfo):[],u=N5(t.providerData,l),h=t.isAnonymous,f=!(t.email&&s.passwordHash)&&!(u!=null&&u.length),p=h?f:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new hD(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,m)}async function D5(t){const e=Qe(t);await fd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function N5(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function b5(t){return t.map(e=>{var{providerId:n}=e,r=Q_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function L5(t,e){const n=await uD(t,{},async()=>{const r=tc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,l=cD(t,i,"/v1/token",`key=${s}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",lD.fetch()(l,{method:"POST",headers:u,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}class Uu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken<"u","internal-error"),ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):C5(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ue(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await L5(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,l=new Uu;return r&&(ue(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(ue(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(ue(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Uu,this.toJSON())}_performRefresh(){return ri("not implemented")}}function Ri(t,e){ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ws{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Q_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new R5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new hD(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await $u(this,this.stsTokenManager.getToken(this.auth,e));return ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return k5(this,e)}reload(){return D5(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Ws(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await fd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await $u(this,I5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,l,u,h,f,p;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,v=(i=n.email)!==null&&i!==void 0?i:void 0,w=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,x=(l=n.photoURL)!==null&&l!==void 0?l:void 0,A=(u=n.tenantId)!==null&&u!==void 0?u:void 0,b=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,S=(f=n.createdAt)!==null&&f!==void 0?f:void 0,E=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:I,emailVerified:C,isAnonymous:P,providerData:V,stsTokenManager:L}=n;ue(I&&L,e,"internal-error");const W=Uu.fromJSON(this.name,L);ue(typeof I=="string",e,"internal-error"),Ri(m,e.name),Ri(v,e.name),ue(typeof C=="boolean",e,"internal-error"),ue(typeof P=="boolean",e,"internal-error"),Ri(w,e.name),Ri(x,e.name),Ri(A,e.name),Ri(b,e.name),Ri(S,e.name),Ri(E,e.name);const X=new Ws({uid:I,auth:e,email:v,emailVerified:C,displayName:m,isAnonymous:P,photoURL:x,phoneNumber:w,tenantId:A,stsTokenManager:W,createdAt:S,lastLoginAt:E});return V&&Array.isArray(V)&&(X.providerData=V.map(j=>Object.assign({},j))),b&&(X._redirectEventId=b),X}static async _fromIdTokenResponse(e,n,r=!1){const i=new Uu;i.updateFromServerResponse(n);const s=new Ws({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await fd(s),s}}class fD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}fD.type="NONE";const cI=fD;function pf(t,e,n){return`firebase:${t}:${e}:${n}`}class aa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=pf(this.userKey,i.apiKey,s),this.fullPersistenceKey=pf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ws._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new aa(ii(cI),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=i[0]||ii(cI);const l=pf(r,e.config.apiKey,e.name);let u=null;for(const f of n)try{const p=await f._get(l);if(p){const m=Ws._fromJSON(e,p);f!==s&&(u=m),s=f;break}}catch{}const h=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!h.length?new aa(s,e,r):(s=h[0],u&&await s._set(l,u.toJSON()),await Promise.all(n.map(async f=>{if(f!==s)try{await f._remove(l)}catch{}})),new aa(s,e,r))}}function hI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vD(e))return"Blackberry";if(yD(e))return"Webos";if(J_(e))return"Safari";if((e.includes("chrome/")||pD(e))&&!e.includes("edge/"))return"Chrome";if(mD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function dD(t=Gt()){return/firefox\//i.test(t)}function J_(t=Gt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pD(t=Gt()){return/crios\//i.test(t)}function gD(t=Gt()){return/iemobile/i.test(t)}function mD(t=Gt()){return/android/i.test(t)}function vD(t=Gt()){return/blackberry/i.test(t)}function yD(t=Gt()){return/webos/i.test(t)}function yp(t=Gt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function O5(t=Gt()){var e;return yp(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function P5(){return zz()&&document.documentMode===10}function _D(t=Gt()){return yp(t)||mD(t)||yD(t)||vD(t)||/windows phone/i.test(t)||gD(t)}function M5(){try{return!!(window&&window!==window.top)}catch{return!1}}function wD(t,e=[]){let n;switch(t){case"Browser":n=hI(Gt());break;case"Worker":n=`${hI(Gt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${nc}/${r}`}class $5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((l,u)=>{try{const h=e(s);l(h)}catch(h){u(h)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}class U5{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fI(this),this.idTokenSubscription=new fI(this),this.beforeStateQueue=new $5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oD,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ii(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await aa.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&(h!=null&&h.user)&&(i=h.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await fd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=y5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Qe(e):null;return n&&ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ii(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ec("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ii(e)||this._popupRedirectResolver;ue(n,this,"argument-error"),this.redirectPersistenceManager=await aa.create(this,[ii(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),l=this._isInitialized?Promise.resolve():this._initializationPromise;return ue(l,this,"internal-error"),l.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function _p(t){return Qe(t)}class fI{constructor(e){this.auth=e,this.observer=null,this.addObserver=tB(n=>this.observer=n)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function F5(t,e,n){const r=_p(t);ue(r._canInitEmulator,r,"emulator-config-failed"),ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=ED(e),{host:l,port:u}=z5(e),h=u===null?"":`:${u}`;r.config.emulator={url:`${s}//${l}${h}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||B5()}function ED(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function z5(t){const e=ED(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:dI(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:dI(l)}}}function dI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function B5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class SD{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ri("not implemented")}_getIdTokenResponse(e){return ri("not implemented")}_linkToIdToken(e,n){return ri("not implemented")}_getReauthenticationResolver(e){return ri("not implemented")}}async function la(t,e){return S5(t,"POST","/v1/accounts:signInWithIdp",E5(t,e))}const V5="http://localhost";class to extends SD{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new to(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Pr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Q_(n,["providerId","signInMethod"]);if(!r||!i)return null;const l=new to(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return la(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,la(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,la(e,n)}buildRequest(){const e={requestUri:V5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=tc(n)}return e}}class e1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ec extends e1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Pi extends Ec{constructor(){super("facebook.com")}static credential(e){return to._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pi.credential(e.oauthAccessToken)}catch{return null}}}Pi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pi.PROVIDER_ID="facebook.com";class Jr extends Ec{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return to._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Jr.credential(n,r)}catch{return null}}}Jr.GOOGLE_SIGN_IN_METHOD="google.com";Jr.PROVIDER_ID="google.com";class Mi extends Ec{constructor(){super("github.com")}static credential(e){return to._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mi.credential(e.oauthAccessToken)}catch{return null}}}Mi.GITHUB_SIGN_IN_METHOD="github.com";Mi.PROVIDER_ID="github.com";class $i extends Ec{constructor(){super("twitter.com")}static credential(e,n){return to._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return $i.credential(n,r)}catch{return null}}}$i.TWITTER_SIGN_IN_METHOD="twitter.com";$i.PROVIDER_ID="twitter.com";class Aa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ws._fromIdTokenResponse(e,r,i),l=pI(r);return new Aa({user:s,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=pI(r);return new Aa({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function pI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class dd extends vi{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,dd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new dd(e,n,r,i)}}function TD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?dd._fromErrorAndOperation(t,s,e,r):s})}async function H5(t,e,n=!1){const r=await $u(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Aa._forOperation(t,"link",r)}async function W5(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await $u(t,TD(r,i,e,t),n);ue(s.idToken,r,"internal-error");const l=Z_(s.idToken);ue(l,r,"internal-error");const{sub:u}=l;return ue(t.uid===u,r,"user-mismatch"),Aa._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Pr(r,"user-mismatch"),s}}async function j5(t,e,n=!1){const r="signIn",i=await TD(t,r,e),s=await Aa._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function q5(t,e,n,r){return Qe(t).onIdTokenChanged(e,n,r)}function K5(t,e,n){return Qe(t).beforeAuthStateChanged(e,n)}function ID(t,e,n,r){return Qe(t).onAuthStateChanged(e,n,r)}function G5(t){return Qe(t).signOut()}const pd="__sak";class xD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(pd,"1"),this.storage.removeItem(pd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}function Q5(){const t=Gt();return J_(t)||yp(t)}const Y5=1e3,X5=10;class kD extends xD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Q5()&&M5(),this.fallbackToPolling=_D(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const l=this.storage.getItem(r);if(e.newValue!==l)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);P5()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,X5):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Y5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}kD.type="LOCAL";const Z5=kD;class CD extends xD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}CD.type="SESSION";const AD=CD;function J5(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class wp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new wp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async f=>f(n.origin,s)),h=await J5(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wp.receivers=[];function t1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class eH{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((u,h)=>{const f=t1("",20);i.port1.start();const p=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(m){const v=m;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(v.data.response);break;default:clearTimeout(p),clearTimeout(s),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function Nr(){return window}function tH(t){Nr().location.href=t}function RD(){return typeof Nr().WorkerGlobalScope<"u"&&typeof Nr().importScripts=="function"}async function nH(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rH(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function iH(){return RD()?self:null}const DD="firebaseLocalStorageDb",sH=1,gd="firebaseLocalStorage",ND="fbase_key";class Sc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ep(t,e){return t.transaction([gd],e?"readwrite":"readonly").objectStore(gd)}function oH(){const t=indexedDB.deleteDatabase(DD);return new Sc(t).toPromise()}function xv(){const t=indexedDB.open(DD,sH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(gd,{keyPath:ND})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(gd)?e(r):(r.close(),await oH(),e(await xv()))})})}async function gI(t,e,n){const r=Ep(t,!0).put({[ND]:e,value:n});return new Sc(r).toPromise()}async function aH(t,e){const n=Ep(t,!1).get(e),r=await new Sc(n).toPromise();return r===void 0?null:r.value}function mI(t,e){const n=Ep(t,!0).delete(e);return new Sc(n).toPromise()}const lH=800,uH=3;class bD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>uH)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return RD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wp._getInstance(iH()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await nH(),!this.activeServiceWorker)return;this.sender=new eH(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);!r||!((e=r[0])===null||e===void 0)&&e.fulfilled&&(!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xv();return await gI(e,pd,"1"),await mI(e,pd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>gI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>aH(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>mI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Ep(i,!1).getAll();return new Sc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bD.type="LOCAL";const cH=bD;function hH(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function fH(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Dr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",hH().appendChild(r)})}function dH(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new wc(3e4,6e4);function LD(t,e){return e?ii(e):(ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class n1 extends SD{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return la(e,this._buildIdpRequest())}_linkToIdToken(e,n){return la(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return la(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function pH(t){return j5(t.auth,new n1(t),t.bypassAuthState)}function gH(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),W5(n,new n1(t),t.bypassAuthState)}async function mH(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),H5(n,new n1(t),t.bypassAuthState)}class OD{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pH;case"linkViaPopup":case"linkViaRedirect":return mH;case"reauthViaPopup":case"reauthViaRedirect":return gH;default:Pr(this.auth,"internal-error")}}resolve(e){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const vH=new wc(2e3,1e4);async function yH(t,e,n){const r=_p(t);d5(t,e,e1);const i=LD(r,n);return new Ps(r,"signInViaPopup",e,i).executeNotNull()}class Ps extends OD{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ps.currentPopupAction&&Ps.currentPopupAction.cancel(),Ps.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ue(e,this.auth,"internal-error"),e}async onExecution(){gi(this.filter.length===1,"Popup operations only handle one event");const e=t1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Dr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Dr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ps.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Dr(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,vH.get())};e()}}Ps.currentPopupAction=null;const _H="pendingRedirect",gf=new Map;class wH extends OD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=gf.get(this.auth._key());if(!e){try{const r=await EH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}gf.set(this.auth._key(),e)}return this.bypassAuthState||gf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function EH(t,e){const n=IH(e),r=TH(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function SH(t,e){gf.set(t._key(),e)}function TH(t){return ii(t._redirectPersistence)}function IH(t){return pf(_H,t.config.apiKey,t.name)}async function xH(t,e,n=!1){const r=_p(t),i=LD(r,e),l=await new wH(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}const kH=10*60*1e3;class CH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!AH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!PD(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Dr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kH&&this.cachedEventUids.clear(),this.cachedEventUids.has(vI(e))}saveEventToCache(e){this.cachedEventUids.add(vI(e)),this.lastProcessedEventTime=Date.now()}}function vI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function PD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function AH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return PD(t);default:return!1}}async function RH(t,e={}){return vp(t,"GET","/v1/projects",e)}const DH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NH=/^https?/;async function bH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await RH(t);for(const n of e)try{if(LH(n))return}catch{}Pr(t,"unauthorized-domain")}function LH(t){const e=Iv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!NH.test(n))return!1;if(DH.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const OH=new wc(3e4,6e4);function yI(){const t=Nr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function PH(t){return new Promise((e,n)=>{var r,i,s;function l(){yI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yI(),n(Dr(t,"network-request-failed"))},timeout:OH.get()})}if(!((i=(r=Nr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Nr().gapi)===null||s===void 0)&&s.load)l();else{const u=dH("iframefcb");return Nr()[u]=()=>{gapi.load?l():n(Dr(t,"network-request-failed"))},fH(`https://apis.google.com/js/api.js?onload=${u}`).catch(h=>n(h))}}).catch(e=>{throw mf=null,e})}let mf=null;function MH(t){return mf=mf||PH(t),mf}const $H=new wc(5e3,15e3),UH="__/auth/iframe",FH="emulator/auth/iframe",zH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VH(t){const e=t.config;ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?X_(e,FH):`https://${t.config.authDomain}/${UH}`,r={apiKey:e.apiKey,appName:t.name,v:nc},i=BH.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${tc(r).slice(1)}`}async function HH(t){const e=await MH(t),n=Nr().gapi;return ue(n,t,"internal-error"),e.open({where:document.body,url:VH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zH,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=Dr(t,"network-request-failed"),u=Nr().setTimeout(()=>{s(l)},$H.get());function h(){Nr().clearTimeout(u),i(r)}r.ping(h).then(h,()=>{s(l)})}))}const WH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jH=500,qH=600,KH="_blank",GH="http://localhost";class _I{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QH(t,e,n,r=jH,i=qH){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const h=Object.assign(Object.assign({},WH),{width:r.toString(),height:i.toString(),top:s,left:l}),f=Gt().toLowerCase();n&&(u=pD(f)?KH:n),dD(f)&&(e=e||GH,h.scrollbars="yes");const p=Object.entries(h).reduce((v,[w,x])=>`${v}${w}=${x},`,"");if(O5(f)&&u!=="_self")return YH(e||"",u),new _I(null);const m=window.open(e||"",u,p);ue(m,t,"popup-blocked");try{m.focus()}catch{}return new _I(m)}function YH(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const XH="__/auth/handler",ZH="emulator/auth/handler";function wI(t,e,n,r,i,s){ue(t.config.authDomain,t,"auth-domain-config-required"),ue(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:nc,eventId:i};if(e instanceof e1){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",eB(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries(s||{}))l[h]=f}if(e instanceof Ec){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(l.scopes=h.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const h of Object.keys(u))u[h]===void 0&&delete u[h];return`${JH(t)}?${tc(u).slice(1)}`}function JH({config:t}){return t.emulator?X_(t,ZH):`https://${t.authDomain}/${XH}`}const Mm="webStorageSupport";class eW{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AD,this._completeRedirectFn=xH,this._overrideRedirectResult=SH}async _openPopup(e,n,r,i){var s;gi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const l=wI(e,n,r,Iv(),i);return QH(e,l,t1())}async _openRedirect(e,n,r,i){return await this._originValidation(e),tH(wI(e,n,r,Iv(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(gi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await HH(e),r=new CH(e);return n.register("authEvent",i=>(ue(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Mm,{type:Mm},i=>{var s;const l=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Mm];l!==void 0&&n(!!l),Pr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _D()||J_()||yp()}}const tW=eW;var EI="@firebase/auth",SI="0.21.0";class nW{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function rW(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function iW(t){_a(new Ys("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:l}=r.options;return((u,h)=>{ue(s&&!s.includes(":"),"invalid-api-key",{appName:u.name}),ue(!(l!=null&&l.includes(":")),"argument-error",{appName:u.name});const f={apiKey:s,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wD(t)},p=new U5(u,h,f);return g5(p,n),p})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),_a(new Ys("auth-internal",e=>{const n=_p(e.getProvider("auth").getImmediate());return(r=>new nW(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ts(EI,SI,rW(t)),ts(EI,SI,"esm2017")}const sW=5*60,oW=PC("authIdTokenMaxAge")||sW;let TI=null;const aW=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>oW)return;const i=n==null?void 0:n.token;TI!==i&&(TI=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function ua(t=FC()){const e=$y(t,"auth");if(e.isInitialized())return e.getImmediate();const n=p5(t,{popupRedirectResolver:tW,persistence:[cH,Z5,AD]}),r=PC("authTokenSyncURL");if(r){const s=aW(r);K5(n,s,()=>s(n.currentUser)),q5(n,l=>s(l))}const i=OC("auth");return i&&F5(n,`http://${i}`),n}iW("Browser");const lW={apiKey:"AIzaSyB0BMlIzghB018JTYDl0xRrVfj5-GuAvTE",authDomain:"pixel-c9fc0.firebaseapp.com",projectId:"pixel-c9fc0",storageBucket:"pixel-c9fc0.appspot.com",messagingSenderId:"66207413445",appId:"1:66207413445:web:1bd6ed9968dd577a61acac",measurementId:"G-XB3N3JX5V4"},MD=UC(lW),qe=X8(MD),ns=ua(MD);function uW(t,e,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function u(p){try{f(r.next(p))}catch(m){l(m)}}function h(p){try{f(r.throw(p))}catch(m){l(m)}}function f(p){p.done?s(p.value):i(p.value).then(u,h)}f((r=r.apply(t,e||[])).next())})}function cW(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(f){return function(p){return h([f,p])}}function h(f){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){n.label=f[1];break}if(f[0]===6&&n.label<s[1]){n.label=s[1],s=f;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(f);break}s[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(p){f=[6,p],i=0}finally{r=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var Xo=function(){return Xo=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Xo.apply(this,arguments)},$D=function(t){return{loading:t==null,value:t}},hW=function(){return function(t,e){switch(e.type){case"error":return Xo(Xo({},t),{error:e.error,loading:!1,value:void 0});case"reset":return $D(e.defaultValue);case"value":return Xo(Xo({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},fW=function(t){var e=t?t():void 0,n=F.exports.useReducer(hW(),$D(e)),r=n[0],i=n[1],s=F.exports.useCallback(function(){var h=t?t():void 0;i({type:"reset",defaultValue:h})},[t]),l=F.exports.useCallback(function(h){i({type:"error",error:h})},[]),u=F.exports.useCallback(function(h){i({type:"value",value:h})},[]);return F.exports.useMemo(function(){return{error:r.error,loading:r.loading,reset:s,setError:l,setValue:u,value:r.value}},[r.error,r.loading,s,l,u,r.value])},Tc=function(t,e){var n=fW(function(){return t.currentUser}),r=n.error,i=n.loading,s=n.setError,l=n.setValue,u=n.value;return F.exports.useEffect(function(){var h=ID(t,function(f){return uW(void 0,void 0,void 0,function(){var p;return cW(this,function(m){switch(m.label){case 0:if(!(e!=null&&e.onUserChanged))return[3,4];m.label=1;case 1:return m.trys.push([1,3,,4]),[4,e.onUserChanged(f)];case 2:return m.sent(),[3,4];case 3:return p=m.sent(),s(p),[3,4];case 4:return l(f),[2]}})})},s);return function(){h()}},[t]),[u,i,r]};function UD(t){const[e,n,r]=Tc(ns),[i,s]=F.exports.useState(null);ID(ns,u=>{u||t.setPopup(!1)});const l=async u=>{u.preventDefault();const h=iD(qe),f=Ht(qe,"users",e.uid),p=Ht(qe,"usernames",u.target.username.value.toLowerCase());h.set(f,{username:u.target.username.value.toLowerCase()}),h.set(p,{uid:e.uid});try{await h.commit(),localStorage.setItem("username",u.target.username.value.toLowerCase()),s(null),t.setPopup(!1)}catch{s("Username already exists!"),setTimeout(()=>s(!0),5e3)}};if(e)return Me("div",{className:"Register",children:[Me("form",{onSubmit:l,children:[Me("div",{className:"form-pair",children:[Z("label",{htmlFor:"username",children:" Select a username "}),Z("input",{type:"text",id:"username",name:"username",minLength:"3",pattern:"[A-Za-z0-9_]{3,24}",onInvalid:u=>{u.target.setCustomValidity("Please input a username between 3 and 24 characters containing only letters, digits, and underscores.")},onChange:u=>{u.target.setCustomValidity("")},required:!0})]}),Z("button",{type:"submit",children:" Register "})]}),i!==null&&Me("h1",{children:[" ",i," "]})]})}var kv={exports:{}};(function(t,e){(function(){var n,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",u="Invalid `variable` option passed into `_.template`",h="__lodash_hash_undefined__",f=500,p="__lodash_placeholder__",m=1,v=2,w=4,x=1,A=2,b=1,S=2,E=4,I=8,C=16,P=32,V=64,L=128,W=256,X=512,j=30,ae="...",Yt=800,pr=16,gr=1,yi=2,qa=3,Jn=1/0,G=9007199254740991,de=17976931348623157e292,pe=0/0,Ce=4294967295,ot=Ce-1,go=Ce>>>1,$r=[["ary",L],["bind",b],["bindKey",S],["curry",I],["curryRight",C],["flip",X],["partial",P],["partialRight",V],["rearg",W]],mr="[object Arguments]",Pn="[object Array]",mo="[object AsyncFunction]",Ka="[object Boolean]",Ga="[object Date]",TN="[object DOMException]",Ac="[object Error]",Rc="[object Function]",c1="[object GeneratorFunction]",er="[object Map]",Qa="[object Number]",IN="[object Null]",Ur="[object Object]",h1="[object Promise]",xN="[object Proxy]",Ya="[object RegExp]",tr="[object Set]",Xa="[object String]",Dc="[object Symbol]",kN="[object Undefined]",Za="[object WeakMap]",CN="[object WeakSet]",Ja="[object ArrayBuffer]",vo="[object DataView]",kp="[object Float32Array]",Cp="[object Float64Array]",Ap="[object Int8Array]",Rp="[object Int16Array]",Dp="[object Int32Array]",Np="[object Uint8Array]",bp="[object Uint8ClampedArray]",Lp="[object Uint16Array]",Op="[object Uint32Array]",AN=/\b__p \+= '';/g,RN=/\b(__p \+=) '' \+/g,DN=/(__e\(.*?\)|\b__t\)) \+\n'';/g,f1=/&(?:amp|lt|gt|quot|#39);/g,d1=/[&<>"']/g,NN=RegExp(f1.source),bN=RegExp(d1.source),LN=/<%-([\s\S]+?)%>/g,ON=/<%([\s\S]+?)%>/g,p1=/<%=([\s\S]+?)%>/g,PN=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,MN=/^\w*$/,$N=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pp=/[\\^$.*+?()[\]{}|]/g,UN=RegExp(Pp.source),Mp=/^\s+/,FN=/\s/,zN=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,BN=/\{\n\/\* \[wrapped with (.+)\] \*/,VN=/,? & /,HN=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,WN=/[()=,{}\[\]\/\s]/,jN=/\\(\\)?/g,qN=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,g1=/\w*$/,KN=/^[-+]0x[0-9a-f]+$/i,GN=/^0b[01]+$/i,QN=/^\[object .+?Constructor\]$/,YN=/^0o[0-7]+$/i,XN=/^(?:0|[1-9]\d*)$/,ZN=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Nc=/($^)/,JN=/['\n\r\u2028\u2029\\]/g,bc="\\ud800-\\udfff",eb="\\u0300-\\u036f",tb="\\ufe20-\\ufe2f",nb="\\u20d0-\\u20ff",m1=eb+tb+nb,v1="\\u2700-\\u27bf",y1="a-z\\xdf-\\xf6\\xf8-\\xff",rb="\\xac\\xb1\\xd7\\xf7",ib="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",sb="\\u2000-\\u206f",ob=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",_1="A-Z\\xc0-\\xd6\\xd8-\\xde",w1="\\ufe0e\\ufe0f",E1=rb+ib+sb+ob,$p="[']",ab="["+bc+"]",S1="["+E1+"]",Lc="["+m1+"]",T1="\\d+",lb="["+v1+"]",I1="["+y1+"]",x1="[^"+bc+E1+T1+v1+y1+_1+"]",Up="\\ud83c[\\udffb-\\udfff]",ub="(?:"+Lc+"|"+Up+")",k1="[^"+bc+"]",Fp="(?:\\ud83c[\\udde6-\\uddff]){2}",zp="[\\ud800-\\udbff][\\udc00-\\udfff]",yo="["+_1+"]",C1="\\u200d",A1="(?:"+I1+"|"+x1+")",cb="(?:"+yo+"|"+x1+")",R1="(?:"+$p+"(?:d|ll|m|re|s|t|ve))?",D1="(?:"+$p+"(?:D|LL|M|RE|S|T|VE))?",N1=ub+"?",b1="["+w1+"]?",hb="(?:"+C1+"(?:"+[k1,Fp,zp].join("|")+")"+b1+N1+")*",fb="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",db="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",L1=b1+N1+hb,pb="(?:"+[lb,Fp,zp].join("|")+")"+L1,gb="(?:"+[k1+Lc+"?",Lc,Fp,zp,ab].join("|")+")",mb=RegExp($p,"g"),vb=RegExp(Lc,"g"),Bp=RegExp(Up+"(?="+Up+")|"+gb+L1,"g"),yb=RegExp([yo+"?"+I1+"+"+R1+"(?="+[S1,yo,"$"].join("|")+")",cb+"+"+D1+"(?="+[S1,yo+A1,"$"].join("|")+")",yo+"?"+A1+"+"+R1,yo+"+"+D1,db,fb,T1,pb].join("|"),"g"),_b=RegExp("["+C1+bc+m1+w1+"]"),wb=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Eb=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Sb=-1,Be={};Be[kp]=Be[Cp]=Be[Ap]=Be[Rp]=Be[Dp]=Be[Np]=Be[bp]=Be[Lp]=Be[Op]=!0,Be[mr]=Be[Pn]=Be[Ja]=Be[Ka]=Be[vo]=Be[Ga]=Be[Ac]=Be[Rc]=Be[er]=Be[Qa]=Be[Ur]=Be[Ya]=Be[tr]=Be[Xa]=Be[Za]=!1;var Ue={};Ue[mr]=Ue[Pn]=Ue[Ja]=Ue[vo]=Ue[Ka]=Ue[Ga]=Ue[kp]=Ue[Cp]=Ue[Ap]=Ue[Rp]=Ue[Dp]=Ue[er]=Ue[Qa]=Ue[Ur]=Ue[Ya]=Ue[tr]=Ue[Xa]=Ue[Dc]=Ue[Np]=Ue[bp]=Ue[Lp]=Ue[Op]=!0,Ue[Ac]=Ue[Rc]=Ue[Za]=!1;var Tb={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Ib={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},xb={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},kb={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Cb=parseFloat,Ab=parseInt,O1=typeof gl=="object"&&gl&&gl.Object===Object&&gl,Rb=typeof self=="object"&&self&&self.Object===Object&&self,At=O1||Rb||Function("return this")(),Vp=e&&!e.nodeType&&e,vs=Vp&&!0&&t&&!t.nodeType&&t,P1=vs&&vs.exports===Vp,Hp=P1&&O1.process,Mn=function(){try{var R=vs&&vs.require&&vs.require("util").types;return R||Hp&&Hp.binding&&Hp.binding("util")}catch{}}(),M1=Mn&&Mn.isArrayBuffer,$1=Mn&&Mn.isDate,U1=Mn&&Mn.isMap,F1=Mn&&Mn.isRegExp,z1=Mn&&Mn.isSet,B1=Mn&&Mn.isTypedArray;function _n(R,O,N){switch(N.length){case 0:return R.call(O);case 1:return R.call(O,N[0]);case 2:return R.call(O,N[0],N[1]);case 3:return R.call(O,N[0],N[1],N[2])}return R.apply(O,N)}function Db(R,O,N,Q){for(var he=-1,Ae=R==null?0:R.length;++he<Ae;){var ht=R[he];O(Q,ht,N(ht),R)}return Q}function $n(R,O){for(var N=-1,Q=R==null?0:R.length;++N<Q&&O(R[N],N,R)!==!1;);return R}function Nb(R,O){for(var N=R==null?0:R.length;N--&&O(R[N],N,R)!==!1;);return R}function V1(R,O){for(var N=-1,Q=R==null?0:R.length;++N<Q;)if(!O(R[N],N,R))return!1;return!0}function _i(R,O){for(var N=-1,Q=R==null?0:R.length,he=0,Ae=[];++N<Q;){var ht=R[N];O(ht,N,R)&&(Ae[he++]=ht)}return Ae}function Oc(R,O){var N=R==null?0:R.length;return!!N&&_o(R,O,0)>-1}function Wp(R,O,N){for(var Q=-1,he=R==null?0:R.length;++Q<he;)if(N(O,R[Q]))return!0;return!1}function We(R,O){for(var N=-1,Q=R==null?0:R.length,he=Array(Q);++N<Q;)he[N]=O(R[N],N,R);return he}function wi(R,O){for(var N=-1,Q=O.length,he=R.length;++N<Q;)R[he+N]=O[N];return R}function jp(R,O,N,Q){var he=-1,Ae=R==null?0:R.length;for(Q&&Ae&&(N=R[++he]);++he<Ae;)N=O(N,R[he],he,R);return N}function bb(R,O,N,Q){var he=R==null?0:R.length;for(Q&&he&&(N=R[--he]);he--;)N=O(N,R[he],he,R);return N}function qp(R,O){for(var N=-1,Q=R==null?0:R.length;++N<Q;)if(O(R[N],N,R))return!0;return!1}var Lb=Kp("length");function Ob(R){return R.split("")}function Pb(R){return R.match(HN)||[]}function H1(R,O,N){var Q;return N(R,function(he,Ae,ht){if(O(he,Ae,ht))return Q=Ae,!1}),Q}function Pc(R,O,N,Q){for(var he=R.length,Ae=N+(Q?1:-1);Q?Ae--:++Ae<he;)if(O(R[Ae],Ae,R))return Ae;return-1}function _o(R,O,N){return O===O?Kb(R,O,N):Pc(R,W1,N)}function Mb(R,O,N,Q){for(var he=N-1,Ae=R.length;++he<Ae;)if(Q(R[he],O))return he;return-1}function W1(R){return R!==R}function j1(R,O){var N=R==null?0:R.length;return N?Qp(R,O)/N:pe}function Kp(R){return function(O){return O==null?n:O[R]}}function Gp(R){return function(O){return R==null?n:R[O]}}function q1(R,O,N,Q,he){return he(R,function(Ae,ht,$e){N=Q?(Q=!1,Ae):O(N,Ae,ht,$e)}),N}function $b(R,O){var N=R.length;for(R.sort(O);N--;)R[N]=R[N].value;return R}function Qp(R,O){for(var N,Q=-1,he=R.length;++Q<he;){var Ae=O(R[Q]);Ae!==n&&(N=N===n?Ae:N+Ae)}return N}function Yp(R,O){for(var N=-1,Q=Array(R);++N<R;)Q[N]=O(N);return Q}function Ub(R,O){return We(O,function(N){return[N,R[N]]})}function K1(R){return R&&R.slice(0,X1(R)+1).replace(Mp,"")}function wn(R){return function(O){return R(O)}}function Xp(R,O){return We(O,function(N){return R[N]})}function el(R,O){return R.has(O)}function G1(R,O){for(var N=-1,Q=R.length;++N<Q&&_o(O,R[N],0)>-1;);return N}function Q1(R,O){for(var N=R.length;N--&&_o(O,R[N],0)>-1;);return N}function Fb(R,O){for(var N=R.length,Q=0;N--;)R[N]===O&&++Q;return Q}var zb=Gp(Tb),Bb=Gp(Ib);function Vb(R){return"\\"+kb[R]}function Hb(R,O){return R==null?n:R[O]}function wo(R){return _b.test(R)}function Wb(R){return wb.test(R)}function jb(R){for(var O,N=[];!(O=R.next()).done;)N.push(O.value);return N}function Zp(R){var O=-1,N=Array(R.size);return R.forEach(function(Q,he){N[++O]=[he,Q]}),N}function Y1(R,O){return function(N){return R(O(N))}}function Ei(R,O){for(var N=-1,Q=R.length,he=0,Ae=[];++N<Q;){var ht=R[N];(ht===O||ht===p)&&(R[N]=p,Ae[he++]=N)}return Ae}function Mc(R){var O=-1,N=Array(R.size);return R.forEach(function(Q){N[++O]=Q}),N}function qb(R){var O=-1,N=Array(R.size);return R.forEach(function(Q){N[++O]=[Q,Q]}),N}function Kb(R,O,N){for(var Q=N-1,he=R.length;++Q<he;)if(R[Q]===O)return Q;return-1}function Gb(R,O,N){for(var Q=N+1;Q--;)if(R[Q]===O)return Q;return Q}function Eo(R){return wo(R)?Yb(R):Lb(R)}function nr(R){return wo(R)?Xb(R):Ob(R)}function X1(R){for(var O=R.length;O--&&FN.test(R.charAt(O)););return O}var Qb=Gp(xb);function Yb(R){for(var O=Bp.lastIndex=0;Bp.test(R);)++O;return O}function Xb(R){return R.match(Bp)||[]}function Zb(R){return R.match(yb)||[]}var Jb=function R(O){O=O==null?At:So.defaults(At.Object(),O,So.pick(At,Eb));var N=O.Array,Q=O.Date,he=O.Error,Ae=O.Function,ht=O.Math,$e=O.Object,Jp=O.RegExp,e2=O.String,Un=O.TypeError,$c=N.prototype,t2=Ae.prototype,To=$e.prototype,Uc=O["__core-js_shared__"],Fc=t2.toString,Oe=To.hasOwnProperty,n2=0,Z1=function(){var o=/[^.]+$/.exec(Uc&&Uc.keys&&Uc.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),zc=To.toString,r2=Fc.call($e),i2=At._,s2=Jp("^"+Fc.call(Oe).replace(Pp,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Bc=P1?O.Buffer:n,Si=O.Symbol,Vc=O.Uint8Array,J1=Bc?Bc.allocUnsafe:n,Hc=Y1($e.getPrototypeOf,$e),ew=$e.create,tw=To.propertyIsEnumerable,Wc=$c.splice,nw=Si?Si.isConcatSpreadable:n,tl=Si?Si.iterator:n,ys=Si?Si.toStringTag:n,jc=function(){try{var o=Ts($e,"defineProperty");return o({},"",{}),o}catch{}}(),o2=O.clearTimeout!==At.clearTimeout&&O.clearTimeout,a2=Q&&Q.now!==At.Date.now&&Q.now,l2=O.setTimeout!==At.setTimeout&&O.setTimeout,qc=ht.ceil,Kc=ht.floor,eg=$e.getOwnPropertySymbols,u2=Bc?Bc.isBuffer:n,rw=O.isFinite,c2=$c.join,h2=Y1($e.keys,$e),ft=ht.max,$t=ht.min,f2=Q.now,d2=O.parseInt,iw=ht.random,p2=$c.reverse,tg=Ts(O,"DataView"),nl=Ts(O,"Map"),ng=Ts(O,"Promise"),Io=Ts(O,"Set"),rl=Ts(O,"WeakMap"),il=Ts($e,"create"),Gc=rl&&new rl,xo={},g2=Is(tg),m2=Is(nl),v2=Is(ng),y2=Is(Io),_2=Is(rl),Qc=Si?Si.prototype:n,sl=Qc?Qc.valueOf:n,sw=Qc?Qc.toString:n;function y(o){if(et(o)&&!ge(o)&&!(o instanceof we)){if(o instanceof Fn)return o;if(Oe.call(o,"__wrapped__"))return oE(o)}return new Fn(o)}var ko=function(){function o(){}return function(a){if(!Ye(a))return{};if(ew)return ew(a);o.prototype=a;var c=new o;return o.prototype=n,c}}();function Yc(){}function Fn(o,a){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!a,this.__index__=0,this.__values__=n}y.templateSettings={escape:LN,evaluate:ON,interpolate:p1,variable:"",imports:{_:y}},y.prototype=Yc.prototype,y.prototype.constructor=y,Fn.prototype=ko(Yc.prototype),Fn.prototype.constructor=Fn;function we(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ce,this.__views__=[]}function w2(){var o=new we(this.__wrapped__);return o.__actions__=ln(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=ln(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=ln(this.__views__),o}function E2(){if(this.__filtered__){var o=new we(this);o.__dir__=-1,o.__filtered__=!0}else o=this.clone(),o.__dir__*=-1;return o}function S2(){var o=this.__wrapped__.value(),a=this.__dir__,c=ge(o),d=a<0,g=c?o.length:0,_=OL(0,g,this.__views__),T=_.start,k=_.end,D=k-T,$=d?k:T-1,U=this.__iteratees__,z=U.length,K=0,J=$t(D,this.__takeCount__);if(!c||!d&&g==D&&J==D)return Rw(o,this.__actions__);var ie=[];e:for(;D--&&K<J;){$+=a;for(var ve=-1,se=o[$];++ve<z;){var _e=U[ve],Te=_e.iteratee,Tn=_e.type,Jt=Te(se);if(Tn==yi)se=Jt;else if(!Jt){if(Tn==gr)continue e;break e}}ie[K++]=se}return ie}we.prototype=ko(Yc.prototype),we.prototype.constructor=we;function _s(o){var a=-1,c=o==null?0:o.length;for(this.clear();++a<c;){var d=o[a];this.set(d[0],d[1])}}function T2(){this.__data__=il?il(null):{},this.size=0}function I2(o){var a=this.has(o)&&delete this.__data__[o];return this.size-=a?1:0,a}function x2(o){var a=this.__data__;if(il){var c=a[o];return c===h?n:c}return Oe.call(a,o)?a[o]:n}function k2(o){var a=this.__data__;return il?a[o]!==n:Oe.call(a,o)}function C2(o,a){var c=this.__data__;return this.size+=this.has(o)?0:1,c[o]=il&&a===n?h:a,this}_s.prototype.clear=T2,_s.prototype.delete=I2,_s.prototype.get=x2,_s.prototype.has=k2,_s.prototype.set=C2;function Fr(o){var a=-1,c=o==null?0:o.length;for(this.clear();++a<c;){var d=o[a];this.set(d[0],d[1])}}function A2(){this.__data__=[],this.size=0}function R2(o){var a=this.__data__,c=Xc(a,o);if(c<0)return!1;var d=a.length-1;return c==d?a.pop():Wc.call(a,c,1),--this.size,!0}function D2(o){var a=this.__data__,c=Xc(a,o);return c<0?n:a[c][1]}function N2(o){return Xc(this.__data__,o)>-1}function b2(o,a){var c=this.__data__,d=Xc(c,o);return d<0?(++this.size,c.push([o,a])):c[d][1]=a,this}Fr.prototype.clear=A2,Fr.prototype.delete=R2,Fr.prototype.get=D2,Fr.prototype.has=N2,Fr.prototype.set=b2;function zr(o){var a=-1,c=o==null?0:o.length;for(this.clear();++a<c;){var d=o[a];this.set(d[0],d[1])}}function L2(){this.size=0,this.__data__={hash:new _s,map:new(nl||Fr),string:new _s}}function O2(o){var a=uh(this,o).delete(o);return this.size-=a?1:0,a}function P2(o){return uh(this,o).get(o)}function M2(o){return uh(this,o).has(o)}function $2(o,a){var c=uh(this,o),d=c.size;return c.set(o,a),this.size+=c.size==d?0:1,this}zr.prototype.clear=L2,zr.prototype.delete=O2,zr.prototype.get=P2,zr.prototype.has=M2,zr.prototype.set=$2;function ws(o){var a=-1,c=o==null?0:o.length;for(this.__data__=new zr;++a<c;)this.add(o[a])}function U2(o){return this.__data__.set(o,h),this}function F2(o){return this.__data__.has(o)}ws.prototype.add=ws.prototype.push=U2,ws.prototype.has=F2;function rr(o){var a=this.__data__=new Fr(o);this.size=a.size}function z2(){this.__data__=new Fr,this.size=0}function B2(o){var a=this.__data__,c=a.delete(o);return this.size=a.size,c}function V2(o){return this.__data__.get(o)}function H2(o){return this.__data__.has(o)}function W2(o,a){var c=this.__data__;if(c instanceof Fr){var d=c.__data__;if(!nl||d.length<i-1)return d.push([o,a]),this.size=++c.size,this;c=this.__data__=new zr(d)}return c.set(o,a),this.size=c.size,this}rr.prototype.clear=z2,rr.prototype.delete=B2,rr.prototype.get=V2,rr.prototype.has=H2,rr.prototype.set=W2;function ow(o,a){var c=ge(o),d=!c&&xs(o),g=!c&&!d&&Ci(o),_=!c&&!d&&!g&&Do(o),T=c||d||g||_,k=T?Yp(o.length,e2):[],D=k.length;for(var $ in o)(a||Oe.call(o,$))&&!(T&&($=="length"||g&&($=="offset"||$=="parent")||_&&($=="buffer"||$=="byteLength"||$=="byteOffset")||Wr($,D)))&&k.push($);return k}function aw(o){var a=o.length;return a?o[dg(0,a-1)]:n}function j2(o,a){return ch(ln(o),Es(a,0,o.length))}function q2(o){return ch(ln(o))}function rg(o,a,c){(c!==n&&!ir(o[a],c)||c===n&&!(a in o))&&Br(o,a,c)}function ol(o,a,c){var d=o[a];(!(Oe.call(o,a)&&ir(d,c))||c===n&&!(a in o))&&Br(o,a,c)}function Xc(o,a){for(var c=o.length;c--;)if(ir(o[c][0],a))return c;return-1}function K2(o,a,c,d){return Ti(o,function(g,_,T){a(d,g,c(g),T)}),d}function lw(o,a){return o&&yr(a,wt(a),o)}function G2(o,a){return o&&yr(a,cn(a),o)}function Br(o,a,c){a=="__proto__"&&jc?jc(o,a,{configurable:!0,enumerable:!0,value:c,writable:!0}):o[a]=c}function ig(o,a){for(var c=-1,d=a.length,g=N(d),_=o==null;++c<d;)g[c]=_?n:Ug(o,a[c]);return g}function Es(o,a,c){return o===o&&(c!==n&&(o=o<=c?o:c),a!==n&&(o=o>=a?o:a)),o}function zn(o,a,c,d,g,_){var T,k=a&m,D=a&v,$=a&w;if(c&&(T=g?c(o,d,g,_):c(o)),T!==n)return T;if(!Ye(o))return o;var U=ge(o);if(U){if(T=ML(o),!k)return ln(o,T)}else{var z=Ut(o),K=z==Rc||z==c1;if(Ci(o))return bw(o,k);if(z==Ur||z==mr||K&&!g){if(T=D||K?{}:Xw(o),!k)return D?xL(o,G2(T,o)):IL(o,lw(T,o))}else{if(!Ue[z])return g?o:{};T=$L(o,z,k)}}_||(_=new rr);var J=_.get(o);if(J)return J;_.set(o,T),kE(o)?o.forEach(function(se){T.add(zn(se,a,c,se,o,_))}):IE(o)&&o.forEach(function(se,_e){T.set(_e,zn(se,a,c,_e,o,_))});var ie=$?D?Ig:Tg:D?cn:wt,ve=U?n:ie(o);return $n(ve||o,function(se,_e){ve&&(_e=se,se=o[_e]),ol(T,_e,zn(se,a,c,_e,o,_))}),T}function Q2(o){var a=wt(o);return function(c){return uw(c,o,a)}}function uw(o,a,c){var d=c.length;if(o==null)return!d;for(o=$e(o);d--;){var g=c[d],_=a[g],T=o[g];if(T===n&&!(g in o)||!_(T))return!1}return!0}function cw(o,a,c){if(typeof o!="function")throw new Un(l);return dl(function(){o.apply(n,c)},a)}function al(o,a,c,d){var g=-1,_=Oc,T=!0,k=o.length,D=[],$=a.length;if(!k)return D;c&&(a=We(a,wn(c))),d?(_=Wp,T=!1):a.length>=i&&(_=el,T=!1,a=new ws(a));e:for(;++g<k;){var U=o[g],z=c==null?U:c(U);if(U=d||U!==0?U:0,T&&z===z){for(var K=$;K--;)if(a[K]===z)continue e;D.push(U)}else _(a,z,d)||D.push(U)}return D}var Ti=$w(vr),hw=$w(og,!0);function Y2(o,a){var c=!0;return Ti(o,function(d,g,_){return c=!!a(d,g,_),c}),c}function Zc(o,a,c){for(var d=-1,g=o.length;++d<g;){var _=o[d],T=a(_);if(T!=null&&(k===n?T===T&&!Sn(T):c(T,k)))var k=T,D=_}return D}function X2(o,a,c,d){var g=o.length;for(c=me(c),c<0&&(c=-c>g?0:g+c),d=d===n||d>g?g:me(d),d<0&&(d+=g),d=c>d?0:AE(d);c<d;)o[c++]=a;return o}function fw(o,a){var c=[];return Ti(o,function(d,g,_){a(d,g,_)&&c.push(d)}),c}function Rt(o,a,c,d,g){var _=-1,T=o.length;for(c||(c=FL),g||(g=[]);++_<T;){var k=o[_];a>0&&c(k)?a>1?Rt(k,a-1,c,d,g):wi(g,k):d||(g[g.length]=k)}return g}var sg=Uw(),dw=Uw(!0);function vr(o,a){return o&&sg(o,a,wt)}function og(o,a){return o&&dw(o,a,wt)}function Jc(o,a){return _i(a,function(c){return jr(o[c])})}function Ss(o,a){a=xi(a,o);for(var c=0,d=a.length;o!=null&&c<d;)o=o[_r(a[c++])];return c&&c==d?o:n}function pw(o,a,c){var d=a(o);return ge(o)?d:wi(d,c(o))}function Xt(o){return o==null?o===n?kN:IN:ys&&ys in $e(o)?LL(o):qL(o)}function ag(o,a){return o>a}function Z2(o,a){return o!=null&&Oe.call(o,a)}function J2(o,a){return o!=null&&a in $e(o)}function eL(o,a,c){return o>=$t(a,c)&&o<ft(a,c)}function lg(o,a,c){for(var d=c?Wp:Oc,g=o[0].length,_=o.length,T=_,k=N(_),D=1/0,$=[];T--;){var U=o[T];T&&a&&(U=We(U,wn(a))),D=$t(U.length,D),k[T]=!c&&(a||g>=120&&U.length>=120)?new ws(T&&U):n}U=o[0];var z=-1,K=k[0];e:for(;++z<g&&$.length<D;){var J=U[z],ie=a?a(J):J;if(J=c||J!==0?J:0,!(K?el(K,ie):d($,ie,c))){for(T=_;--T;){var ve=k[T];if(!(ve?el(ve,ie):d(o[T],ie,c)))continue e}K&&K.push(ie),$.push(J)}}return $}function tL(o,a,c,d){return vr(o,function(g,_,T){a(d,c(g),_,T)}),d}function ll(o,a,c){a=xi(a,o),o=tE(o,a);var d=o==null?o:o[_r(Vn(a))];return d==null?n:_n(d,o,c)}function gw(o){return et(o)&&Xt(o)==mr}function nL(o){return et(o)&&Xt(o)==Ja}function rL(o){return et(o)&&Xt(o)==Ga}function ul(o,a,c,d,g){return o===a?!0:o==null||a==null||!et(o)&&!et(a)?o!==o&&a!==a:iL(o,a,c,d,ul,g)}function iL(o,a,c,d,g,_){var T=ge(o),k=ge(a),D=T?Pn:Ut(o),$=k?Pn:Ut(a);D=D==mr?Ur:D,$=$==mr?Ur:$;var U=D==Ur,z=$==Ur,K=D==$;if(K&&Ci(o)){if(!Ci(a))return!1;T=!0,U=!1}if(K&&!U)return _||(_=new rr),T||Do(o)?Gw(o,a,c,d,g,_):NL(o,a,D,c,d,g,_);if(!(c&x)){var J=U&&Oe.call(o,"__wrapped__"),ie=z&&Oe.call(a,"__wrapped__");if(J||ie){var ve=J?o.value():o,se=ie?a.value():a;return _||(_=new rr),g(ve,se,c,d,_)}}return K?(_||(_=new rr),bL(o,a,c,d,g,_)):!1}function sL(o){return et(o)&&Ut(o)==er}function ug(o,a,c,d){var g=c.length,_=g,T=!d;if(o==null)return!_;for(o=$e(o);g--;){var k=c[g];if(T&&k[2]?k[1]!==o[k[0]]:!(k[0]in o))return!1}for(;++g<_;){k=c[g];var D=k[0],$=o[D],U=k[1];if(T&&k[2]){if($===n&&!(D in o))return!1}else{var z=new rr;if(d)var K=d($,U,D,o,a,z);if(!(K===n?ul(U,$,x|A,d,z):K))return!1}}return!0}function mw(o){if(!Ye(o)||BL(o))return!1;var a=jr(o)?s2:QN;return a.test(Is(o))}function oL(o){return et(o)&&Xt(o)==Ya}function aL(o){return et(o)&&Ut(o)==tr}function lL(o){return et(o)&&mh(o.length)&&!!Be[Xt(o)]}function vw(o){return typeof o=="function"?o:o==null?hn:typeof o=="object"?ge(o)?ww(o[0],o[1]):_w(o):FE(o)}function cg(o){if(!fl(o))return h2(o);var a=[];for(var c in $e(o))Oe.call(o,c)&&c!="constructor"&&a.push(c);return a}function uL(o){if(!Ye(o))return jL(o);var a=fl(o),c=[];for(var d in o)d=="constructor"&&(a||!Oe.call(o,d))||c.push(d);return c}function hg(o,a){return o<a}function yw(o,a){var c=-1,d=un(o)?N(o.length):[];return Ti(o,function(g,_,T){d[++c]=a(g,_,T)}),d}function _w(o){var a=kg(o);return a.length==1&&a[0][2]?Jw(a[0][0],a[0][1]):function(c){return c===o||ug(c,o,a)}}function ww(o,a){return Ag(o)&&Zw(a)?Jw(_r(o),a):function(c){var d=Ug(c,o);return d===n&&d===a?Fg(c,o):ul(a,d,x|A)}}function eh(o,a,c,d,g){o!==a&&sg(a,function(_,T){if(g||(g=new rr),Ye(_))cL(o,a,T,c,eh,d,g);else{var k=d?d(Dg(o,T),_,T+"",o,a,g):n;k===n&&(k=_),rg(o,T,k)}},cn)}function cL(o,a,c,d,g,_,T){var k=Dg(o,c),D=Dg(a,c),$=T.get(D);if($){rg(o,c,$);return}var U=_?_(k,D,c+"",o,a,T):n,z=U===n;if(z){var K=ge(D),J=!K&&Ci(D),ie=!K&&!J&&Do(D);U=D,K||J||ie?ge(k)?U=k:rt(k)?U=ln(k):J?(z=!1,U=bw(D,!0)):ie?(z=!1,U=Lw(D,!0)):U=[]:pl(D)||xs(D)?(U=k,xs(k)?U=RE(k):(!Ye(k)||jr(k))&&(U=Xw(D))):z=!1}z&&(T.set(D,U),g(U,D,d,_,T),T.delete(D)),rg(o,c,U)}function Ew(o,a){var c=o.length;if(!!c)return a+=a<0?c:0,Wr(a,c)?o[a]:n}function Sw(o,a,c){a.length?a=We(a,function(_){return ge(_)?function(T){return Ss(T,_.length===1?_[0]:_)}:_}):a=[hn];var d=-1;a=We(a,wn(re()));var g=yw(o,function(_,T,k){var D=We(a,function($){return $(_)});return{criteria:D,index:++d,value:_}});return $b(g,function(_,T){return TL(_,T,c)})}function hL(o,a){return Tw(o,a,function(c,d){return Fg(o,d)})}function Tw(o,a,c){for(var d=-1,g=a.length,_={};++d<g;){var T=a[d],k=Ss(o,T);c(k,T)&&cl(_,xi(T,o),k)}return _}function fL(o){return function(a){return Ss(a,o)}}function fg(o,a,c,d){var g=d?Mb:_o,_=-1,T=a.length,k=o;for(o===a&&(a=ln(a)),c&&(k=We(o,wn(c)));++_<T;)for(var D=0,$=a[_],U=c?c($):$;(D=g(k,U,D,d))>-1;)k!==o&&Wc.call(k,D,1),Wc.call(o,D,1);return o}function Iw(o,a){for(var c=o?a.length:0,d=c-1;c--;){var g=a[c];if(c==d||g!==_){var _=g;Wr(g)?Wc.call(o,g,1):mg(o,g)}}return o}function dg(o,a){return o+Kc(iw()*(a-o+1))}function dL(o,a,c,d){for(var g=-1,_=ft(qc((a-o)/(c||1)),0),T=N(_);_--;)T[d?_:++g]=o,o+=c;return T}function pg(o,a){var c="";if(!o||a<1||a>G)return c;do a%2&&(c+=o),a=Kc(a/2),a&&(o+=o);while(a);return c}function ye(o,a){return Ng(eE(o,a,hn),o+"")}function pL(o){return aw(No(o))}function gL(o,a){var c=No(o);return ch(c,Es(a,0,c.length))}function cl(o,a,c,d){if(!Ye(o))return o;a=xi(a,o);for(var g=-1,_=a.length,T=_-1,k=o;k!=null&&++g<_;){var D=_r(a[g]),$=c;if(D==="__proto__"||D==="constructor"||D==="prototype")return o;if(g!=T){var U=k[D];$=d?d(U,D,k):n,$===n&&($=Ye(U)?U:Wr(a[g+1])?[]:{})}ol(k,D,$),k=k[D]}return o}var xw=Gc?function(o,a){return Gc.set(o,a),o}:hn,mL=jc?function(o,a){return jc(o,"toString",{configurable:!0,enumerable:!1,value:Bg(a),writable:!0})}:hn;function vL(o){return ch(No(o))}function Bn(o,a,c){var d=-1,g=o.length;a<0&&(a=-a>g?0:g+a),c=c>g?g:c,c<0&&(c+=g),g=a>c?0:c-a>>>0,a>>>=0;for(var _=N(g);++d<g;)_[d]=o[d+a];return _}function yL(o,a){var c;return Ti(o,function(d,g,_){return c=a(d,g,_),!c}),!!c}function th(o,a,c){var d=0,g=o==null?d:o.length;if(typeof a=="number"&&a===a&&g<=go){for(;d<g;){var _=d+g>>>1,T=o[_];T!==null&&!Sn(T)&&(c?T<=a:T<a)?d=_+1:g=_}return g}return gg(o,a,hn,c)}function gg(o,a,c,d){var g=0,_=o==null?0:o.length;if(_===0)return 0;a=c(a);for(var T=a!==a,k=a===null,D=Sn(a),$=a===n;g<_;){var U=Kc((g+_)/2),z=c(o[U]),K=z!==n,J=z===null,ie=z===z,ve=Sn(z);if(T)var se=d||ie;else $?se=ie&&(d||K):k?se=ie&&K&&(d||!J):D?se=ie&&K&&!J&&(d||!ve):J||ve?se=!1:se=d?z<=a:z<a;se?g=U+1:_=U}return $t(_,ot)}function kw(o,a){for(var c=-1,d=o.length,g=0,_=[];++c<d;){var T=o[c],k=a?a(T):T;if(!c||!ir(k,D)){var D=k;_[g++]=T===0?0:T}}return _}function Cw(o){return typeof o=="number"?o:Sn(o)?pe:+o}function En(o){if(typeof o=="string")return o;if(ge(o))return We(o,En)+"";if(Sn(o))return sw?sw.call(o):"";var a=o+"";return a=="0"&&1/o==-Jn?"-0":a}function Ii(o,a,c){var d=-1,g=Oc,_=o.length,T=!0,k=[],D=k;if(c)T=!1,g=Wp;else if(_>=i){var $=a?null:RL(o);if($)return Mc($);T=!1,g=el,D=new ws}else D=a?[]:k;e:for(;++d<_;){var U=o[d],z=a?a(U):U;if(U=c||U!==0?U:0,T&&z===z){for(var K=D.length;K--;)if(D[K]===z)continue e;a&&D.push(z),k.push(U)}else g(D,z,c)||(D!==k&&D.push(z),k.push(U))}return k}function mg(o,a){return a=xi(a,o),o=tE(o,a),o==null||delete o[_r(Vn(a))]}function Aw(o,a,c,d){return cl(o,a,c(Ss(o,a)),d)}function nh(o,a,c,d){for(var g=o.length,_=d?g:-1;(d?_--:++_<g)&&a(o[_],_,o););return c?Bn(o,d?0:_,d?_+1:g):Bn(o,d?_+1:0,d?g:_)}function Rw(o,a){var c=o;return c instanceof we&&(c=c.value()),jp(a,function(d,g){return g.func.apply(g.thisArg,wi([d],g.args))},c)}function vg(o,a,c){var d=o.length;if(d<2)return d?Ii(o[0]):[];for(var g=-1,_=N(d);++g<d;)for(var T=o[g],k=-1;++k<d;)k!=g&&(_[g]=al(_[g]||T,o[k],a,c));return Ii(Rt(_,1),a,c)}function Dw(o,a,c){for(var d=-1,g=o.length,_=a.length,T={};++d<g;){var k=d<_?a[d]:n;c(T,o[d],k)}return T}function yg(o){return rt(o)?o:[]}function _g(o){return typeof o=="function"?o:hn}function xi(o,a){return ge(o)?o:Ag(o,a)?[o]:sE(Ne(o))}var _L=ye;function ki(o,a,c){var d=o.length;return c=c===n?d:c,!a&&c>=d?o:Bn(o,a,c)}var Nw=o2||function(o){return At.clearTimeout(o)};function bw(o,a){if(a)return o.slice();var c=o.length,d=J1?J1(c):new o.constructor(c);return o.copy(d),d}function wg(o){var a=new o.constructor(o.byteLength);return new Vc(a).set(new Vc(o)),a}function wL(o,a){var c=a?wg(o.buffer):o.buffer;return new o.constructor(c,o.byteOffset,o.byteLength)}function EL(o){var a=new o.constructor(o.source,g1.exec(o));return a.lastIndex=o.lastIndex,a}function SL(o){return sl?$e(sl.call(o)):{}}function Lw(o,a){var c=a?wg(o.buffer):o.buffer;return new o.constructor(c,o.byteOffset,o.length)}function Ow(o,a){if(o!==a){var c=o!==n,d=o===null,g=o===o,_=Sn(o),T=a!==n,k=a===null,D=a===a,$=Sn(a);if(!k&&!$&&!_&&o>a||_&&T&&D&&!k&&!$||d&&T&&D||!c&&D||!g)return 1;if(!d&&!_&&!$&&o<a||$&&c&&g&&!d&&!_||k&&c&&g||!T&&g||!D)return-1}return 0}function TL(o,a,c){for(var d=-1,g=o.criteria,_=a.criteria,T=g.length,k=c.length;++d<T;){var D=Ow(g[d],_[d]);if(D){if(d>=k)return D;var $=c[d];return D*($=="desc"?-1:1)}}return o.index-a.index}function Pw(o,a,c,d){for(var g=-1,_=o.length,T=c.length,k=-1,D=a.length,$=ft(_-T,0),U=N(D+$),z=!d;++k<D;)U[k]=a[k];for(;++g<T;)(z||g<_)&&(U[c[g]]=o[g]);for(;$--;)U[k++]=o[g++];return U}function Mw(o,a,c,d){for(var g=-1,_=o.length,T=-1,k=c.length,D=-1,$=a.length,U=ft(_-k,0),z=N(U+$),K=!d;++g<U;)z[g]=o[g];for(var J=g;++D<$;)z[J+D]=a[D];for(;++T<k;)(K||g<_)&&(z[J+c[T]]=o[g++]);return z}function ln(o,a){var c=-1,d=o.length;for(a||(a=N(d));++c<d;)a[c]=o[c];return a}function yr(o,a,c,d){var g=!c;c||(c={});for(var _=-1,T=a.length;++_<T;){var k=a[_],D=d?d(c[k],o[k],k,c,o):n;D===n&&(D=o[k]),g?Br(c,k,D):ol(c,k,D)}return c}function IL(o,a){return yr(o,Cg(o),a)}function xL(o,a){return yr(o,Qw(o),a)}function rh(o,a){return function(c,d){var g=ge(c)?Db:K2,_=a?a():{};return g(c,o,re(d,2),_)}}function Co(o){return ye(function(a,c){var d=-1,g=c.length,_=g>1?c[g-1]:n,T=g>2?c[2]:n;for(_=o.length>3&&typeof _=="function"?(g--,_):n,T&&Zt(c[0],c[1],T)&&(_=g<3?n:_,g=1),a=$e(a);++d<g;){var k=c[d];k&&o(a,k,d,_)}return a})}function $w(o,a){return function(c,d){if(c==null)return c;if(!un(c))return o(c,d);for(var g=c.length,_=a?g:-1,T=$e(c);(a?_--:++_<g)&&d(T[_],_,T)!==!1;);return c}}function Uw(o){return function(a,c,d){for(var g=-1,_=$e(a),T=d(a),k=T.length;k--;){var D=T[o?k:++g];if(c(_[D],D,_)===!1)break}return a}}function kL(o,a,c){var d=a&b,g=hl(o);function _(){var T=this&&this!==At&&this instanceof _?g:o;return T.apply(d?c:this,arguments)}return _}function Fw(o){return function(a){a=Ne(a);var c=wo(a)?nr(a):n,d=c?c[0]:a.charAt(0),g=c?ki(c,1).join(""):a.slice(1);return d[o]()+g}}function Ao(o){return function(a){return jp($E(ME(a).replace(mb,"")),o,"")}}function hl(o){return function(){var a=arguments;switch(a.length){case 0:return new o;case 1:return new o(a[0]);case 2:return new o(a[0],a[1]);case 3:return new o(a[0],a[1],a[2]);case 4:return new o(a[0],a[1],a[2],a[3]);case 5:return new o(a[0],a[1],a[2],a[3],a[4]);case 6:return new o(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new o(a[0],a[1],a[2],a[3],a[4],a[5],a[6])}var c=ko(o.prototype),d=o.apply(c,a);return Ye(d)?d:c}}function CL(o,a,c){var d=hl(o);function g(){for(var _=arguments.length,T=N(_),k=_,D=Ro(g);k--;)T[k]=arguments[k];var $=_<3&&T[0]!==D&&T[_-1]!==D?[]:Ei(T,D);if(_-=$.length,_<c)return Ww(o,a,ih,g.placeholder,n,T,$,n,n,c-_);var U=this&&this!==At&&this instanceof g?d:o;return _n(U,this,T)}return g}function zw(o){return function(a,c,d){var g=$e(a);if(!un(a)){var _=re(c,3);a=wt(a),c=function(k){return _(g[k],k,g)}}var T=o(a,c,d);return T>-1?g[_?a[T]:T]:n}}function Bw(o){return Hr(function(a){var c=a.length,d=c,g=Fn.prototype.thru;for(o&&a.reverse();d--;){var _=a[d];if(typeof _!="function")throw new Un(l);if(g&&!T&&lh(_)=="wrapper")var T=new Fn([],!0)}for(d=T?d:c;++d<c;){_=a[d];var k=lh(_),D=k=="wrapper"?xg(_):n;D&&Rg(D[0])&&D[1]==(L|I|P|W)&&!D[4].length&&D[9]==1?T=T[lh(D[0])].apply(T,D[3]):T=_.length==1&&Rg(_)?T[k]():T.thru(_)}return function(){var $=arguments,U=$[0];if(T&&$.length==1&&ge(U))return T.plant(U).value();for(var z=0,K=c?a[z].apply(this,$):U;++z<c;)K=a[z].call(this,K);return K}})}function ih(o,a,c,d,g,_,T,k,D,$){var U=a&L,z=a&b,K=a&S,J=a&(I|C),ie=a&X,ve=K?n:hl(o);function se(){for(var _e=arguments.length,Te=N(_e),Tn=_e;Tn--;)Te[Tn]=arguments[Tn];if(J)var Jt=Ro(se),In=Fb(Te,Jt);if(d&&(Te=Pw(Te,d,g,J)),_&&(Te=Mw(Te,_,T,J)),_e-=In,J&&_e<$){var it=Ei(Te,Jt);return Ww(o,a,ih,se.placeholder,c,Te,it,k,D,$-_e)}var sr=z?c:this,Kr=K?sr[o]:o;return _e=Te.length,k?Te=KL(Te,k):ie&&_e>1&&Te.reverse(),U&&D<_e&&(Te.length=D),this&&this!==At&&this instanceof se&&(Kr=ve||hl(Kr)),Kr.apply(sr,Te)}return se}function Vw(o,a){return function(c,d){return tL(c,o,a(d),{})}}function sh(o,a){return function(c,d){var g;if(c===n&&d===n)return a;if(c!==n&&(g=c),d!==n){if(g===n)return d;typeof c=="string"||typeof d=="string"?(c=En(c),d=En(d)):(c=Cw(c),d=Cw(d)),g=o(c,d)}return g}}function Eg(o){return Hr(function(a){return a=We(a,wn(re())),ye(function(c){var d=this;return o(a,function(g){return _n(g,d,c)})})})}function oh(o,a){a=a===n?" ":En(a);var c=a.length;if(c<2)return c?pg(a,o):a;var d=pg(a,qc(o/Eo(a)));return wo(a)?ki(nr(d),0,o).join(""):d.slice(0,o)}function AL(o,a,c,d){var g=a&b,_=hl(o);function T(){for(var k=-1,D=arguments.length,$=-1,U=d.length,z=N(U+D),K=this&&this!==At&&this instanceof T?_:o;++$<U;)z[$]=d[$];for(;D--;)z[$++]=arguments[++k];return _n(K,g?c:this,z)}return T}function Hw(o){return function(a,c,d){return d&&typeof d!="number"&&Zt(a,c,d)&&(c=d=n),a=qr(a),c===n?(c=a,a=0):c=qr(c),d=d===n?a<c?1:-1:qr(d),dL(a,c,d,o)}}function ah(o){return function(a,c){return typeof a=="string"&&typeof c=="string"||(a=Hn(a),c=Hn(c)),o(a,c)}}function Ww(o,a,c,d,g,_,T,k,D,$){var U=a&I,z=U?T:n,K=U?n:T,J=U?_:n,ie=U?n:_;a|=U?P:V,a&=~(U?V:P),a&E||(a&=~(b|S));var ve=[o,a,g,J,z,ie,K,k,D,$],se=c.apply(n,ve);return Rg(o)&&nE(se,ve),se.placeholder=d,rE(se,o,a)}function Sg(o){var a=ht[o];return function(c,d){if(c=Hn(c),d=d==null?0:$t(me(d),292),d&&rw(c)){var g=(Ne(c)+"e").split("e"),_=a(g[0]+"e"+(+g[1]+d));return g=(Ne(_)+"e").split("e"),+(g[0]+"e"+(+g[1]-d))}return a(c)}}var RL=Io&&1/Mc(new Io([,-0]))[1]==Jn?function(o){return new Io(o)}:Wg;function jw(o){return function(a){var c=Ut(a);return c==er?Zp(a):c==tr?qb(a):Ub(a,o(a))}}function Vr(o,a,c,d,g,_,T,k){var D=a&S;if(!D&&typeof o!="function")throw new Un(l);var $=d?d.length:0;if($||(a&=~(P|V),d=g=n),T=T===n?T:ft(me(T),0),k=k===n?k:me(k),$-=g?g.length:0,a&V){var U=d,z=g;d=g=n}var K=D?n:xg(o),J=[o,a,c,d,g,U,z,_,T,k];if(K&&WL(J,K),o=J[0],a=J[1],c=J[2],d=J[3],g=J[4],k=J[9]=J[9]===n?D?0:o.length:ft(J[9]-$,0),!k&&a&(I|C)&&(a&=~(I|C)),!a||a==b)var ie=kL(o,a,c);else a==I||a==C?ie=CL(o,a,k):(a==P||a==(b|P))&&!g.length?ie=AL(o,a,c,d):ie=ih.apply(n,J);var ve=K?xw:nE;return rE(ve(ie,J),o,a)}function qw(o,a,c,d){return o===n||ir(o,To[c])&&!Oe.call(d,c)?a:o}function Kw(o,a,c,d,g,_){return Ye(o)&&Ye(a)&&(_.set(a,o),eh(o,a,n,Kw,_),_.delete(a)),o}function DL(o){return pl(o)?n:o}function Gw(o,a,c,d,g,_){var T=c&x,k=o.length,D=a.length;if(k!=D&&!(T&&D>k))return!1;var $=_.get(o),U=_.get(a);if($&&U)return $==a&&U==o;var z=-1,K=!0,J=c&A?new ws:n;for(_.set(o,a),_.set(a,o);++z<k;){var ie=o[z],ve=a[z];if(d)var se=T?d(ve,ie,z,a,o,_):d(ie,ve,z,o,a,_);if(se!==n){if(se)continue;K=!1;break}if(J){if(!qp(a,function(_e,Te){if(!el(J,Te)&&(ie===_e||g(ie,_e,c,d,_)))return J.push(Te)})){K=!1;break}}else if(!(ie===ve||g(ie,ve,c,d,_))){K=!1;break}}return _.delete(o),_.delete(a),K}function NL(o,a,c,d,g,_,T){switch(c){case vo:if(o.byteLength!=a.byteLength||o.byteOffset!=a.byteOffset)return!1;o=o.buffer,a=a.buffer;case Ja:return!(o.byteLength!=a.byteLength||!_(new Vc(o),new Vc(a)));case Ka:case Ga:case Qa:return ir(+o,+a);case Ac:return o.name==a.name&&o.message==a.message;case Ya:case Xa:return o==a+"";case er:var k=Zp;case tr:var D=d&x;if(k||(k=Mc),o.size!=a.size&&!D)return!1;var $=T.get(o);if($)return $==a;d|=A,T.set(o,a);var U=Gw(k(o),k(a),d,g,_,T);return T.delete(o),U;case Dc:if(sl)return sl.call(o)==sl.call(a)}return!1}function bL(o,a,c,d,g,_){var T=c&x,k=Tg(o),D=k.length,$=Tg(a),U=$.length;if(D!=U&&!T)return!1;for(var z=D;z--;){var K=k[z];if(!(T?K in a:Oe.call(a,K)))return!1}var J=_.get(o),ie=_.get(a);if(J&&ie)return J==a&&ie==o;var ve=!0;_.set(o,a),_.set(a,o);for(var se=T;++z<D;){K=k[z];var _e=o[K],Te=a[K];if(d)var Tn=T?d(Te,_e,K,a,o,_):d(_e,Te,K,o,a,_);if(!(Tn===n?_e===Te||g(_e,Te,c,d,_):Tn)){ve=!1;break}se||(se=K=="constructor")}if(ve&&!se){var Jt=o.constructor,In=a.constructor;Jt!=In&&"constructor"in o&&"constructor"in a&&!(typeof Jt=="function"&&Jt instanceof Jt&&typeof In=="function"&&In instanceof In)&&(ve=!1)}return _.delete(o),_.delete(a),ve}function Hr(o){return Ng(eE(o,n,uE),o+"")}function Tg(o){return pw(o,wt,Cg)}function Ig(o){return pw(o,cn,Qw)}var xg=Gc?function(o){return Gc.get(o)}:Wg;function lh(o){for(var a=o.name+"",c=xo[a],d=Oe.call(xo,a)?c.length:0;d--;){var g=c[d],_=g.func;if(_==null||_==o)return g.name}return a}function Ro(o){var a=Oe.call(y,"placeholder")?y:o;return a.placeholder}function re(){var o=y.iteratee||Vg;return o=o===Vg?vw:o,arguments.length?o(arguments[0],arguments[1]):o}function uh(o,a){var c=o.__data__;return zL(a)?c[typeof a=="string"?"string":"hash"]:c.map}function kg(o){for(var a=wt(o),c=a.length;c--;){var d=a[c],g=o[d];a[c]=[d,g,Zw(g)]}return a}function Ts(o,a){var c=Hb(o,a);return mw(c)?c:n}function LL(o){var a=Oe.call(o,ys),c=o[ys];try{o[ys]=n;var d=!0}catch{}var g=zc.call(o);return d&&(a?o[ys]=c:delete o[ys]),g}var Cg=eg?function(o){return o==null?[]:(o=$e(o),_i(eg(o),function(a){return tw.call(o,a)}))}:jg,Qw=eg?function(o){for(var a=[];o;)wi(a,Cg(o)),o=Hc(o);return a}:jg,Ut=Xt;(tg&&Ut(new tg(new ArrayBuffer(1)))!=vo||nl&&Ut(new nl)!=er||ng&&Ut(ng.resolve())!=h1||Io&&Ut(new Io)!=tr||rl&&Ut(new rl)!=Za)&&(Ut=function(o){var a=Xt(o),c=a==Ur?o.constructor:n,d=c?Is(c):"";if(d)switch(d){case g2:return vo;case m2:return er;case v2:return h1;case y2:return tr;case _2:return Za}return a});function OL(o,a,c){for(var d=-1,g=c.length;++d<g;){var _=c[d],T=_.size;switch(_.type){case"drop":o+=T;break;case"dropRight":a-=T;break;case"take":a=$t(a,o+T);break;case"takeRight":o=ft(o,a-T);break}}return{start:o,end:a}}function PL(o){var a=o.match(BN);return a?a[1].split(VN):[]}function Yw(o,a,c){a=xi(a,o);for(var d=-1,g=a.length,_=!1;++d<g;){var T=_r(a[d]);if(!(_=o!=null&&c(o,T)))break;o=o[T]}return _||++d!=g?_:(g=o==null?0:o.length,!!g&&mh(g)&&Wr(T,g)&&(ge(o)||xs(o)))}function ML(o){var a=o.length,c=new o.constructor(a);return a&&typeof o[0]=="string"&&Oe.call(o,"index")&&(c.index=o.index,c.input=o.input),c}function Xw(o){return typeof o.constructor=="function"&&!fl(o)?ko(Hc(o)):{}}function $L(o,a,c){var d=o.constructor;switch(a){case Ja:return wg(o);case Ka:case Ga:return new d(+o);case vo:return wL(o,c);case kp:case Cp:case Ap:case Rp:case Dp:case Np:case bp:case Lp:case Op:return Lw(o,c);case er:return new d;case Qa:case Xa:return new d(o);case Ya:return EL(o);case tr:return new d;case Dc:return SL(o)}}function UL(o,a){var c=a.length;if(!c)return o;var d=c-1;return a[d]=(c>1?"& ":"")+a[d],a=a.join(c>2?", ":" "),o.replace(zN,`{
/* [wrapped with `+a+`] */
`)}function FL(o){return ge(o)||xs(o)||!!(nw&&o&&o[nw])}function Wr(o,a){var c=typeof o;return a=a??G,!!a&&(c=="number"||c!="symbol"&&XN.test(o))&&o>-1&&o%1==0&&o<a}function Zt(o,a,c){if(!Ye(c))return!1;var d=typeof a;return(d=="number"?un(c)&&Wr(a,c.length):d=="string"&&a in c)?ir(c[a],o):!1}function Ag(o,a){if(ge(o))return!1;var c=typeof o;return c=="number"||c=="symbol"||c=="boolean"||o==null||Sn(o)?!0:MN.test(o)||!PN.test(o)||a!=null&&o in $e(a)}function zL(o){var a=typeof o;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?o!=="__proto__":o===null}function Rg(o){var a=lh(o),c=y[a];if(typeof c!="function"||!(a in we.prototype))return!1;if(o===c)return!0;var d=xg(c);return!!d&&o===d[0]}function BL(o){return!!Z1&&Z1 in o}var VL=Uc?jr:qg;function fl(o){var a=o&&o.constructor,c=typeof a=="function"&&a.prototype||To;return o===c}function Zw(o){return o===o&&!Ye(o)}function Jw(o,a){return function(c){return c==null?!1:c[o]===a&&(a!==n||o in $e(c))}}function HL(o){var a=ph(o,function(d){return c.size===f&&c.clear(),d}),c=a.cache;return a}function WL(o,a){var c=o[1],d=a[1],g=c|d,_=g<(b|S|L),T=d==L&&c==I||d==L&&c==W&&o[7].length<=a[8]||d==(L|W)&&a[7].length<=a[8]&&c==I;if(!(_||T))return o;d&b&&(o[2]=a[2],g|=c&b?0:E);var k=a[3];if(k){var D=o[3];o[3]=D?Pw(D,k,a[4]):k,o[4]=D?Ei(o[3],p):a[4]}return k=a[5],k&&(D=o[5],o[5]=D?Mw(D,k,a[6]):k,o[6]=D?Ei(o[5],p):a[6]),k=a[7],k&&(o[7]=k),d&L&&(o[8]=o[8]==null?a[8]:$t(o[8],a[8])),o[9]==null&&(o[9]=a[9]),o[0]=a[0],o[1]=g,o}function jL(o){var a=[];if(o!=null)for(var c in $e(o))a.push(c);return a}function qL(o){return zc.call(o)}function eE(o,a,c){return a=ft(a===n?o.length-1:a,0),function(){for(var d=arguments,g=-1,_=ft(d.length-a,0),T=N(_);++g<_;)T[g]=d[a+g];g=-1;for(var k=N(a+1);++g<a;)k[g]=d[g];return k[a]=c(T),_n(o,this,k)}}function tE(o,a){return a.length<2?o:Ss(o,Bn(a,0,-1))}function KL(o,a){for(var c=o.length,d=$t(a.length,c),g=ln(o);d--;){var _=a[d];o[d]=Wr(_,c)?g[_]:n}return o}function Dg(o,a){if(!(a==="constructor"&&typeof o[a]=="function")&&a!="__proto__")return o[a]}var nE=iE(xw),dl=l2||function(o,a){return At.setTimeout(o,a)},Ng=iE(mL);function rE(o,a,c){var d=a+"";return Ng(o,UL(d,GL(PL(d),c)))}function iE(o){var a=0,c=0;return function(){var d=f2(),g=pr-(d-c);if(c=d,g>0){if(++a>=Yt)return arguments[0]}else a=0;return o.apply(n,arguments)}}function ch(o,a){var c=-1,d=o.length,g=d-1;for(a=a===n?d:a;++c<a;){var _=dg(c,g),T=o[_];o[_]=o[c],o[c]=T}return o.length=a,o}var sE=HL(function(o){var a=[];return o.charCodeAt(0)===46&&a.push(""),o.replace($N,function(c,d,g,_){a.push(g?_.replace(jN,"$1"):d||c)}),a});function _r(o){if(typeof o=="string"||Sn(o))return o;var a=o+"";return a=="0"&&1/o==-Jn?"-0":a}function Is(o){if(o!=null){try{return Fc.call(o)}catch{}try{return o+""}catch{}}return""}function GL(o,a){return $n($r,function(c){var d="_."+c[0];a&c[1]&&!Oc(o,d)&&o.push(d)}),o.sort()}function oE(o){if(o instanceof we)return o.clone();var a=new Fn(o.__wrapped__,o.__chain__);return a.__actions__=ln(o.__actions__),a.__index__=o.__index__,a.__values__=o.__values__,a}function QL(o,a,c){(c?Zt(o,a,c):a===n)?a=1:a=ft(me(a),0);var d=o==null?0:o.length;if(!d||a<1)return[];for(var g=0,_=0,T=N(qc(d/a));g<d;)T[_++]=Bn(o,g,g+=a);return T}function YL(o){for(var a=-1,c=o==null?0:o.length,d=0,g=[];++a<c;){var _=o[a];_&&(g[d++]=_)}return g}function XL(){var o=arguments.length;if(!o)return[];for(var a=N(o-1),c=arguments[0],d=o;d--;)a[d-1]=arguments[d];return wi(ge(c)?ln(c):[c],Rt(a,1))}var ZL=ye(function(o,a){return rt(o)?al(o,Rt(a,1,rt,!0)):[]}),JL=ye(function(o,a){var c=Vn(a);return rt(c)&&(c=n),rt(o)?al(o,Rt(a,1,rt,!0),re(c,2)):[]}),eO=ye(function(o,a){var c=Vn(a);return rt(c)&&(c=n),rt(o)?al(o,Rt(a,1,rt,!0),n,c):[]});function tO(o,a,c){var d=o==null?0:o.length;return d?(a=c||a===n?1:me(a),Bn(o,a<0?0:a,d)):[]}function nO(o,a,c){var d=o==null?0:o.length;return d?(a=c||a===n?1:me(a),a=d-a,Bn(o,0,a<0?0:a)):[]}function rO(o,a){return o&&o.length?nh(o,re(a,3),!0,!0):[]}function iO(o,a){return o&&o.length?nh(o,re(a,3),!0):[]}function sO(o,a,c,d){var g=o==null?0:o.length;return g?(c&&typeof c!="number"&&Zt(o,a,c)&&(c=0,d=g),X2(o,a,c,d)):[]}function aE(o,a,c){var d=o==null?0:o.length;if(!d)return-1;var g=c==null?0:me(c);return g<0&&(g=ft(d+g,0)),Pc(o,re(a,3),g)}function lE(o,a,c){var d=o==null?0:o.length;if(!d)return-1;var g=d-1;return c!==n&&(g=me(c),g=c<0?ft(d+g,0):$t(g,d-1)),Pc(o,re(a,3),g,!0)}function uE(o){var a=o==null?0:o.length;return a?Rt(o,1):[]}function oO(o){var a=o==null?0:o.length;return a?Rt(o,Jn):[]}function aO(o,a){var c=o==null?0:o.length;return c?(a=a===n?1:me(a),Rt(o,a)):[]}function lO(o){for(var a=-1,c=o==null?0:o.length,d={};++a<c;){var g=o[a];d[g[0]]=g[1]}return d}function cE(o){return o&&o.length?o[0]:n}function uO(o,a,c){var d=o==null?0:o.length;if(!d)return-1;var g=c==null?0:me(c);return g<0&&(g=ft(d+g,0)),_o(o,a,g)}function cO(o){var a=o==null?0:o.length;return a?Bn(o,0,-1):[]}var hO=ye(function(o){var a=We(o,yg);return a.length&&a[0]===o[0]?lg(a):[]}),fO=ye(function(o){var a=Vn(o),c=We(o,yg);return a===Vn(c)?a=n:c.pop(),c.length&&c[0]===o[0]?lg(c,re(a,2)):[]}),dO=ye(function(o){var a=Vn(o),c=We(o,yg);return a=typeof a=="function"?a:n,a&&c.pop(),c.length&&c[0]===o[0]?lg(c,n,a):[]});function pO(o,a){return o==null?"":c2.call(o,a)}function Vn(o){var a=o==null?0:o.length;return a?o[a-1]:n}function gO(o,a,c){var d=o==null?0:o.length;if(!d)return-1;var g=d;return c!==n&&(g=me(c),g=g<0?ft(d+g,0):$t(g,d-1)),a===a?Gb(o,a,g):Pc(o,W1,g,!0)}function mO(o,a){return o&&o.length?Ew(o,me(a)):n}var vO=ye(hE);function hE(o,a){return o&&o.length&&a&&a.length?fg(o,a):o}function yO(o,a,c){return o&&o.length&&a&&a.length?fg(o,a,re(c,2)):o}function _O(o,a,c){return o&&o.length&&a&&a.length?fg(o,a,n,c):o}var wO=Hr(function(o,a){var c=o==null?0:o.length,d=ig(o,a);return Iw(o,We(a,function(g){return Wr(g,c)?+g:g}).sort(Ow)),d});function EO(o,a){var c=[];if(!(o&&o.length))return c;var d=-1,g=[],_=o.length;for(a=re(a,3);++d<_;){var T=o[d];a(T,d,o)&&(c.push(T),g.push(d))}return Iw(o,g),c}function bg(o){return o==null?o:p2.call(o)}function SO(o,a,c){var d=o==null?0:o.length;return d?(c&&typeof c!="number"&&Zt(o,a,c)?(a=0,c=d):(a=a==null?0:me(a),c=c===n?d:me(c)),Bn(o,a,c)):[]}function TO(o,a){return th(o,a)}function IO(o,a,c){return gg(o,a,re(c,2))}function xO(o,a){var c=o==null?0:o.length;if(c){var d=th(o,a);if(d<c&&ir(o[d],a))return d}return-1}function kO(o,a){return th(o,a,!0)}function CO(o,a,c){return gg(o,a,re(c,2),!0)}function AO(o,a){var c=o==null?0:o.length;if(c){var d=th(o,a,!0)-1;if(ir(o[d],a))return d}return-1}function RO(o){return o&&o.length?kw(o):[]}function DO(o,a){return o&&o.length?kw(o,re(a,2)):[]}function NO(o){var a=o==null?0:o.length;return a?Bn(o,1,a):[]}function bO(o,a,c){return o&&o.length?(a=c||a===n?1:me(a),Bn(o,0,a<0?0:a)):[]}function LO(o,a,c){var d=o==null?0:o.length;return d?(a=c||a===n?1:me(a),a=d-a,Bn(o,a<0?0:a,d)):[]}function OO(o,a){return o&&o.length?nh(o,re(a,3),!1,!0):[]}function PO(o,a){return o&&o.length?nh(o,re(a,3)):[]}var MO=ye(function(o){return Ii(Rt(o,1,rt,!0))}),$O=ye(function(o){var a=Vn(o);return rt(a)&&(a=n),Ii(Rt(o,1,rt,!0),re(a,2))}),UO=ye(function(o){var a=Vn(o);return a=typeof a=="function"?a:n,Ii(Rt(o,1,rt,!0),n,a)});function FO(o){return o&&o.length?Ii(o):[]}function zO(o,a){return o&&o.length?Ii(o,re(a,2)):[]}function BO(o,a){return a=typeof a=="function"?a:n,o&&o.length?Ii(o,n,a):[]}function Lg(o){if(!(o&&o.length))return[];var a=0;return o=_i(o,function(c){if(rt(c))return a=ft(c.length,a),!0}),Yp(a,function(c){return We(o,Kp(c))})}function fE(o,a){if(!(o&&o.length))return[];var c=Lg(o);return a==null?c:We(c,function(d){return _n(a,n,d)})}var VO=ye(function(o,a){return rt(o)?al(o,a):[]}),HO=ye(function(o){return vg(_i(o,rt))}),WO=ye(function(o){var a=Vn(o);return rt(a)&&(a=n),vg(_i(o,rt),re(a,2))}),jO=ye(function(o){var a=Vn(o);return a=typeof a=="function"?a:n,vg(_i(o,rt),n,a)}),qO=ye(Lg);function KO(o,a){return Dw(o||[],a||[],ol)}function GO(o,a){return Dw(o||[],a||[],cl)}var QO=ye(function(o){var a=o.length,c=a>1?o[a-1]:n;return c=typeof c=="function"?(o.pop(),c):n,fE(o,c)});function dE(o){var a=y(o);return a.__chain__=!0,a}function YO(o,a){return a(o),o}function hh(o,a){return a(o)}var XO=Hr(function(o){var a=o.length,c=a?o[0]:0,d=this.__wrapped__,g=function(_){return ig(_,o)};return a>1||this.__actions__.length||!(d instanceof we)||!Wr(c)?this.thru(g):(d=d.slice(c,+c+(a?1:0)),d.__actions__.push({func:hh,args:[g],thisArg:n}),new Fn(d,this.__chain__).thru(function(_){return a&&!_.length&&_.push(n),_}))});function ZO(){return dE(this)}function JO(){return new Fn(this.value(),this.__chain__)}function eP(){this.__values__===n&&(this.__values__=CE(this.value()));var o=this.__index__>=this.__values__.length,a=o?n:this.__values__[this.__index__++];return{done:o,value:a}}function tP(){return this}function nP(o){for(var a,c=this;c instanceof Yc;){var d=oE(c);d.__index__=0,d.__values__=n,a?g.__wrapped__=d:a=d;var g=d;c=c.__wrapped__}return g.__wrapped__=o,a}function rP(){var o=this.__wrapped__;if(o instanceof we){var a=o;return this.__actions__.length&&(a=new we(this)),a=a.reverse(),a.__actions__.push({func:hh,args:[bg],thisArg:n}),new Fn(a,this.__chain__)}return this.thru(bg)}function iP(){return Rw(this.__wrapped__,this.__actions__)}var sP=rh(function(o,a,c){Oe.call(o,c)?++o[c]:Br(o,c,1)});function oP(o,a,c){var d=ge(o)?V1:Y2;return c&&Zt(o,a,c)&&(a=n),d(o,re(a,3))}function aP(o,a){var c=ge(o)?_i:fw;return c(o,re(a,3))}var lP=zw(aE),uP=zw(lE);function cP(o,a){return Rt(fh(o,a),1)}function hP(o,a){return Rt(fh(o,a),Jn)}function fP(o,a,c){return c=c===n?1:me(c),Rt(fh(o,a),c)}function pE(o,a){var c=ge(o)?$n:Ti;return c(o,re(a,3))}function gE(o,a){var c=ge(o)?Nb:hw;return c(o,re(a,3))}var dP=rh(function(o,a,c){Oe.call(o,c)?o[c].push(a):Br(o,c,[a])});function pP(o,a,c,d){o=un(o)?o:No(o),c=c&&!d?me(c):0;var g=o.length;return c<0&&(c=ft(g+c,0)),vh(o)?c<=g&&o.indexOf(a,c)>-1:!!g&&_o(o,a,c)>-1}var gP=ye(function(o,a,c){var d=-1,g=typeof a=="function",_=un(o)?N(o.length):[];return Ti(o,function(T){_[++d]=g?_n(a,T,c):ll(T,a,c)}),_}),mP=rh(function(o,a,c){Br(o,c,a)});function fh(o,a){var c=ge(o)?We:yw;return c(o,re(a,3))}function vP(o,a,c,d){return o==null?[]:(ge(a)||(a=a==null?[]:[a]),c=d?n:c,ge(c)||(c=c==null?[]:[c]),Sw(o,a,c))}var yP=rh(function(o,a,c){o[c?0:1].push(a)},function(){return[[],[]]});function _P(o,a,c){var d=ge(o)?jp:q1,g=arguments.length<3;return d(o,re(a,4),c,g,Ti)}function wP(o,a,c){var d=ge(o)?bb:q1,g=arguments.length<3;return d(o,re(a,4),c,g,hw)}function EP(o,a){var c=ge(o)?_i:fw;return c(o,gh(re(a,3)))}function SP(o){var a=ge(o)?aw:pL;return a(o)}function TP(o,a,c){(c?Zt(o,a,c):a===n)?a=1:a=me(a);var d=ge(o)?j2:gL;return d(o,a)}function IP(o){var a=ge(o)?q2:vL;return a(o)}function xP(o){if(o==null)return 0;if(un(o))return vh(o)?Eo(o):o.length;var a=Ut(o);return a==er||a==tr?o.size:cg(o).length}function kP(o,a,c){var d=ge(o)?qp:yL;return c&&Zt(o,a,c)&&(a=n),d(o,re(a,3))}var CP=ye(function(o,a){if(o==null)return[];var c=a.length;return c>1&&Zt(o,a[0],a[1])?a=[]:c>2&&Zt(a[0],a[1],a[2])&&(a=[a[0]]),Sw(o,Rt(a,1),[])}),dh=a2||function(){return At.Date.now()};function AP(o,a){if(typeof a!="function")throw new Un(l);return o=me(o),function(){if(--o<1)return a.apply(this,arguments)}}function mE(o,a,c){return a=c?n:a,a=o&&a==null?o.length:a,Vr(o,L,n,n,n,n,a)}function vE(o,a){var c;if(typeof a!="function")throw new Un(l);return o=me(o),function(){return--o>0&&(c=a.apply(this,arguments)),o<=1&&(a=n),c}}var Og=ye(function(o,a,c){var d=b;if(c.length){var g=Ei(c,Ro(Og));d|=P}return Vr(o,d,a,c,g)}),yE=ye(function(o,a,c){var d=b|S;if(c.length){var g=Ei(c,Ro(yE));d|=P}return Vr(a,d,o,c,g)});function _E(o,a,c){a=c?n:a;var d=Vr(o,I,n,n,n,n,n,a);return d.placeholder=_E.placeholder,d}function wE(o,a,c){a=c?n:a;var d=Vr(o,C,n,n,n,n,n,a);return d.placeholder=wE.placeholder,d}function EE(o,a,c){var d,g,_,T,k,D,$=0,U=!1,z=!1,K=!0;if(typeof o!="function")throw new Un(l);a=Hn(a)||0,Ye(c)&&(U=!!c.leading,z="maxWait"in c,_=z?ft(Hn(c.maxWait)||0,a):_,K="trailing"in c?!!c.trailing:K);function J(it){var sr=d,Kr=g;return d=g=n,$=it,T=o.apply(Kr,sr),T}function ie(it){return $=it,k=dl(_e,a),U?J(it):T}function ve(it){var sr=it-D,Kr=it-$,zE=a-sr;return z?$t(zE,_-Kr):zE}function se(it){var sr=it-D,Kr=it-$;return D===n||sr>=a||sr<0||z&&Kr>=_}function _e(){var it=dh();if(se(it))return Te(it);k=dl(_e,ve(it))}function Te(it){return k=n,K&&d?J(it):(d=g=n,T)}function Tn(){k!==n&&Nw(k),$=0,d=D=g=k=n}function Jt(){return k===n?T:Te(dh())}function In(){var it=dh(),sr=se(it);if(d=arguments,g=this,D=it,sr){if(k===n)return ie(D);if(z)return Nw(k),k=dl(_e,a),J(D)}return k===n&&(k=dl(_e,a)),T}return In.cancel=Tn,In.flush=Jt,In}var RP=ye(function(o,a){return cw(o,1,a)}),DP=ye(function(o,a,c){return cw(o,Hn(a)||0,c)});function NP(o){return Vr(o,X)}function ph(o,a){if(typeof o!="function"||a!=null&&typeof a!="function")throw new Un(l);var c=function(){var d=arguments,g=a?a.apply(this,d):d[0],_=c.cache;if(_.has(g))return _.get(g);var T=o.apply(this,d);return c.cache=_.set(g,T)||_,T};return c.cache=new(ph.Cache||zr),c}ph.Cache=zr;function gh(o){if(typeof o!="function")throw new Un(l);return function(){var a=arguments;switch(a.length){case 0:return!o.call(this);case 1:return!o.call(this,a[0]);case 2:return!o.call(this,a[0],a[1]);case 3:return!o.call(this,a[0],a[1],a[2])}return!o.apply(this,a)}}function bP(o){return vE(2,o)}var LP=_L(function(o,a){a=a.length==1&&ge(a[0])?We(a[0],wn(re())):We(Rt(a,1),wn(re()));var c=a.length;return ye(function(d){for(var g=-1,_=$t(d.length,c);++g<_;)d[g]=a[g].call(this,d[g]);return _n(o,this,d)})}),Pg=ye(function(o,a){var c=Ei(a,Ro(Pg));return Vr(o,P,n,a,c)}),SE=ye(function(o,a){var c=Ei(a,Ro(SE));return Vr(o,V,n,a,c)}),OP=Hr(function(o,a){return Vr(o,W,n,n,n,a)});function PP(o,a){if(typeof o!="function")throw new Un(l);return a=a===n?a:me(a),ye(o,a)}function MP(o,a){if(typeof o!="function")throw new Un(l);return a=a==null?0:ft(me(a),0),ye(function(c){var d=c[a],g=ki(c,0,a);return d&&wi(g,d),_n(o,this,g)})}function $P(o,a,c){var d=!0,g=!0;if(typeof o!="function")throw new Un(l);return Ye(c)&&(d="leading"in c?!!c.leading:d,g="trailing"in c?!!c.trailing:g),EE(o,a,{leading:d,maxWait:a,trailing:g})}function UP(o){return mE(o,1)}function FP(o,a){return Pg(_g(a),o)}function zP(){if(!arguments.length)return[];var o=arguments[0];return ge(o)?o:[o]}function BP(o){return zn(o,w)}function VP(o,a){return a=typeof a=="function"?a:n,zn(o,w,a)}function HP(o){return zn(o,m|w)}function WP(o,a){return a=typeof a=="function"?a:n,zn(o,m|w,a)}function jP(o,a){return a==null||uw(o,a,wt(a))}function ir(o,a){return o===a||o!==o&&a!==a}var qP=ah(ag),KP=ah(function(o,a){return o>=a}),xs=gw(function(){return arguments}())?gw:function(o){return et(o)&&Oe.call(o,"callee")&&!tw.call(o,"callee")},ge=N.isArray,GP=M1?wn(M1):nL;function un(o){return o!=null&&mh(o.length)&&!jr(o)}function rt(o){return et(o)&&un(o)}function QP(o){return o===!0||o===!1||et(o)&&Xt(o)==Ka}var Ci=u2||qg,YP=$1?wn($1):rL;function XP(o){return et(o)&&o.nodeType===1&&!pl(o)}function ZP(o){if(o==null)return!0;if(un(o)&&(ge(o)||typeof o=="string"||typeof o.splice=="function"||Ci(o)||Do(o)||xs(o)))return!o.length;var a=Ut(o);if(a==er||a==tr)return!o.size;if(fl(o))return!cg(o).length;for(var c in o)if(Oe.call(o,c))return!1;return!0}function JP(o,a){return ul(o,a)}function eM(o,a,c){c=typeof c=="function"?c:n;var d=c?c(o,a):n;return d===n?ul(o,a,n,c):!!d}function Mg(o){if(!et(o))return!1;var a=Xt(o);return a==Ac||a==TN||typeof o.message=="string"&&typeof o.name=="string"&&!pl(o)}function tM(o){return typeof o=="number"&&rw(o)}function jr(o){if(!Ye(o))return!1;var a=Xt(o);return a==Rc||a==c1||a==mo||a==xN}function TE(o){return typeof o=="number"&&o==me(o)}function mh(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=G}function Ye(o){var a=typeof o;return o!=null&&(a=="object"||a=="function")}function et(o){return o!=null&&typeof o=="object"}var IE=U1?wn(U1):sL;function nM(o,a){return o===a||ug(o,a,kg(a))}function rM(o,a,c){return c=typeof c=="function"?c:n,ug(o,a,kg(a),c)}function iM(o){return xE(o)&&o!=+o}function sM(o){if(VL(o))throw new he(s);return mw(o)}function oM(o){return o===null}function aM(o){return o==null}function xE(o){return typeof o=="number"||et(o)&&Xt(o)==Qa}function pl(o){if(!et(o)||Xt(o)!=Ur)return!1;var a=Hc(o);if(a===null)return!0;var c=Oe.call(a,"constructor")&&a.constructor;return typeof c=="function"&&c instanceof c&&Fc.call(c)==r2}var $g=F1?wn(F1):oL;function lM(o){return TE(o)&&o>=-G&&o<=G}var kE=z1?wn(z1):aL;function vh(o){return typeof o=="string"||!ge(o)&&et(o)&&Xt(o)==Xa}function Sn(o){return typeof o=="symbol"||et(o)&&Xt(o)==Dc}var Do=B1?wn(B1):lL;function uM(o){return o===n}function cM(o){return et(o)&&Ut(o)==Za}function hM(o){return et(o)&&Xt(o)==CN}var fM=ah(hg),dM=ah(function(o,a){return o<=a});function CE(o){if(!o)return[];if(un(o))return vh(o)?nr(o):ln(o);if(tl&&o[tl])return jb(o[tl]());var a=Ut(o),c=a==er?Zp:a==tr?Mc:No;return c(o)}function qr(o){if(!o)return o===0?o:0;if(o=Hn(o),o===Jn||o===-Jn){var a=o<0?-1:1;return a*de}return o===o?o:0}function me(o){var a=qr(o),c=a%1;return a===a?c?a-c:a:0}function AE(o){return o?Es(me(o),0,Ce):0}function Hn(o){if(typeof o=="number")return o;if(Sn(o))return pe;if(Ye(o)){var a=typeof o.valueOf=="function"?o.valueOf():o;o=Ye(a)?a+"":a}if(typeof o!="string")return o===0?o:+o;o=K1(o);var c=GN.test(o);return c||YN.test(o)?Ab(o.slice(2),c?2:8):KN.test(o)?pe:+o}function RE(o){return yr(o,cn(o))}function pM(o){return o?Es(me(o),-G,G):o===0?o:0}function Ne(o){return o==null?"":En(o)}var gM=Co(function(o,a){if(fl(a)||un(a)){yr(a,wt(a),o);return}for(var c in a)Oe.call(a,c)&&ol(o,c,a[c])}),DE=Co(function(o,a){yr(a,cn(a),o)}),yh=Co(function(o,a,c,d){yr(a,cn(a),o,d)}),mM=Co(function(o,a,c,d){yr(a,wt(a),o,d)}),vM=Hr(ig);function yM(o,a){var c=ko(o);return a==null?c:lw(c,a)}var _M=ye(function(o,a){o=$e(o);var c=-1,d=a.length,g=d>2?a[2]:n;for(g&&Zt(a[0],a[1],g)&&(d=1);++c<d;)for(var _=a[c],T=cn(_),k=-1,D=T.length;++k<D;){var $=T[k],U=o[$];(U===n||ir(U,To[$])&&!Oe.call(o,$))&&(o[$]=_[$])}return o}),wM=ye(function(o){return o.push(n,Kw),_n(NE,n,o)});function EM(o,a){return H1(o,re(a,3),vr)}function SM(o,a){return H1(o,re(a,3),og)}function TM(o,a){return o==null?o:sg(o,re(a,3),cn)}function IM(o,a){return o==null?o:dw(o,re(a,3),cn)}function xM(o,a){return o&&vr(o,re(a,3))}function kM(o,a){return o&&og(o,re(a,3))}function CM(o){return o==null?[]:Jc(o,wt(o))}function AM(o){return o==null?[]:Jc(o,cn(o))}function Ug(o,a,c){var d=o==null?n:Ss(o,a);return d===n?c:d}function RM(o,a){return o!=null&&Yw(o,a,Z2)}function Fg(o,a){return o!=null&&Yw(o,a,J2)}var DM=Vw(function(o,a,c){a!=null&&typeof a.toString!="function"&&(a=zc.call(a)),o[a]=c},Bg(hn)),NM=Vw(function(o,a,c){a!=null&&typeof a.toString!="function"&&(a=zc.call(a)),Oe.call(o,a)?o[a].push(c):o[a]=[c]},re),bM=ye(ll);function wt(o){return un(o)?ow(o):cg(o)}function cn(o){return un(o)?ow(o,!0):uL(o)}function LM(o,a){var c={};return a=re(a,3),vr(o,function(d,g,_){Br(c,a(d,g,_),d)}),c}function OM(o,a){var c={};return a=re(a,3),vr(o,function(d,g,_){Br(c,g,a(d,g,_))}),c}var PM=Co(function(o,a,c){eh(o,a,c)}),NE=Co(function(o,a,c,d){eh(o,a,c,d)}),MM=Hr(function(o,a){var c={};if(o==null)return c;var d=!1;a=We(a,function(_){return _=xi(_,o),d||(d=_.length>1),_}),yr(o,Ig(o),c),d&&(c=zn(c,m|v|w,DL));for(var g=a.length;g--;)mg(c,a[g]);return c});function $M(o,a){return bE(o,gh(re(a)))}var UM=Hr(function(o,a){return o==null?{}:hL(o,a)});function bE(o,a){if(o==null)return{};var c=We(Ig(o),function(d){return[d]});return a=re(a),Tw(o,c,function(d,g){return a(d,g[0])})}function FM(o,a,c){a=xi(a,o);var d=-1,g=a.length;for(g||(g=1,o=n);++d<g;){var _=o==null?n:o[_r(a[d])];_===n&&(d=g,_=c),o=jr(_)?_.call(o):_}return o}function zM(o,a,c){return o==null?o:cl(o,a,c)}function BM(o,a,c,d){return d=typeof d=="function"?d:n,o==null?o:cl(o,a,c,d)}var LE=jw(wt),OE=jw(cn);function VM(o,a,c){var d=ge(o),g=d||Ci(o)||Do(o);if(a=re(a,4),c==null){var _=o&&o.constructor;g?c=d?new _:[]:Ye(o)?c=jr(_)?ko(Hc(o)):{}:c={}}return(g?$n:vr)(o,function(T,k,D){return a(c,T,k,D)}),c}function HM(o,a){return o==null?!0:mg(o,a)}function WM(o,a,c){return o==null?o:Aw(o,a,_g(c))}function jM(o,a,c,d){return d=typeof d=="function"?d:n,o==null?o:Aw(o,a,_g(c),d)}function No(o){return o==null?[]:Xp(o,wt(o))}function qM(o){return o==null?[]:Xp(o,cn(o))}function KM(o,a,c){return c===n&&(c=a,a=n),c!==n&&(c=Hn(c),c=c===c?c:0),a!==n&&(a=Hn(a),a=a===a?a:0),Es(Hn(o),a,c)}function GM(o,a,c){return a=qr(a),c===n?(c=a,a=0):c=qr(c),o=Hn(o),eL(o,a,c)}function QM(o,a,c){if(c&&typeof c!="boolean"&&Zt(o,a,c)&&(a=c=n),c===n&&(typeof a=="boolean"?(c=a,a=n):typeof o=="boolean"&&(c=o,o=n)),o===n&&a===n?(o=0,a=1):(o=qr(o),a===n?(a=o,o=0):a=qr(a)),o>a){var d=o;o=a,a=d}if(c||o%1||a%1){var g=iw();return $t(o+g*(a-o+Cb("1e-"+((g+"").length-1))),a)}return dg(o,a)}var YM=Ao(function(o,a,c){return a=a.toLowerCase(),o+(c?PE(a):a)});function PE(o){return zg(Ne(o).toLowerCase())}function ME(o){return o=Ne(o),o&&o.replace(ZN,zb).replace(vb,"")}function XM(o,a,c){o=Ne(o),a=En(a);var d=o.length;c=c===n?d:Es(me(c),0,d);var g=c;return c-=a.length,c>=0&&o.slice(c,g)==a}function ZM(o){return o=Ne(o),o&&bN.test(o)?o.replace(d1,Bb):o}function JM(o){return o=Ne(o),o&&UN.test(o)?o.replace(Pp,"\\$&"):o}var e$=Ao(function(o,a,c){return o+(c?"-":"")+a.toLowerCase()}),t$=Ao(function(o,a,c){return o+(c?" ":"")+a.toLowerCase()}),n$=Fw("toLowerCase");function r$(o,a,c){o=Ne(o),a=me(a);var d=a?Eo(o):0;if(!a||d>=a)return o;var g=(a-d)/2;return oh(Kc(g),c)+o+oh(qc(g),c)}function i$(o,a,c){o=Ne(o),a=me(a);var d=a?Eo(o):0;return a&&d<a?o+oh(a-d,c):o}function s$(o,a,c){o=Ne(o),a=me(a);var d=a?Eo(o):0;return a&&d<a?oh(a-d,c)+o:o}function o$(o,a,c){return c||a==null?a=0:a&&(a=+a),d2(Ne(o).replace(Mp,""),a||0)}function a$(o,a,c){return(c?Zt(o,a,c):a===n)?a=1:a=me(a),pg(Ne(o),a)}function l$(){var o=arguments,a=Ne(o[0]);return o.length<3?a:a.replace(o[1],o[2])}var u$=Ao(function(o,a,c){return o+(c?"_":"")+a.toLowerCase()});function c$(o,a,c){return c&&typeof c!="number"&&Zt(o,a,c)&&(a=c=n),c=c===n?Ce:c>>>0,c?(o=Ne(o),o&&(typeof a=="string"||a!=null&&!$g(a))&&(a=En(a),!a&&wo(o))?ki(nr(o),0,c):o.split(a,c)):[]}var h$=Ao(function(o,a,c){return o+(c?" ":"")+zg(a)});function f$(o,a,c){return o=Ne(o),c=c==null?0:Es(me(c),0,o.length),a=En(a),o.slice(c,c+a.length)==a}function d$(o,a,c){var d=y.templateSettings;c&&Zt(o,a,c)&&(a=n),o=Ne(o),a=yh({},a,d,qw);var g=yh({},a.imports,d.imports,qw),_=wt(g),T=Xp(g,_),k,D,$=0,U=a.interpolate||Nc,z="__p += '",K=Jp((a.escape||Nc).source+"|"+U.source+"|"+(U===p1?qN:Nc).source+"|"+(a.evaluate||Nc).source+"|$","g"),J="//# sourceURL="+(Oe.call(a,"sourceURL")?(a.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Sb+"]")+`
`;o.replace(K,function(se,_e,Te,Tn,Jt,In){return Te||(Te=Tn),z+=o.slice($,In).replace(JN,Vb),_e&&(k=!0,z+=`' +
__e(`+_e+`) +
'`),Jt&&(D=!0,z+=`';
`+Jt+`;
__p += '`),Te&&(z+=`' +
((__t = (`+Te+`)) == null ? '' : __t) +
'`),$=In+se.length,se}),z+=`';
`;var ie=Oe.call(a,"variable")&&a.variable;if(!ie)z=`with (obj) {
`+z+`
}
`;else if(WN.test(ie))throw new he(u);z=(D?z.replace(AN,""):z).replace(RN,"$1").replace(DN,"$1;"),z="function("+(ie||"obj")+`) {
`+(ie?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(k?", __e = _.escape":"")+(D?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+z+`return __p
}`;var ve=UE(function(){return Ae(_,J+"return "+z).apply(n,T)});if(ve.source=z,Mg(ve))throw ve;return ve}function p$(o){return Ne(o).toLowerCase()}function g$(o){return Ne(o).toUpperCase()}function m$(o,a,c){if(o=Ne(o),o&&(c||a===n))return K1(o);if(!o||!(a=En(a)))return o;var d=nr(o),g=nr(a),_=G1(d,g),T=Q1(d,g)+1;return ki(d,_,T).join("")}function v$(o,a,c){if(o=Ne(o),o&&(c||a===n))return o.slice(0,X1(o)+1);if(!o||!(a=En(a)))return o;var d=nr(o),g=Q1(d,nr(a))+1;return ki(d,0,g).join("")}function y$(o,a,c){if(o=Ne(o),o&&(c||a===n))return o.replace(Mp,"");if(!o||!(a=En(a)))return o;var d=nr(o),g=G1(d,nr(a));return ki(d,g).join("")}function _$(o,a){var c=j,d=ae;if(Ye(a)){var g="separator"in a?a.separator:g;c="length"in a?me(a.length):c,d="omission"in a?En(a.omission):d}o=Ne(o);var _=o.length;if(wo(o)){var T=nr(o);_=T.length}if(c>=_)return o;var k=c-Eo(d);if(k<1)return d;var D=T?ki(T,0,k).join(""):o.slice(0,k);if(g===n)return D+d;if(T&&(k+=D.length-k),$g(g)){if(o.slice(k).search(g)){var $,U=D;for(g.global||(g=Jp(g.source,Ne(g1.exec(g))+"g")),g.lastIndex=0;$=g.exec(U);)var z=$.index;D=D.slice(0,z===n?k:z)}}else if(o.indexOf(En(g),k)!=k){var K=D.lastIndexOf(g);K>-1&&(D=D.slice(0,K))}return D+d}function w$(o){return o=Ne(o),o&&NN.test(o)?o.replace(f1,Qb):o}var E$=Ao(function(o,a,c){return o+(c?" ":"")+a.toUpperCase()}),zg=Fw("toUpperCase");function $E(o,a,c){return o=Ne(o),a=c?n:a,a===n?Wb(o)?Zb(o):Pb(o):o.match(a)||[]}var UE=ye(function(o,a){try{return _n(o,n,a)}catch(c){return Mg(c)?c:new he(c)}}),S$=Hr(function(o,a){return $n(a,function(c){c=_r(c),Br(o,c,Og(o[c],o))}),o});function T$(o){var a=o==null?0:o.length,c=re();return o=a?We(o,function(d){if(typeof d[1]!="function")throw new Un(l);return[c(d[0]),d[1]]}):[],ye(function(d){for(var g=-1;++g<a;){var _=o[g];if(_n(_[0],this,d))return _n(_[1],this,d)}})}function I$(o){return Q2(zn(o,m))}function Bg(o){return function(){return o}}function x$(o,a){return o==null||o!==o?a:o}var k$=Bw(),C$=Bw(!0);function hn(o){return o}function Vg(o){return vw(typeof o=="function"?o:zn(o,m))}function A$(o){return _w(zn(o,m))}function R$(o,a){return ww(o,zn(a,m))}var D$=ye(function(o,a){return function(c){return ll(c,o,a)}}),N$=ye(function(o,a){return function(c){return ll(o,c,a)}});function Hg(o,a,c){var d=wt(a),g=Jc(a,d);c==null&&!(Ye(a)&&(g.length||!d.length))&&(c=a,a=o,o=this,g=Jc(a,wt(a)));var _=!(Ye(c)&&"chain"in c)||!!c.chain,T=jr(o);return $n(g,function(k){var D=a[k];o[k]=D,T&&(o.prototype[k]=function(){var $=this.__chain__;if(_||$){var U=o(this.__wrapped__),z=U.__actions__=ln(this.__actions__);return z.push({func:D,args:arguments,thisArg:o}),U.__chain__=$,U}return D.apply(o,wi([this.value()],arguments))})}),o}function b$(){return At._===this&&(At._=i2),this}function Wg(){}function L$(o){return o=me(o),ye(function(a){return Ew(a,o)})}var O$=Eg(We),P$=Eg(V1),M$=Eg(qp);function FE(o){return Ag(o)?Kp(_r(o)):fL(o)}function $$(o){return function(a){return o==null?n:Ss(o,a)}}var U$=Hw(),F$=Hw(!0);function jg(){return[]}function qg(){return!1}function z$(){return{}}function B$(){return""}function V$(){return!0}function H$(o,a){if(o=me(o),o<1||o>G)return[];var c=Ce,d=$t(o,Ce);a=re(a),o-=Ce;for(var g=Yp(d,a);++c<o;)a(c);return g}function W$(o){return ge(o)?We(o,_r):Sn(o)?[o]:ln(sE(Ne(o)))}function j$(o){var a=++n2;return Ne(o)+a}var q$=sh(function(o,a){return o+a},0),K$=Sg("ceil"),G$=sh(function(o,a){return o/a},1),Q$=Sg("floor");function Y$(o){return o&&o.length?Zc(o,hn,ag):n}function X$(o,a){return o&&o.length?Zc(o,re(a,2),ag):n}function Z$(o){return j1(o,hn)}function J$(o,a){return j1(o,re(a,2))}function eU(o){return o&&o.length?Zc(o,hn,hg):n}function tU(o,a){return o&&o.length?Zc(o,re(a,2),hg):n}var nU=sh(function(o,a){return o*a},1),rU=Sg("round"),iU=sh(function(o,a){return o-a},0);function sU(o){return o&&o.length?Qp(o,hn):0}function oU(o,a){return o&&o.length?Qp(o,re(a,2)):0}return y.after=AP,y.ary=mE,y.assign=gM,y.assignIn=DE,y.assignInWith=yh,y.assignWith=mM,y.at=vM,y.before=vE,y.bind=Og,y.bindAll=S$,y.bindKey=yE,y.castArray=zP,y.chain=dE,y.chunk=QL,y.compact=YL,y.concat=XL,y.cond=T$,y.conforms=I$,y.constant=Bg,y.countBy=sP,y.create=yM,y.curry=_E,y.curryRight=wE,y.debounce=EE,y.defaults=_M,y.defaultsDeep=wM,y.defer=RP,y.delay=DP,y.difference=ZL,y.differenceBy=JL,y.differenceWith=eO,y.drop=tO,y.dropRight=nO,y.dropRightWhile=rO,y.dropWhile=iO,y.fill=sO,y.filter=aP,y.flatMap=cP,y.flatMapDeep=hP,y.flatMapDepth=fP,y.flatten=uE,y.flattenDeep=oO,y.flattenDepth=aO,y.flip=NP,y.flow=k$,y.flowRight=C$,y.fromPairs=lO,y.functions=CM,y.functionsIn=AM,y.groupBy=dP,y.initial=cO,y.intersection=hO,y.intersectionBy=fO,y.intersectionWith=dO,y.invert=DM,y.invertBy=NM,y.invokeMap=gP,y.iteratee=Vg,y.keyBy=mP,y.keys=wt,y.keysIn=cn,y.map=fh,y.mapKeys=LM,y.mapValues=OM,y.matches=A$,y.matchesProperty=R$,y.memoize=ph,y.merge=PM,y.mergeWith=NE,y.method=D$,y.methodOf=N$,y.mixin=Hg,y.negate=gh,y.nthArg=L$,y.omit=MM,y.omitBy=$M,y.once=bP,y.orderBy=vP,y.over=O$,y.overArgs=LP,y.overEvery=P$,y.overSome=M$,y.partial=Pg,y.partialRight=SE,y.partition=yP,y.pick=UM,y.pickBy=bE,y.property=FE,y.propertyOf=$$,y.pull=vO,y.pullAll=hE,y.pullAllBy=yO,y.pullAllWith=_O,y.pullAt=wO,y.range=U$,y.rangeRight=F$,y.rearg=OP,y.reject=EP,y.remove=EO,y.rest=PP,y.reverse=bg,y.sampleSize=TP,y.set=zM,y.setWith=BM,y.shuffle=IP,y.slice=SO,y.sortBy=CP,y.sortedUniq=RO,y.sortedUniqBy=DO,y.split=c$,y.spread=MP,y.tail=NO,y.take=bO,y.takeRight=LO,y.takeRightWhile=OO,y.takeWhile=PO,y.tap=YO,y.throttle=$P,y.thru=hh,y.toArray=CE,y.toPairs=LE,y.toPairsIn=OE,y.toPath=W$,y.toPlainObject=RE,y.transform=VM,y.unary=UP,y.union=MO,y.unionBy=$O,y.unionWith=UO,y.uniq=FO,y.uniqBy=zO,y.uniqWith=BO,y.unset=HM,y.unzip=Lg,y.unzipWith=fE,y.update=WM,y.updateWith=jM,y.values=No,y.valuesIn=qM,y.without=VO,y.words=$E,y.wrap=FP,y.xor=HO,y.xorBy=WO,y.xorWith=jO,y.zip=qO,y.zipObject=KO,y.zipObjectDeep=GO,y.zipWith=QO,y.entries=LE,y.entriesIn=OE,y.extend=DE,y.extendWith=yh,Hg(y,y),y.add=q$,y.attempt=UE,y.camelCase=YM,y.capitalize=PE,y.ceil=K$,y.clamp=KM,y.clone=BP,y.cloneDeep=HP,y.cloneDeepWith=WP,y.cloneWith=VP,y.conformsTo=jP,y.deburr=ME,y.defaultTo=x$,y.divide=G$,y.endsWith=XM,y.eq=ir,y.escape=ZM,y.escapeRegExp=JM,y.every=oP,y.find=lP,y.findIndex=aE,y.findKey=EM,y.findLast=uP,y.findLastIndex=lE,y.findLastKey=SM,y.floor=Q$,y.forEach=pE,y.forEachRight=gE,y.forIn=TM,y.forInRight=IM,y.forOwn=xM,y.forOwnRight=kM,y.get=Ug,y.gt=qP,y.gte=KP,y.has=RM,y.hasIn=Fg,y.head=cE,y.identity=hn,y.includes=pP,y.indexOf=uO,y.inRange=GM,y.invoke=bM,y.isArguments=xs,y.isArray=ge,y.isArrayBuffer=GP,y.isArrayLike=un,y.isArrayLikeObject=rt,y.isBoolean=QP,y.isBuffer=Ci,y.isDate=YP,y.isElement=XP,y.isEmpty=ZP,y.isEqual=JP,y.isEqualWith=eM,y.isError=Mg,y.isFinite=tM,y.isFunction=jr,y.isInteger=TE,y.isLength=mh,y.isMap=IE,y.isMatch=nM,y.isMatchWith=rM,y.isNaN=iM,y.isNative=sM,y.isNil=aM,y.isNull=oM,y.isNumber=xE,y.isObject=Ye,y.isObjectLike=et,y.isPlainObject=pl,y.isRegExp=$g,y.isSafeInteger=lM,y.isSet=kE,y.isString=vh,y.isSymbol=Sn,y.isTypedArray=Do,y.isUndefined=uM,y.isWeakMap=cM,y.isWeakSet=hM,y.join=pO,y.kebabCase=e$,y.last=Vn,y.lastIndexOf=gO,y.lowerCase=t$,y.lowerFirst=n$,y.lt=fM,y.lte=dM,y.max=Y$,y.maxBy=X$,y.mean=Z$,y.meanBy=J$,y.min=eU,y.minBy=tU,y.stubArray=jg,y.stubFalse=qg,y.stubObject=z$,y.stubString=B$,y.stubTrue=V$,y.multiply=nU,y.nth=mO,y.noConflict=b$,y.noop=Wg,y.now=dh,y.pad=r$,y.padEnd=i$,y.padStart=s$,y.parseInt=o$,y.random=QM,y.reduce=_P,y.reduceRight=wP,y.repeat=a$,y.replace=l$,y.result=FM,y.round=rU,y.runInContext=R,y.sample=SP,y.size=xP,y.snakeCase=u$,y.some=kP,y.sortedIndex=TO,y.sortedIndexBy=IO,y.sortedIndexOf=xO,y.sortedLastIndex=kO,y.sortedLastIndexBy=CO,y.sortedLastIndexOf=AO,y.startCase=h$,y.startsWith=f$,y.subtract=iU,y.sum=sU,y.sumBy=oU,y.template=d$,y.times=H$,y.toFinite=qr,y.toInteger=me,y.toLength=AE,y.toLower=p$,y.toNumber=Hn,y.toSafeInteger=pM,y.toString=Ne,y.toUpper=g$,y.trim=m$,y.trimEnd=v$,y.trimStart=y$,y.truncate=_$,y.unescape=w$,y.uniqueId=j$,y.upperCase=E$,y.upperFirst=zg,y.each=pE,y.eachRight=gE,y.first=cE,Hg(y,function(){var o={};return vr(y,function(a,c){Oe.call(y.prototype,c)||(o[c]=a)}),o}(),{chain:!1}),y.VERSION=r,$n(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){y[o].placeholder=y}),$n(["drop","take"],function(o,a){we.prototype[o]=function(c){c=c===n?1:ft(me(c),0);var d=this.__filtered__&&!a?new we(this):this.clone();return d.__filtered__?d.__takeCount__=$t(c,d.__takeCount__):d.__views__.push({size:$t(c,Ce),type:o+(d.__dir__<0?"Right":"")}),d},we.prototype[o+"Right"]=function(c){return this.reverse()[o](c).reverse()}}),$n(["filter","map","takeWhile"],function(o,a){var c=a+1,d=c==gr||c==qa;we.prototype[o]=function(g){var _=this.clone();return _.__iteratees__.push({iteratee:re(g,3),type:c}),_.__filtered__=_.__filtered__||d,_}}),$n(["head","last"],function(o,a){var c="take"+(a?"Right":"");we.prototype[o]=function(){return this[c](1).value()[0]}}),$n(["initial","tail"],function(o,a){var c="drop"+(a?"":"Right");we.prototype[o]=function(){return this.__filtered__?new we(this):this[c](1)}}),we.prototype.compact=function(){return this.filter(hn)},we.prototype.find=function(o){return this.filter(o).head()},we.prototype.findLast=function(o){return this.reverse().find(o)},we.prototype.invokeMap=ye(function(o,a){return typeof o=="function"?new we(this):this.map(function(c){return ll(c,o,a)})}),we.prototype.reject=function(o){return this.filter(gh(re(o)))},we.prototype.slice=function(o,a){o=me(o);var c=this;return c.__filtered__&&(o>0||a<0)?new we(c):(o<0?c=c.takeRight(-o):o&&(c=c.drop(o)),a!==n&&(a=me(a),c=a<0?c.dropRight(-a):c.take(a-o)),c)},we.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},we.prototype.toArray=function(){return this.take(Ce)},vr(we.prototype,function(o,a){var c=/^(?:filter|find|map|reject)|While$/.test(a),d=/^(?:head|last)$/.test(a),g=y[d?"take"+(a=="last"?"Right":""):a],_=d||/^find/.test(a);!g||(y.prototype[a]=function(){var T=this.__wrapped__,k=d?[1]:arguments,D=T instanceof we,$=k[0],U=D||ge(T),z=function(_e){var Te=g.apply(y,wi([_e],k));return d&&K?Te[0]:Te};U&&c&&typeof $=="function"&&$.length!=1&&(D=U=!1);var K=this.__chain__,J=!!this.__actions__.length,ie=_&&!K,ve=D&&!J;if(!_&&U){T=ve?T:new we(this);var se=o.apply(T,k);return se.__actions__.push({func:hh,args:[z],thisArg:n}),new Fn(se,K)}return ie&&ve?o.apply(this,k):(se=this.thru(z),ie?d?se.value()[0]:se.value():se)})}),$n(["pop","push","shift","sort","splice","unshift"],function(o){var a=$c[o],c=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",d=/^(?:pop|shift)$/.test(o);y.prototype[o]=function(){var g=arguments;if(d&&!this.__chain__){var _=this.value();return a.apply(ge(_)?_:[],g)}return this[c](function(T){return a.apply(ge(T)?T:[],g)})}}),vr(we.prototype,function(o,a){var c=y[a];if(c){var d=c.name+"";Oe.call(xo,d)||(xo[d]=[]),xo[d].push({name:a,func:c})}}),xo[ih(n,S).name]=[{name:"wrapper",func:n}],we.prototype.clone=w2,we.prototype.reverse=E2,we.prototype.value=S2,y.prototype.at=XO,y.prototype.chain=ZO,y.prototype.commit=JO,y.prototype.next=eP,y.prototype.plant=nP,y.prototype.reverse=rP,y.prototype.toJSON=y.prototype.valueOf=y.prototype.value=iP,y.prototype.first=y.prototype.head,tl&&(y.prototype[tl]=tP),y},So=Jb();vs?((vs.exports=So)._=So,Vp._=So):At._=So}).call(gl)})(kv,kv.exports);function dW(){const[t,e]=F.exports.useState([]),n=async function(r){if(r.target.value.length===0||!r.target.checkValidity()){e([]);return}const i=r.target.value,s=i.slice(0,i.length-1)+String.fromCharCode(i.charCodeAt(i.length-1)+1),l=Ou(bu(qe,"usernames"),rI(nI(),">=",i),rI(nI(),"<",s),Pu(10)),u=await K_(l),h=[];u.forEach(f=>{h.push(Me("li",{children:[" ",Me(Hf,{to:"/users/"+f.data().uid,children:[" ",f.id," "]})," "]},f.id))}),e(h)};return Me("div",{className:"SearchBar",children:[Z("input",{type:"text",pattern:"[A-Za-z0-9_]+",placeholder:"Find a user",onChange:kv.exports.debounce(r=>n(r),500)}),Me("ul",{children:[" ",t," "]})]})}function pW(){const[t,e,n]=Tc(ns),[r,i]=F.exports.useState(!1),[s,l]=F.exports.useState(!1),u=RC(),h=Ju(),f=new Jr,p=v=>{v.preventDefault(),yH(ns,f).then(async w=>{const x=await o5(Ht(qe,"users",w.user.uid));x.exists()?localStorage.setItem("username",x.data().username):l(!0)}).catch(w=>{i(!0),setTimeout(()=>{i(!1)},5e3)})};function m(){if(h.pathname!=="/register"){if(t)return Me("div",{className:"auth-buttons",children:[Z("button",{onClick:v=>{G5(ns),localStorage.removeItem("username")},children:"Sign Out "}),Z("button",{onClick:v=>{u("/users/"+t.uid)},children:"Profile "})]});if(!n)return Z("div",{className:"auth-buttons",children:Z("button",{onClick:p,children:" Sign In "})})}}return Me("div",{className:"Header",children:[Z("div",{className:"logo",children:Me("h1",{children:[" ",Z(Hf,{to:"/",children:" Pixel "})," "]})}),Z(dW,{}),m(),s&&Z(UD,{setPopup:l})]})}var Zo=function(){return Zo=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Zo.apply(this,arguments)},FD=function(t){return{loading:t==null,value:t}},gW=function(){return function(t,e){switch(e.type){case"error":return Zo(Zo({},t),{error:e.error,loading:!1,value:void 0});case"reset":return FD(e.defaultValue);case"value":return Zo(Zo({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},mW=function(t){var e=t?t():void 0,n=F.exports.useReducer(gW(),FD(e)),r=n[0],i=n[1],s=F.exports.useCallback(function(){var h=t?t():void 0;i({type:"reset",defaultValue:h})},[t]),l=F.exports.useCallback(function(h){i({type:"error",error:h})},[]),u=F.exports.useCallback(function(h){i({type:"value",value:h})},[]);return F.exports.useMemo(function(){return{error:r.error,loading:r.loading,reset:s,setError:l,setValue:u,value:r.value}},[r.error,r.loading,s,l,u,r.value])},vW=function(t,e,n){var r=F.exports.useRef(t);return F.exports.useEffect(function(){e(t,r.current)||(r.current=t,n&&n())}),r},yW=function(t,e){var n=!t&&!e,r=!!t&&!!e&&F8(t,e);return n||r},_W=function(t,e){return vW(t,yW,e)},Sp=function(t,e){var n=mW(),r=n.error,i=n.loading,s=n.reset,l=n.setError,u=n.setValue,h=n.value,f=_W(t,s);return F.exports.useEffect(function(){if(!f.current){u(void 0);return}var p=e!=null&&e.snapshotListenOptions?hd(f.current,e.snapshotListenOptions,u,l):hd(f.current,u,l);return function(){p()}},[f.current]),[h,i,r]};class wW{constructor(e){this.canvasDimension=e}fillCell(e,n,r,i,s="#000000",l=1){e.fillStyle=s,e.fillRect(r*n,i*n,n*l,n*l)}convertToCellUnits(e,n){return{x:Math.ceil(n.x/e),y:Math.ceil(n.y/e)}}convertToGridUnits(e,n){return{x:Math.ceil(n.x*e),y:Math.ceil(n.y*e)}}importCanvas(e,n,r){for(let i=0,s=0;i<this.canvasDimension&&s<r.length;i++)for(let l=0;l<this.canvasDimension&&s<r.length;l++,s+=4)this.fillCell(n,e,l,i,`rgba(${r[s]}, ${r[s+1]}, ${r[s+2]}, ${r[s+3]})`)}}const EW=4,II=0,xI=1,SW=2;function Ha(t){let e=t.length;for(;--e>=0;)t[e]=0}const TW=0,zD=1,IW=2,xW=3,kW=258,r1=29,Ic=256,Fu=Ic+1+r1,ca=30,i1=19,BD=2*Fu+1,Ms=15,$m=16,CW=7,s1=256,VD=16,HD=17,WD=18,Cv=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),vf=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),AW=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),jD=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),RW=512,Xr=new Array((Fu+2)*2);Ha(Xr);const Yl=new Array(ca*2);Ha(Yl);const zu=new Array(RW);Ha(zu);const Bu=new Array(kW-xW+1);Ha(Bu);const o1=new Array(r1);Ha(o1);const md=new Array(ca);Ha(md);function Um(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}let qD,KD,GD;function Fm(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}const QD=t=>t<256?zu[t]:zu[256+(t>>>7)],Vu=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},pn=(t,e,n)=>{t.bi_valid>$m-n?(t.bi_buf|=e<<t.bi_valid&65535,Vu(t,t.bi_buf),t.bi_buf=e>>$m-t.bi_valid,t.bi_valid+=n-$m):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},xr=(t,e,n)=>{pn(t,n[e*2],n[e*2+1])},YD=(t,e)=>{let n=0;do n|=t&1,t>>>=1,n<<=1;while(--e>0);return n>>>1},DW=t=>{t.bi_valid===16?(Vu(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},NW=(t,e)=>{const n=e.dyn_tree,r=e.max_code,i=e.stat_desc.static_tree,s=e.stat_desc.has_stree,l=e.stat_desc.extra_bits,u=e.stat_desc.extra_base,h=e.stat_desc.max_length;let f,p,m,v,w,x,A=0;for(v=0;v<=Ms;v++)t.bl_count[v]=0;for(n[t.heap[t.heap_max]*2+1]=0,f=t.heap_max+1;f<BD;f++)p=t.heap[f],v=n[n[p*2+1]*2+1]+1,v>h&&(v=h,A++),n[p*2+1]=v,!(p>r)&&(t.bl_count[v]++,w=0,p>=u&&(w=l[p-u]),x=n[p*2],t.opt_len+=x*(v+w),s&&(t.static_len+=x*(i[p*2+1]+w)));if(A!==0){do{for(v=h-1;t.bl_count[v]===0;)v--;t.bl_count[v]--,t.bl_count[v+1]+=2,t.bl_count[h]--,A-=2}while(A>0);for(v=h;v!==0;v--)for(p=t.bl_count[v];p!==0;)m=t.heap[--f],!(m>r)&&(n[m*2+1]!==v&&(t.opt_len+=(v-n[m*2+1])*n[m*2],n[m*2+1]=v),p--)}},XD=(t,e,n)=>{const r=new Array(Ms+1);let i=0,s,l;for(s=1;s<=Ms;s++)i=i+n[s-1]<<1,r[s]=i;for(l=0;l<=e;l++){let u=t[l*2+1];u!==0&&(t[l*2]=YD(r[u]++,u))}},bW=()=>{let t,e,n,r,i;const s=new Array(Ms+1);for(n=0,r=0;r<r1-1;r++)for(o1[r]=n,t=0;t<1<<Cv[r];t++)Bu[n++]=r;for(Bu[n-1]=r,i=0,r=0;r<16;r++)for(md[r]=i,t=0;t<1<<vf[r];t++)zu[i++]=r;for(i>>=7;r<ca;r++)for(md[r]=i<<7,t=0;t<1<<vf[r]-7;t++)zu[256+i++]=r;for(e=0;e<=Ms;e++)s[e]=0;for(t=0;t<=143;)Xr[t*2+1]=8,t++,s[8]++;for(;t<=255;)Xr[t*2+1]=9,t++,s[9]++;for(;t<=279;)Xr[t*2+1]=7,t++,s[7]++;for(;t<=287;)Xr[t*2+1]=8,t++,s[8]++;for(XD(Xr,Fu+1,s),t=0;t<ca;t++)Yl[t*2+1]=5,Yl[t*2]=YD(t,5);qD=new Um(Xr,Cv,Ic+1,Fu,Ms),KD=new Um(Yl,vf,0,ca,Ms),GD=new Um(new Array(0),AW,0,i1,CW)},ZD=t=>{let e;for(e=0;e<Fu;e++)t.dyn_ltree[e*2]=0;for(e=0;e<ca;e++)t.dyn_dtree[e*2]=0;for(e=0;e<i1;e++)t.bl_tree[e*2]=0;t.dyn_ltree[s1*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},JD=t=>{t.bi_valid>8?Vu(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},kI=(t,e,n,r)=>{const i=e*2,s=n*2;return t[i]<t[s]||t[i]===t[s]&&r[e]<=r[n]},zm=(t,e,n)=>{const r=t.heap[n];let i=n<<1;for(;i<=t.heap_len&&(i<t.heap_len&&kI(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!kI(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r},CI=(t,e,n)=>{let r,i,s=0,l,u;if(t.sym_next!==0)do r=t.pending_buf[t.sym_buf+s++]&255,r+=(t.pending_buf[t.sym_buf+s++]&255)<<8,i=t.pending_buf[t.sym_buf+s++],r===0?xr(t,i,e):(l=Bu[i],xr(t,l+Ic+1,e),u=Cv[l],u!==0&&(i-=o1[l],pn(t,i,u)),r--,l=QD(r),xr(t,l,n),u=vf[l],u!==0&&(r-=md[l],pn(t,r,u)));while(s<t.sym_next);xr(t,s1,e)},Av=(t,e)=>{const n=e.dyn_tree,r=e.stat_desc.static_tree,i=e.stat_desc.has_stree,s=e.stat_desc.elems;let l,u,h=-1,f;for(t.heap_len=0,t.heap_max=BD,l=0;l<s;l++)n[l*2]!==0?(t.heap[++t.heap_len]=h=l,t.depth[l]=0):n[l*2+1]=0;for(;t.heap_len<2;)f=t.heap[++t.heap_len]=h<2?++h:0,n[f*2]=1,t.depth[f]=0,t.opt_len--,i&&(t.static_len-=r[f*2+1]);for(e.max_code=h,l=t.heap_len>>1;l>=1;l--)zm(t,n,l);f=s;do l=t.heap[1],t.heap[1]=t.heap[t.heap_len--],zm(t,n,1),u=t.heap[1],t.heap[--t.heap_max]=l,t.heap[--t.heap_max]=u,n[f*2]=n[l*2]+n[u*2],t.depth[f]=(t.depth[l]>=t.depth[u]?t.depth[l]:t.depth[u])+1,n[l*2+1]=n[u*2+1]=f,t.heap[1]=f++,zm(t,n,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],NW(t,e),XD(n,h,t.bl_count)},AI=(t,e,n)=>{let r,i=-1,s,l=e[0*2+1],u=0,h=7,f=4;for(l===0&&(h=138,f=3),e[(n+1)*2+1]=65535,r=0;r<=n;r++)s=l,l=e[(r+1)*2+1],!(++u<h&&s===l)&&(u<f?t.bl_tree[s*2]+=u:s!==0?(s!==i&&t.bl_tree[s*2]++,t.bl_tree[VD*2]++):u<=10?t.bl_tree[HD*2]++:t.bl_tree[WD*2]++,u=0,i=s,l===0?(h=138,f=3):s===l?(h=6,f=3):(h=7,f=4))},RI=(t,e,n)=>{let r,i=-1,s,l=e[0*2+1],u=0,h=7,f=4;for(l===0&&(h=138,f=3),r=0;r<=n;r++)if(s=l,l=e[(r+1)*2+1],!(++u<h&&s===l)){if(u<f)do xr(t,s,t.bl_tree);while(--u!==0);else s!==0?(s!==i&&(xr(t,s,t.bl_tree),u--),xr(t,VD,t.bl_tree),pn(t,u-3,2)):u<=10?(xr(t,HD,t.bl_tree),pn(t,u-3,3)):(xr(t,WD,t.bl_tree),pn(t,u-11,7));u=0,i=s,l===0?(h=138,f=3):s===l?(h=6,f=3):(h=7,f=4)}},LW=t=>{let e;for(AI(t,t.dyn_ltree,t.l_desc.max_code),AI(t,t.dyn_dtree,t.d_desc.max_code),Av(t,t.bl_desc),e=i1-1;e>=3&&t.bl_tree[jD[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},OW=(t,e,n,r)=>{let i;for(pn(t,e-257,5),pn(t,n-1,5),pn(t,r-4,4),i=0;i<r;i++)pn(t,t.bl_tree[jD[i]*2+1],3);RI(t,t.dyn_ltree,e-1),RI(t,t.dyn_dtree,n-1)},PW=t=>{let e=4093624447,n;for(n=0;n<=31;n++,e>>>=1)if(e&1&&t.dyn_ltree[n*2]!==0)return II;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return xI;for(n=32;n<Ic;n++)if(t.dyn_ltree[n*2]!==0)return xI;return II};let DI=!1;const MW=t=>{DI||(bW(),DI=!0),t.l_desc=new Fm(t.dyn_ltree,qD),t.d_desc=new Fm(t.dyn_dtree,KD),t.bl_desc=new Fm(t.bl_tree,GD),t.bi_buf=0,t.bi_valid=0,ZD(t)},eN=(t,e,n,r)=>{pn(t,(TW<<1)+(r?1:0),3),JD(t),Vu(t,n),Vu(t,~n),n&&t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n},$W=t=>{pn(t,zD<<1,3),xr(t,s1,Xr),DW(t)},UW=(t,e,n,r)=>{let i,s,l=0;t.level>0?(t.strm.data_type===SW&&(t.strm.data_type=PW(t)),Av(t,t.l_desc),Av(t,t.d_desc),l=LW(t),i=t.opt_len+3+7>>>3,s=t.static_len+3+7>>>3,s<=i&&(i=s)):i=s=n+5,n+4<=i&&e!==-1?eN(t,e,n,r):t.strategy===EW||s===i?(pn(t,(zD<<1)+(r?1:0),3),CI(t,Xr,Yl)):(pn(t,(IW<<1)+(r?1:0),3),OW(t,t.l_desc.max_code+1,t.d_desc.max_code+1,l+1),CI(t,t.dyn_ltree,t.dyn_dtree)),ZD(t),r&&JD(t)},FW=(t,e,n)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=n,e===0?t.dyn_ltree[n*2]++:(t.matches++,e--,t.dyn_ltree[(Bu[n]+Ic+1)*2]++,t.dyn_dtree[QD(e)*2]++),t.sym_next===t.sym_end);var zW=MW,BW=eN,VW=UW,HW=FW,WW=$W,jW={_tr_init:zW,_tr_stored_block:BW,_tr_flush_block:VW,_tr_tally:HW,_tr_align:WW};const qW=(t,e,n,r)=>{let i=t&65535|0,s=t>>>16&65535|0,l=0;for(;n!==0;){l=n>2e3?2e3:n,n-=l;do i=i+e[r++]|0,s=s+i|0;while(--l);i%=65521,s%=65521}return i|s<<16|0};var Hu=qW;const KW=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},GW=new Uint32Array(KW()),QW=(t,e,n,r)=>{const i=GW,s=r+n;t^=-1;for(let l=r;l<s;l++)t=t>>>8^i[(t^e[l])&255];return t^-1};var Et=QW,no={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},fo={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:YW,_tr_stored_block:Rv,_tr_flush_block:XW,_tr_tally:rs,_tr_align:ZW}=jW,{Z_NO_FLUSH:is,Z_PARTIAL_FLUSH:JW,Z_FULL_FLUSH:ej,Z_FINISH:qn,Z_BLOCK:NI,Z_OK:Nt,Z_STREAM_END:bI,Z_STREAM_ERROR:br,Z_DATA_ERROR:tj,Z_BUF_ERROR:Bm,Z_DEFAULT_COMPRESSION:nj,Z_FILTERED:rj,Z_HUFFMAN_ONLY:Hh,Z_RLE:ij,Z_FIXED:sj,Z_DEFAULT_STRATEGY:oj,Z_UNKNOWN:aj,Z_DEFLATED:Tp}=fo,lj=9,uj=15,cj=8,hj=29,fj=256,Dv=fj+1+hj,dj=30,pj=19,gj=2*Dv+1,mj=15,Ie=3,Hi=258,Lr=Hi+Ie+1,vj=32,Ra=42,a1=57,Nv=69,bv=73,Lv=91,Ov=103,$s=113,Ll=666,rn=1,Wa=2,ro=3,ja=4,yj=3,Us=(t,e)=>(t.msg=no[e],e),LI=t=>t*2-(t>4?9:0),Ui=t=>{let e=t.length;for(;--e>=0;)t[e]=0},_j=t=>{let e,n,r,i=t.w_size;e=t.hash_size,r=e;do n=t.head[--r],t.head[r]=n>=i?n-i:0;while(--e);e=i,r=e;do n=t.prev[--r],t.prev[r]=n>=i?n-i:0;while(--e)};let wj=(t,e,n)=>(e<<t.hash_shift^n)&t.hash_mask,ss=wj;const xn=t=>{const e=t.state;let n=e.pending;n>t.avail_out&&(n=t.avail_out),n!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,e.pending===0&&(e.pending_out=0))},An=(t,e)=>{XW(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,xn(t.strm)},Re=(t,e)=>{t.pending_buf[t.pending++]=e},xl=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},Pv=(t,e,n,r)=>{let i=t.avail_in;return i>r&&(i=r),i===0?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),n),t.state.wrap===1?t.adler=Hu(t.adler,e,i,n):t.state.wrap===2&&(t.adler=Et(t.adler,e,i,n)),t.next_in+=i,t.total_in+=i,i)},tN=(t,e)=>{let n=t.max_chain_length,r=t.strstart,i,s,l=t.prev_length,u=t.nice_match;const h=t.strstart>t.w_size-Lr?t.strstart-(t.w_size-Lr):0,f=t.window,p=t.w_mask,m=t.prev,v=t.strstart+Hi;let w=f[r+l-1],x=f[r+l];t.prev_length>=t.good_match&&(n>>=2),u>t.lookahead&&(u=t.lookahead);do if(i=e,!(f[i+l]!==x||f[i+l-1]!==w||f[i]!==f[r]||f[++i]!==f[r+1])){r+=2,i++;do;while(f[++r]===f[++i]&&f[++r]===f[++i]&&f[++r]===f[++i]&&f[++r]===f[++i]&&f[++r]===f[++i]&&f[++r]===f[++i]&&f[++r]===f[++i]&&f[++r]===f[++i]&&r<v);if(s=Hi-(v-r),r=v-Hi,s>l){if(t.match_start=e,l=s,s>=u)break;w=f[r+l-1],x=f[r+l]}}while((e=m[e&p])>h&&--n!==0);return l<=t.lookahead?l:t.lookahead},Da=t=>{const e=t.w_size;let n,r,i;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-Lr)&&(t.window.set(t.window.subarray(e,e+e-r),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),_j(t),r+=e),t.strm.avail_in===0)break;if(n=Pv(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=n,t.lookahead+t.insert>=Ie)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=ss(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=ss(t,t.ins_h,t.window[i+Ie-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<Ie)););}while(t.lookahead<Lr&&t.strm.avail_in!==0)},nN=(t,e)=>{let n=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,r,i,s,l=0,u=t.strm.avail_in;do{if(r=65535,s=t.bi_valid+42>>3,t.strm.avail_out<s||(s=t.strm.avail_out-s,i=t.strstart-t.block_start,r>i+t.strm.avail_in&&(r=i+t.strm.avail_in),r>s&&(r=s),r<n&&(r===0&&e!==qn||e===is||r!==i+t.strm.avail_in)))break;l=e===qn&&r===i+t.strm.avail_in?1:0,Rv(t,0,0,l),t.pending_buf[t.pending-4]=r,t.pending_buf[t.pending-3]=r>>8,t.pending_buf[t.pending-2]=~r,t.pending_buf[t.pending-1]=~r>>8,xn(t.strm),i&&(i>r&&(i=r),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+i),t.strm.next_out),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i,t.block_start+=i,r-=i),r&&(Pv(t.strm,t.strm.output,t.strm.next_out,r),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r)}while(l===0);return u-=t.strm.avail_in,u&&(u>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=u&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-u,t.strm.next_in),t.strstart),t.strstart+=u,t.insert+=u>t.w_size-t.insert?t.w_size-t.insert:u),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),l?ja:e!==is&&e!==qn&&t.strm.avail_in===0&&t.strstart===t.block_start?Wa:(s=t.window_size-t.strstart,t.strm.avail_in>s&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,s+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),s>t.strm.avail_in&&(s=t.strm.avail_in),s&&(Pv(t.strm,t.window,t.strstart,s),t.strstart+=s,t.insert+=s>t.w_size-t.insert?t.w_size-t.insert:s),t.high_water<t.strstart&&(t.high_water=t.strstart),s=t.bi_valid+42>>3,s=t.pending_buf_size-s>65535?65535:t.pending_buf_size-s,n=s>t.w_size?t.w_size:s,i=t.strstart-t.block_start,(i>=n||(i||e===qn)&&e!==is&&t.strm.avail_in===0&&i<=s)&&(r=i>s?s:i,l=e===qn&&t.strm.avail_in===0&&r===i?1:0,Rv(t,t.block_start,r,l),t.block_start+=r,xn(t.strm)),l?ro:rn)},Vm=(t,e)=>{let n,r;for(;;){if(t.lookahead<Lr){if(Da(t),t.lookahead<Lr&&e===is)return rn;if(t.lookahead===0)break}if(n=0,t.lookahead>=Ie&&(t.ins_h=ss(t,t.ins_h,t.window[t.strstart+Ie-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),n!==0&&t.strstart-n<=t.w_size-Lr&&(t.match_length=tN(t,n)),t.match_length>=Ie)if(r=rs(t,t.strstart-t.match_start,t.match_length-Ie),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=Ie){t.match_length--;do t.strstart++,t.ins_h=ss(t,t.ins_h,t.window[t.strstart+Ie-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=ss(t,t.ins_h,t.window[t.strstart+1]);else r=rs(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(An(t,!1),t.strm.avail_out===0))return rn}return t.insert=t.strstart<Ie-1?t.strstart:Ie-1,e===qn?(An(t,!0),t.strm.avail_out===0?ro:ja):t.sym_next&&(An(t,!1),t.strm.avail_out===0)?rn:Wa},Lo=(t,e)=>{let n,r,i;for(;;){if(t.lookahead<Lr){if(Da(t),t.lookahead<Lr&&e===is)return rn;if(t.lookahead===0)break}if(n=0,t.lookahead>=Ie&&(t.ins_h=ss(t,t.ins_h,t.window[t.strstart+Ie-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=Ie-1,n!==0&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-Lr&&(t.match_length=tN(t,n),t.match_length<=5&&(t.strategy===rj||t.match_length===Ie&&t.strstart-t.match_start>4096)&&(t.match_length=Ie-1)),t.prev_length>=Ie&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-Ie,r=rs(t,t.strstart-1-t.prev_match,t.prev_length-Ie),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=ss(t,t.ins_h,t.window[t.strstart+Ie-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=Ie-1,t.strstart++,r&&(An(t,!1),t.strm.avail_out===0))return rn}else if(t.match_available){if(r=rs(t,0,t.window[t.strstart-1]),r&&An(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return rn}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=rs(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<Ie-1?t.strstart:Ie-1,e===qn?(An(t,!0),t.strm.avail_out===0?ro:ja):t.sym_next&&(An(t,!1),t.strm.avail_out===0)?rn:Wa},Ej=(t,e)=>{let n,r,i,s;const l=t.window;for(;;){if(t.lookahead<=Hi){if(Da(t),t.lookahead<=Hi&&e===is)return rn;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=Ie&&t.strstart>0&&(i=t.strstart-1,r=l[i],r===l[++i]&&r===l[++i]&&r===l[++i])){s=t.strstart+Hi;do;while(r===l[++i]&&r===l[++i]&&r===l[++i]&&r===l[++i]&&r===l[++i]&&r===l[++i]&&r===l[++i]&&r===l[++i]&&i<s);t.match_length=Hi-(s-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=Ie?(n=rs(t,1,t.match_length-Ie),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=rs(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(An(t,!1),t.strm.avail_out===0))return rn}return t.insert=0,e===qn?(An(t,!0),t.strm.avail_out===0?ro:ja):t.sym_next&&(An(t,!1),t.strm.avail_out===0)?rn:Wa},Sj=(t,e)=>{let n;for(;;){if(t.lookahead===0&&(Da(t),t.lookahead===0)){if(e===is)return rn;break}if(t.match_length=0,n=rs(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(An(t,!1),t.strm.avail_out===0))return rn}return t.insert=0,e===qn?(An(t,!0),t.strm.avail_out===0?ro:ja):t.sym_next&&(An(t,!1),t.strm.avail_out===0)?rn:Wa};function Er(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}const Ol=[new Er(0,0,0,0,nN),new Er(4,4,8,4,Vm),new Er(4,5,16,8,Vm),new Er(4,6,32,32,Vm),new Er(4,4,16,16,Lo),new Er(8,16,32,32,Lo),new Er(8,16,128,128,Lo),new Er(8,32,128,256,Lo),new Er(32,128,258,1024,Lo),new Er(32,258,258,4096,Lo)],Tj=t=>{t.window_size=2*t.w_size,Ui(t.head),t.max_lazy_match=Ol[t.level].max_lazy,t.good_match=Ol[t.level].good_length,t.nice_match=Ol[t.level].nice_length,t.max_chain_length=Ol[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=Ie-1,t.match_available=0,t.ins_h=0};function Ij(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Tp,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(gj*2),this.dyn_dtree=new Uint16Array((2*dj+1)*2),this.bl_tree=new Uint16Array((2*pj+1)*2),Ui(this.dyn_ltree),Ui(this.dyn_dtree),Ui(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(mj+1),this.heap=new Uint16Array(2*Dv+1),Ui(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Dv+1),Ui(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const xc=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==Ra&&e.status!==a1&&e.status!==Nv&&e.status!==bv&&e.status!==Lv&&e.status!==Ov&&e.status!==$s&&e.status!==Ll?1:0},rN=t=>{if(xc(t))return Us(t,br);t.total_in=t.total_out=0,t.data_type=aj;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?a1:e.wrap?Ra:$s,t.adler=e.wrap===2?0:1,e.last_flush=-2,YW(e),Nt},iN=t=>{const e=rN(t);return e===Nt&&Tj(t.state),e},xj=(t,e)=>xc(t)||t.state.wrap!==2?br:(t.state.gzhead=e,Nt),sN=(t,e,n,r,i,s)=>{if(!t)return br;let l=1;if(e===nj&&(e=6),r<0?(l=0,r=-r):r>15&&(l=2,r-=16),i<1||i>lj||n!==Tp||r<8||r>15||e<0||e>9||s<0||s>sj||r===8&&l!==1)return Us(t,br);r===8&&(r=9);const u=new Ij;return t.state=u,u.strm=t,u.status=Ra,u.wrap=l,u.gzhead=null,u.w_bits=r,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=i+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+Ie-1)/Ie),u.window=new Uint8Array(u.w_size*2),u.head=new Uint16Array(u.hash_size),u.prev=new Uint16Array(u.w_size),u.lit_bufsize=1<<i+6,u.pending_buf_size=u.lit_bufsize*4,u.pending_buf=new Uint8Array(u.pending_buf_size),u.sym_buf=u.lit_bufsize,u.sym_end=(u.lit_bufsize-1)*3,u.level=e,u.strategy=s,u.method=n,iN(t)},kj=(t,e)=>sN(t,e,Tp,uj,cj,oj),Cj=(t,e)=>{if(xc(t)||e>NI||e<0)return t?Us(t,br):br;const n=t.state;if(!t.output||t.avail_in!==0&&!t.input||n.status===Ll&&e!==qn)return Us(t,t.avail_out===0?Bm:br);const r=n.last_flush;if(n.last_flush=e,n.pending!==0){if(xn(t),t.avail_out===0)return n.last_flush=-1,Nt}else if(t.avail_in===0&&LI(e)<=LI(r)&&e!==qn)return Us(t,Bm);if(n.status===Ll&&t.avail_in!==0)return Us(t,Bm);if(n.status===Ra&&n.wrap===0&&(n.status=$s),n.status===Ra){let i=Tp+(n.w_bits-8<<4)<<8,s=-1;if(n.strategy>=Hh||n.level<2?s=0:n.level<6?s=1:n.level===6?s=2:s=3,i|=s<<6,n.strstart!==0&&(i|=vj),i+=31-i%31,xl(n,i),n.strstart!==0&&(xl(n,t.adler>>>16),xl(n,t.adler&65535)),t.adler=1,n.status=$s,xn(t),n.pending!==0)return n.last_flush=-1,Nt}if(n.status===a1){if(t.adler=0,Re(n,31),Re(n,139),Re(n,8),n.gzhead)Re(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Re(n,n.gzhead.time&255),Re(n,n.gzhead.time>>8&255),Re(n,n.gzhead.time>>16&255),Re(n,n.gzhead.time>>24&255),Re(n,n.level===9?2:n.strategy>=Hh||n.level<2?4:0),Re(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(Re(n,n.gzhead.extra.length&255),Re(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=Et(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=Nv;else if(Re(n,0),Re(n,0),Re(n,0),Re(n,0),Re(n,0),Re(n,n.level===9?2:n.strategy>=Hh||n.level<2?4:0),Re(n,yj),n.status=$s,xn(t),n.pending!==0)return n.last_flush=-1,Nt}if(n.status===Nv){if(n.gzhead.extra){let i=n.pending,s=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+s>n.pending_buf_size;){let u=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+u),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>i&&(t.adler=Et(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex+=u,xn(t),n.pending!==0)return n.last_flush=-1,Nt;i=0,s-=u}let l=new Uint8Array(n.gzhead.extra);n.pending_buf.set(l.subarray(n.gzindex,n.gzindex+s),n.pending),n.pending+=s,n.gzhead.hcrc&&n.pending>i&&(t.adler=Et(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=bv}if(n.status===bv){if(n.gzhead.name){let i=n.pending,s;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(t.adler=Et(t.adler,n.pending_buf,n.pending-i,i)),xn(t),n.pending!==0)return n.last_flush=-1,Nt;i=0}n.gzindex<n.gzhead.name.length?s=n.gzhead.name.charCodeAt(n.gzindex++)&255:s=0,Re(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=Et(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=Lv}if(n.status===Lv){if(n.gzhead.comment){let i=n.pending,s;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(t.adler=Et(t.adler,n.pending_buf,n.pending-i,i)),xn(t),n.pending!==0)return n.last_flush=-1,Nt;i=0}n.gzindex<n.gzhead.comment.length?s=n.gzhead.comment.charCodeAt(n.gzindex++)&255:s=0,Re(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=Et(t.adler,n.pending_buf,n.pending-i,i))}n.status=Ov}if(n.status===Ov){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(xn(t),n.pending!==0))return n.last_flush=-1,Nt;Re(n,t.adler&255),Re(n,t.adler>>8&255),t.adler=0}if(n.status=$s,xn(t),n.pending!==0)return n.last_flush=-1,Nt}if(t.avail_in!==0||n.lookahead!==0||e!==is&&n.status!==Ll){let i=n.level===0?nN(n,e):n.strategy===Hh?Sj(n,e):n.strategy===ij?Ej(n,e):Ol[n.level].func(n,e);if((i===ro||i===ja)&&(n.status=Ll),i===rn||i===ro)return t.avail_out===0&&(n.last_flush=-1),Nt;if(i===Wa&&(e===JW?ZW(n):e!==NI&&(Rv(n,0,0,!1),e===ej&&(Ui(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),xn(t),t.avail_out===0))return n.last_flush=-1,Nt}return e!==qn?Nt:n.wrap<=0?bI:(n.wrap===2?(Re(n,t.adler&255),Re(n,t.adler>>8&255),Re(n,t.adler>>16&255),Re(n,t.adler>>24&255),Re(n,t.total_in&255),Re(n,t.total_in>>8&255),Re(n,t.total_in>>16&255),Re(n,t.total_in>>24&255)):(xl(n,t.adler>>>16),xl(n,t.adler&65535)),xn(t),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?Nt:bI)},Aj=t=>{if(xc(t))return br;const e=t.state.status;return t.state=null,e===$s?Us(t,tj):Nt},Rj=(t,e)=>{let n=e.length;if(xc(t))return br;const r=t.state,i=r.wrap;if(i===2||i===1&&r.status!==Ra||r.lookahead)return br;if(i===1&&(t.adler=Hu(t.adler,e,n,0)),r.wrap=0,n>=r.w_size){i===0&&(Ui(r.head),r.strstart=0,r.block_start=0,r.insert=0);let h=new Uint8Array(r.w_size);h.set(e.subarray(n-r.w_size,n),0),e=h,n=r.w_size}const s=t.avail_in,l=t.next_in,u=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,Da(r);r.lookahead>=Ie;){let h=r.strstart,f=r.lookahead-(Ie-1);do r.ins_h=ss(r,r.ins_h,r.window[h+Ie-1]),r.prev[h&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=h,h++;while(--f);r.strstart=h,r.lookahead=Ie-1,Da(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=Ie-1,r.match_available=0,t.next_in=l,t.input=u,t.avail_in=s,r.wrap=i,Nt};var Dj=kj,Nj=sN,bj=iN,Lj=rN,Oj=xj,Pj=Cj,Mj=Aj,$j=Rj,Uj="pako deflate (from Nodeca project)",Xl={deflateInit:Dj,deflateInit2:Nj,deflateReset:bj,deflateResetKeep:Lj,deflateSetHeader:Oj,deflate:Pj,deflateEnd:Mj,deflateSetDictionary:$j,deflateInfo:Uj};const Fj=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var zj=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(!!n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)Fj(n,r)&&(t[r]=n[r])}}return t},Bj=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,s=t.length;r<s;r++){let l=t[r];n.set(l,i),i+=l.length}return n},Ip={assign:zj,flattenChunks:Bj};let oN=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{oN=!1}const Wu=new Uint8Array(256);for(let t=0;t<256;t++)Wu[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Wu[254]=Wu[254]=1;var Vj=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,s,l=t.length,u=0;for(i=0;i<l;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<l&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),u+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(u),s=0,i=0;s<u;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<l&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|n&63):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|n&63):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|n&63);return e};const Hj=(t,e)=>{if(e<65534&&t.subarray&&oN)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var Wj=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const s=new Array(n*2);for(i=0,r=0;r<n;){let l=t[r++];if(l<128){s[i++]=l;continue}let u=Wu[l];if(u>4){s[i++]=65533,r+=u-1;continue}for(l&=u===2?31:u===3?15:7;u>1&&r<n;)l=l<<6|t[r++]&63,u--;if(u>1){s[i++]=65533;continue}l<65536?s[i++]=l:(l-=65536,s[i++]=55296|l>>10&1023,s[i++]=56320|l&1023)}return Hj(s,i)},jj=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+Wu[t[n]]>e?n:e},ju={string2buf:Vj,buf2string:Wj,utf8border:jj};function qj(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var aN=qj;const lN=Object.prototype.toString,{Z_NO_FLUSH:Kj,Z_SYNC_FLUSH:Gj,Z_FULL_FLUSH:Qj,Z_FINISH:Yj,Z_OK:vd,Z_STREAM_END:Xj,Z_DEFAULT_COMPRESSION:Zj,Z_DEFAULT_STRATEGY:Jj,Z_DEFLATED:eq}=fo;function kc(t){this.options=Ip.assign({level:Zj,method:eq,chunkSize:16384,windowBits:15,memLevel:8,strategy:Jj},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new aN,this.strm.avail_out=0;let n=Xl.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==vd)throw new Error(no[n]);if(e.header&&Xl.deflateSetHeader(this.strm,e.header),e.dictionary){let r;if(typeof e.dictionary=="string"?r=ju.string2buf(e.dictionary):lN.call(e.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(e.dictionary):r=e.dictionary,n=Xl.deflateSetDictionary(this.strm,r),n!==vd)throw new Error(no[n]);this._dict_set=!0}}kc.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize;let i,s;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?Yj:Kj,typeof t=="string"?n.input=ju.string2buf(t):lN.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(s===Gj||s===Qj)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(i=Xl.deflate(n,s),i===Xj)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=Xl.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===vd;if(n.avail_out===0){this.onData(n.output);continue}if(s>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};kc.prototype.onData=function(t){this.chunks.push(t)};kc.prototype.onEnd=function(t){t===vd&&(this.result=Ip.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function l1(t,e){const n=new kc(e);if(n.push(t,!0),n.err)throw n.msg||no[n.err];return n.result}function tq(t,e){return e=e||{},e.raw=!0,l1(t,e)}function nq(t,e){return e=e||{},e.gzip=!0,l1(t,e)}var rq=kc,iq=l1,sq=tq,oq=nq,aq=fo,lq={Deflate:rq,deflate:iq,deflateRaw:sq,gzip:oq,constants:aq};const Wh=16209,uq=16191;var cq=function(e,n){let r,i,s,l,u,h,f,p,m,v,w,x,A,b,S,E,I,C,P,V,L,W,X,j;const ae=e.state;r=e.next_in,X=e.input,i=r+(e.avail_in-5),s=e.next_out,j=e.output,l=s-(n-e.avail_out),u=s+(e.avail_out-257),h=ae.dmax,f=ae.wsize,p=ae.whave,m=ae.wnext,v=ae.window,w=ae.hold,x=ae.bits,A=ae.lencode,b=ae.distcode,S=(1<<ae.lenbits)-1,E=(1<<ae.distbits)-1;e:do{x<15&&(w+=X[r++]<<x,x+=8,w+=X[r++]<<x,x+=8),I=A[w&S];t:for(;;){if(C=I>>>24,w>>>=C,x-=C,C=I>>>16&255,C===0)j[s++]=I&65535;else if(C&16){P=I&65535,C&=15,C&&(x<C&&(w+=X[r++]<<x,x+=8),P+=w&(1<<C)-1,w>>>=C,x-=C),x<15&&(w+=X[r++]<<x,x+=8,w+=X[r++]<<x,x+=8),I=b[w&E];n:for(;;){if(C=I>>>24,w>>>=C,x-=C,C=I>>>16&255,C&16){if(V=I&65535,C&=15,x<C&&(w+=X[r++]<<x,x+=8,x<C&&(w+=X[r++]<<x,x+=8)),V+=w&(1<<C)-1,V>h){e.msg="invalid distance too far back",ae.mode=Wh;break e}if(w>>>=C,x-=C,C=s-l,V>C){if(C=V-C,C>p&&ae.sane){e.msg="invalid distance too far back",ae.mode=Wh;break e}if(L=0,W=v,m===0){if(L+=f-C,C<P){P-=C;do j[s++]=v[L++];while(--C);L=s-V,W=j}}else if(m<C){if(L+=f+m-C,C-=m,C<P){P-=C;do j[s++]=v[L++];while(--C);if(L=0,m<P){C=m,P-=C;do j[s++]=v[L++];while(--C);L=s-V,W=j}}}else if(L+=m-C,C<P){P-=C;do j[s++]=v[L++];while(--C);L=s-V,W=j}for(;P>2;)j[s++]=W[L++],j[s++]=W[L++],j[s++]=W[L++],P-=3;P&&(j[s++]=W[L++],P>1&&(j[s++]=W[L++]))}else{L=s-V;do j[s++]=j[L++],j[s++]=j[L++],j[s++]=j[L++],P-=3;while(P>2);P&&(j[s++]=j[L++],P>1&&(j[s++]=j[L++]))}}else if(C&64){e.msg="invalid distance code",ae.mode=Wh;break e}else{I=b[(I&65535)+(w&(1<<C)-1)];continue n}break}}else if(C&64)if(C&32){ae.mode=uq;break e}else{e.msg="invalid literal/length code",ae.mode=Wh;break e}else{I=A[(I&65535)+(w&(1<<C)-1)];continue t}break}}while(r<i&&s<u);P=x>>3,r-=P,x-=P<<3,w&=(1<<x)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=s<u?257+(u-s):257-(s-u),ae.hold=w,ae.bits=x};const Oo=15,OI=852,PI=592,MI=0,Hm=1,$I=2,hq=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),fq=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dq=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),pq=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),gq=(t,e,n,r,i,s,l,u)=>{const h=u.bits;let f=0,p=0,m=0,v=0,w=0,x=0,A=0,b=0,S=0,E=0,I,C,P,V,L,W=null,X;const j=new Uint16Array(Oo+1),ae=new Uint16Array(Oo+1);let Yt=null,pr,gr,yi;for(f=0;f<=Oo;f++)j[f]=0;for(p=0;p<r;p++)j[e[n+p]]++;for(w=h,v=Oo;v>=1&&j[v]===0;v--);if(w>v&&(w=v),v===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,u.bits=1,0;for(m=1;m<v&&j[m]===0;m++);for(w<m&&(w=m),b=1,f=1;f<=Oo;f++)if(b<<=1,b-=j[f],b<0)return-1;if(b>0&&(t===MI||v!==1))return-1;for(ae[1]=0,f=1;f<Oo;f++)ae[f+1]=ae[f]+j[f];for(p=0;p<r;p++)e[n+p]!==0&&(l[ae[e[n+p]]++]=p);if(t===MI?(W=Yt=l,X=20):t===Hm?(W=hq,Yt=fq,X=257):(W=dq,Yt=pq,X=0),E=0,p=0,f=m,L=s,x=w,A=0,P=-1,S=1<<w,V=S-1,t===Hm&&S>OI||t===$I&&S>PI)return 1;for(;;){pr=f-A,l[p]+1<X?(gr=0,yi=l[p]):l[p]>=X?(gr=Yt[l[p]-X],yi=W[l[p]-X]):(gr=32+64,yi=0),I=1<<f-A,C=1<<x,m=C;do C-=I,i[L+(E>>A)+C]=pr<<24|gr<<16|yi|0;while(C!==0);for(I=1<<f-1;E&I;)I>>=1;if(I!==0?(E&=I-1,E+=I):E=0,p++,--j[f]===0){if(f===v)break;f=e[n+l[p]]}if(f>w&&(E&V)!==P){for(A===0&&(A=w),L+=m,x=f-A,b=1<<x;x+A<v&&(b-=j[x+A],!(b<=0));)x++,b<<=1;if(S+=1<<x,t===Hm&&S>OI||t===$I&&S>PI)return 1;P=E&V,i[P]=w<<24|x<<16|L-s|0}}return E!==0&&(i[L+E]=f-A<<24|64<<16|0),u.bits=w,0};var Zl=gq;const mq=0,uN=1,cN=2,{Z_FINISH:UI,Z_BLOCK:vq,Z_TREES:jh,Z_OK:io,Z_STREAM_END:yq,Z_NEED_DICT:_q,Z_STREAM_ERROR:Zn,Z_DATA_ERROR:hN,Z_MEM_ERROR:fN,Z_BUF_ERROR:wq,Z_DEFLATED:FI}=fo,xp=16180,zI=16181,BI=16182,VI=16183,HI=16184,WI=16185,jI=16186,qI=16187,KI=16188,GI=16189,yd=16190,Gr=16191,Wm=16192,QI=16193,jm=16194,YI=16195,XI=16196,ZI=16197,JI=16198,qh=16199,Kh=16200,ex=16201,tx=16202,nx=16203,rx=16204,ix=16205,qm=16206,sx=16207,ox=16208,je=16209,dN=16210,pN=16211,Eq=852,Sq=592,Tq=15,Iq=Tq,ax=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function xq(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const po=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<xp||e.mode>pN?1:0},gN=t=>{if(po(t))return Zn;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=xp,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Eq),e.distcode=e.distdyn=new Int32Array(Sq),e.sane=1,e.back=-1,io},mN=t=>{if(po(t))return Zn;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,gN(t)},vN=(t,e)=>{let n;if(po(t))return Zn;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Zn:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,mN(t))},yN=(t,e)=>{if(!t)return Zn;const n=new xq;t.state=n,n.strm=t,n.window=null,n.mode=xp;const r=vN(t,e);return r!==io&&(t.state=null),r},kq=t=>yN(t,Iq);let lx=!0,Km,Gm;const Cq=t=>{if(lx){Km=new Int32Array(512),Gm=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Zl(uN,t.lens,0,288,Km,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Zl(cN,t.lens,0,32,Gm,0,t.work,{bits:5}),lx=!1}t.lencode=Km,t.lenbits=9,t.distcode=Gm,t.distbits=5},_N=(t,e,n,r)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(n-r,n-r+i),s.wnext),r-=i,r?(s.window.set(e.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},Aq=(t,e)=>{let n,r,i,s,l,u,h,f,p,m,v,w,x,A,b=0,S,E,I,C,P,V,L,W;const X=new Uint8Array(4);let j,ae;const Yt=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(po(t)||!t.output||!t.input&&t.avail_in!==0)return Zn;n=t.state,n.mode===Gr&&(n.mode=Wm),l=t.next_out,i=t.output,h=t.avail_out,s=t.next_in,r=t.input,u=t.avail_in,f=n.hold,p=n.bits,m=u,v=h,W=io;e:for(;;)switch(n.mode){case xp:if(n.wrap===0){n.mode=Wm;break}for(;p<16;){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}if(n.wrap&2&&f===35615){n.wbits===0&&(n.wbits=15),n.check=0,X[0]=f&255,X[1]=f>>>8&255,n.check=Et(n.check,X,2,0),f=0,p=0,n.mode=zI;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((f&255)<<8)+(f>>8))%31){t.msg="incorrect header check",n.mode=je;break}if((f&15)!==FI){t.msg="unknown compression method",n.mode=je;break}if(f>>>=4,p-=4,L=(f&15)+8,n.wbits===0&&(n.wbits=L),L>15||L>n.wbits){t.msg="invalid window size",n.mode=je;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=f&512?GI:Gr,f=0,p=0;break;case zI:for(;p<16;){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}if(n.flags=f,(n.flags&255)!==FI){t.msg="unknown compression method",n.mode=je;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=je;break}n.head&&(n.head.text=f>>8&1),n.flags&512&&n.wrap&4&&(X[0]=f&255,X[1]=f>>>8&255,n.check=Et(n.check,X,2,0)),f=0,p=0,n.mode=BI;case BI:for(;p<32;){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}n.head&&(n.head.time=f),n.flags&512&&n.wrap&4&&(X[0]=f&255,X[1]=f>>>8&255,X[2]=f>>>16&255,X[3]=f>>>24&255,n.check=Et(n.check,X,4,0)),f=0,p=0,n.mode=VI;case VI:for(;p<16;){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}n.head&&(n.head.xflags=f&255,n.head.os=f>>8),n.flags&512&&n.wrap&4&&(X[0]=f&255,X[1]=f>>>8&255,n.check=Et(n.check,X,2,0)),f=0,p=0,n.mode=HI;case HI:if(n.flags&1024){for(;p<16;){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}n.length=f,n.head&&(n.head.extra_len=f),n.flags&512&&n.wrap&4&&(X[0]=f&255,X[1]=f>>>8&255,n.check=Et(n.check,X,2,0)),f=0,p=0}else n.head&&(n.head.extra=null);n.mode=WI;case WI:if(n.flags&1024&&(w=n.length,w>u&&(w=u),w&&(n.head&&(L=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+w),L)),n.flags&512&&n.wrap&4&&(n.check=Et(n.check,r,w,s)),u-=w,s+=w,n.length-=w),n.length))break e;n.length=0,n.mode=jI;case jI:if(n.flags&2048){if(u===0)break e;w=0;do L=r[s+w++],n.head&&L&&n.length<65536&&(n.head.name+=String.fromCharCode(L));while(L&&w<u);if(n.flags&512&&n.wrap&4&&(n.check=Et(n.check,r,w,s)),u-=w,s+=w,L)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=qI;case qI:if(n.flags&4096){if(u===0)break e;w=0;do L=r[s+w++],n.head&&L&&n.length<65536&&(n.head.comment+=String.fromCharCode(L));while(L&&w<u);if(n.flags&512&&n.wrap&4&&(n.check=Et(n.check,r,w,s)),u-=w,s+=w,L)break e}else n.head&&(n.head.comment=null);n.mode=KI;case KI:if(n.flags&512){for(;p<16;){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}if(n.wrap&4&&f!==(n.check&65535)){t.msg="header crc mismatch",n.mode=je;break}f=0,p=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Gr;break;case GI:for(;p<32;){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}t.adler=n.check=ax(f),f=0,p=0,n.mode=yd;case yd:if(n.havedict===0)return t.next_out=l,t.avail_out=h,t.next_in=s,t.avail_in=u,n.hold=f,n.bits=p,_q;t.adler=n.check=1,n.mode=Gr;case Gr:if(e===vq||e===jh)break e;case Wm:if(n.last){f>>>=p&7,p-=p&7,n.mode=qm;break}for(;p<3;){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}switch(n.last=f&1,f>>>=1,p-=1,f&3){case 0:n.mode=QI;break;case 1:if(Cq(n),n.mode=qh,e===jh){f>>>=2,p-=2;break e}break;case 2:n.mode=XI;break;case 3:t.msg="invalid block type",n.mode=je}f>>>=2,p-=2;break;case QI:for(f>>>=p&7,p-=p&7;p<32;){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}if((f&65535)!==(f>>>16^65535)){t.msg="invalid stored block lengths",n.mode=je;break}if(n.length=f&65535,f=0,p=0,n.mode=jm,e===jh)break e;case jm:n.mode=YI;case YI:if(w=n.length,w){if(w>u&&(w=u),w>h&&(w=h),w===0)break e;i.set(r.subarray(s,s+w),l),u-=w,s+=w,h-=w,l+=w,n.length-=w;break}n.mode=Gr;break;case XI:for(;p<14;){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}if(n.nlen=(f&31)+257,f>>>=5,p-=5,n.ndist=(f&31)+1,f>>>=5,p-=5,n.ncode=(f&15)+4,f>>>=4,p-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=je;break}n.have=0,n.mode=ZI;case ZI:for(;n.have<n.ncode;){for(;p<3;){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}n.lens[Yt[n.have++]]=f&7,f>>>=3,p-=3}for(;n.have<19;)n.lens[Yt[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,j={bits:n.lenbits},W=Zl(mq,n.lens,0,19,n.lencode,0,n.work,j),n.lenbits=j.bits,W){t.msg="invalid code lengths set",n.mode=je;break}n.have=0,n.mode=JI;case JI:for(;n.have<n.nlen+n.ndist;){for(;b=n.lencode[f&(1<<n.lenbits)-1],S=b>>>24,E=b>>>16&255,I=b&65535,!(S<=p);){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}if(I<16)f>>>=S,p-=S,n.lens[n.have++]=I;else{if(I===16){for(ae=S+2;p<ae;){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}if(f>>>=S,p-=S,n.have===0){t.msg="invalid bit length repeat",n.mode=je;break}L=n.lens[n.have-1],w=3+(f&3),f>>>=2,p-=2}else if(I===17){for(ae=S+3;p<ae;){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}f>>>=S,p-=S,L=0,w=3+(f&7),f>>>=3,p-=3}else{for(ae=S+7;p<ae;){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}f>>>=S,p-=S,L=0,w=11+(f&127),f>>>=7,p-=7}if(n.have+w>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=je;break}for(;w--;)n.lens[n.have++]=L}}if(n.mode===je)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=je;break}if(n.lenbits=9,j={bits:n.lenbits},W=Zl(uN,n.lens,0,n.nlen,n.lencode,0,n.work,j),n.lenbits=j.bits,W){t.msg="invalid literal/lengths set",n.mode=je;break}if(n.distbits=6,n.distcode=n.distdyn,j={bits:n.distbits},W=Zl(cN,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,j),n.distbits=j.bits,W){t.msg="invalid distances set",n.mode=je;break}if(n.mode=qh,e===jh)break e;case qh:n.mode=Kh;case Kh:if(u>=6&&h>=258){t.next_out=l,t.avail_out=h,t.next_in=s,t.avail_in=u,n.hold=f,n.bits=p,cq(t,v),l=t.next_out,i=t.output,h=t.avail_out,s=t.next_in,r=t.input,u=t.avail_in,f=n.hold,p=n.bits,n.mode===Gr&&(n.back=-1);break}for(n.back=0;b=n.lencode[f&(1<<n.lenbits)-1],S=b>>>24,E=b>>>16&255,I=b&65535,!(S<=p);){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}if(E&&!(E&240)){for(C=S,P=E,V=I;b=n.lencode[V+((f&(1<<C+P)-1)>>C)],S=b>>>24,E=b>>>16&255,I=b&65535,!(C+S<=p);){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}f>>>=C,p-=C,n.back+=C}if(f>>>=S,p-=S,n.back+=S,n.length=I,E===0){n.mode=ix;break}if(E&32){n.back=-1,n.mode=Gr;break}if(E&64){t.msg="invalid literal/length code",n.mode=je;break}n.extra=E&15,n.mode=ex;case ex:if(n.extra){for(ae=n.extra;p<ae;){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}n.length+=f&(1<<n.extra)-1,f>>>=n.extra,p-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=tx;case tx:for(;b=n.distcode[f&(1<<n.distbits)-1],S=b>>>24,E=b>>>16&255,I=b&65535,!(S<=p);){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}if(!(E&240)){for(C=S,P=E,V=I;b=n.distcode[V+((f&(1<<C+P)-1)>>C)],S=b>>>24,E=b>>>16&255,I=b&65535,!(C+S<=p);){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}f>>>=C,p-=C,n.back+=C}if(f>>>=S,p-=S,n.back+=S,E&64){t.msg="invalid distance code",n.mode=je;break}n.offset=I,n.extra=E&15,n.mode=nx;case nx:if(n.extra){for(ae=n.extra;p<ae;){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}n.offset+=f&(1<<n.extra)-1,f>>>=n.extra,p-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=je;break}n.mode=rx;case rx:if(h===0)break e;if(w=v-h,n.offset>w){if(w=n.offset-w,w>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=je;break}w>n.wnext?(w-=n.wnext,x=n.wsize-w):x=n.wnext-w,w>n.length&&(w=n.length),A=n.window}else A=i,x=l-n.offset,w=n.length;w>h&&(w=h),h-=w,n.length-=w;do i[l++]=A[x++];while(--w);n.length===0&&(n.mode=Kh);break;case ix:if(h===0)break e;i[l++]=n.length,h--,n.mode=Kh;break;case qm:if(n.wrap){for(;p<32;){if(u===0)break e;u--,f|=r[s++]<<p,p+=8}if(v-=h,t.total_out+=v,n.total+=v,n.wrap&4&&v&&(t.adler=n.check=n.flags?Et(n.check,i,v,l-v):Hu(n.check,i,v,l-v)),v=h,n.wrap&4&&(n.flags?f:ax(f))!==n.check){t.msg="incorrect data check",n.mode=je;break}f=0,p=0}n.mode=sx;case sx:if(n.wrap&&n.flags){for(;p<32;){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}if(n.wrap&4&&f!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=je;break}f=0,p=0}n.mode=ox;case ox:W=yq;break e;case je:W=hN;break e;case dN:return fN;case pN:default:return Zn}return t.next_out=l,t.avail_out=h,t.next_in=s,t.avail_in=u,n.hold=f,n.bits=p,(n.wsize||v!==t.avail_out&&n.mode<je&&(n.mode<qm||e!==UI))&&_N(t,t.output,t.next_out,v-t.avail_out),m-=t.avail_in,v-=t.avail_out,t.total_in+=m,t.total_out+=v,n.total+=v,n.wrap&4&&v&&(t.adler=n.check=n.flags?Et(n.check,i,v,t.next_out-v):Hu(n.check,i,v,t.next_out-v)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Gr?128:0)+(n.mode===qh||n.mode===jm?256:0),(m===0&&v===0||e===UI)&&W===io&&(W=wq),W},Rq=t=>{if(po(t))return Zn;let e=t.state;return e.window&&(e.window=null),t.state=null,io},Dq=(t,e)=>{if(po(t))return Zn;const n=t.state;return n.wrap&2?(n.head=e,e.done=!1,io):Zn},Nq=(t,e)=>{const n=e.length;let r,i,s;return po(t)||(r=t.state,r.wrap!==0&&r.mode!==yd)?Zn:r.mode===yd&&(i=1,i=Hu(i,e,n,0),i!==r.check)?hN:(s=_N(t,e,n,n),s?(r.mode=dN,fN):(r.havedict=1,io))};var bq=mN,Lq=vN,Oq=gN,Pq=kq,Mq=yN,$q=Aq,Uq=Rq,Fq=Dq,zq=Nq,Bq="pako inflate (from Nodeca project)",Zr={inflateReset:bq,inflateReset2:Lq,inflateResetKeep:Oq,inflateInit:Pq,inflateInit2:Mq,inflate:$q,inflateEnd:Uq,inflateGetHeader:Fq,inflateSetDictionary:zq,inflateInfo:Bq};function Vq(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Hq=Vq;const wN=Object.prototype.toString,{Z_NO_FLUSH:Wq,Z_FINISH:jq,Z_OK:qu,Z_STREAM_END:Qm,Z_NEED_DICT:Ym,Z_STREAM_ERROR:qq,Z_DATA_ERROR:ux,Z_MEM_ERROR:Kq}=fo;function Cc(t){this.options=Ip.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new aN,this.strm.avail_out=0;let n=Zr.inflateInit2(this.strm,e.windowBits);if(n!==qu)throw new Error(no[n]);if(this.header=new Hq,Zr.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=ju.string2buf(e.dictionary):wN.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Zr.inflateSetDictionary(this.strm,e.dictionary),n!==qu)))throw new Error(no[n])}Cc.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,l,u;if(this.ended)return!1;for(e===~~e?l=e:l=e===!0?jq:Wq,wN.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=Zr.inflate(n,l),s===Ym&&i&&(s=Zr.inflateSetDictionary(n,i),s===qu?s=Zr.inflate(n,l):s===ux&&(s=Ym));n.avail_in>0&&s===Qm&&n.state.wrap>0&&t[n.next_in]!==0;)Zr.inflateReset(n),s=Zr.inflate(n,l);switch(s){case qq:case ux:case Ym:case Kq:return this.onEnd(s),this.ended=!0,!1}if(u=n.avail_out,n.next_out&&(n.avail_out===0||s===Qm))if(this.options.to==="string"){let h=ju.utf8border(n.output,n.next_out),f=n.next_out-h,p=ju.buf2string(n.output,h);n.next_out=f,n.avail_out=r-f,f&&n.output.set(n.output.subarray(h,h+f),0),this.onData(p)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===qu&&u===0)){if(s===Qm)return s=Zr.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Cc.prototype.onData=function(t){this.chunks.push(t)};Cc.prototype.onEnd=function(t){t===qu&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Ip.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function u1(t,e){const n=new Cc(e);if(n.push(t),n.err)throw n.msg||no[n.err];return n.result}function Gq(t,e){return e=e||{},e.raw=!0,u1(t,e)}var Qq=Cc,Yq=u1,Xq=Gq,Zq=u1,Jq=fo,e9={Inflate:Qq,inflate:Yq,inflateRaw:Xq,ungzip:Zq,constants:Jq};const{Deflate:t9,deflate:n9,deflateRaw:r9,gzip:i9}=lq,{Inflate:s9,inflate:o9,inflateRaw:a9,ungzip:l9}=e9;var u9=t9,c9=n9,h9=r9,f9=i9,d9=s9,p9=o9,g9=a9,m9=l9,v9=fo,Gh={Deflate:u9,deflate:c9,deflateRaw:h9,gzip:f9,Inflate:d9,inflate:p9,inflateRaw:g9,ungzip:m9,constants:v9};class _d extends Fi.Component{constructor(e){super(e),this.dimension=e.dimension||100,this.canvasHelper=new wW(this.dimension),this.canvasRef=Fi.createRef(),this.clicking=!1,this.prevPos={x:null,y:null},this.color="#000000",this.width=1,this.ctx=null,this.obsv=new ResizeObserver(n=>{n.forEach(r=>{if(this.cellLength=r.contentRect.width/this.dimension,this.ctx.canvas.width=r.contentRect.width,this.ctx.canvas.height=r.contentRect.height,console.log(this.ctx.canvas.width),console.log(this.ctx.canvas.height),console.log(this.cellLength),this.props.array)try{this.canvasHelper.importCanvas(this.cellLength,this.ctx,Gh.inflate(new Uint8ClampedArray(this.props.array)))}catch(i){console.log(i)}})})}componentDidMount(){if(this.ctx=this.canvasRef.current.getContext("2d",{willReadFrequently:!0}),this.cellLength=this.canvasRef.current.width/this.dimension,this.obsv.observe(this.canvasRef.current),this.props.array)try{this.canvasHelper.importCanvas(this.cellLength,this.ctx,Gh.inflate(new Uint8ClampedArray(this.props.array)))}catch(e){console.log(e)}}componentDidUpdate(e){if(this.props.array&&e.array!==this.props.array)try{this.canvasHelper.importCanvas(this.cellLength,this.ctx,Gh.inflate(new Uint8ClampedArray(this.props.array)))}catch(n){console.log(n)}}handleClick(e,n){if(e.button!==0&&!n)return;this.clicking=!0;let r=this.getMousePosition(e,n),i=this.canvasHelper.convertToCellUnits(this.cellLength,r);this.canvasHelper.fillCell(this.ctx,this.cellLength,i.x,i.y,this.color,this.width),this.prevPos={x:r.x,y:r.y}}handleMouseMove(e,n){if(!this.clicking)return;let r=this.getMousePosition(e,n),i=this.canvasHelper.convertToCellUnits(this.cellLength,r);if(this.prevPos.x===null){this.prevPos=r,this.canvasHelper.fillCell(this.ctx,this.cellLength,i.x,i.y,this.color,this.width);return}let s=this.canvasHelper.convertToCellUnits(this.cellLength,this.prevPos);this.prevPos=r;let l=i.x,u=i.y,h=s.x,f=s.y,p=l-h>=0,m=u-f>=0;for(;l!==h||u!==f;)this.canvasHelper.fillCell(this.ctx,this.cellLength,h,f,this.color,this.width),l!==h&&(p?h+=1:h-=1),u!==f&&(m?f+=1:f-=1);this.canvasHelper.fillCell(this.ctx,this.cellLength,i.x,i.y,this.color,this.width)}getMousePosition(e,n){const r=this.canvasRef.current.getBoundingClientRect();let i,s;n?(i=e.touches[0].clientX,s=e.touches[0].clientY):(i=e.clientX,s=e.clientY);let l=(i-r.left)/(r.right-r.left)*this.canvasRef.current.width,u=(s-r.top)/(r.bottom-r.top)*this.canvasRef.current.height;return{x:l,y:u}}exportCanvas(){let e=Array(4*this.dimension*this.dimension);for(let n=0,r=0;n<this.dimension&&r<e.length;n++)for(let i=0;i<this.dimension&&r<e.length;i++,r+=4){const s=this.canvasHelper.convertToGridUnits(this.cellLength,{x:i,y:n}),u=this.ctx.getImageData(s.x,s.y,1,1).data;e[r]=u[0],e[r+1]=u[1],e[r+2]=u[2],e[r+3]=u[3]}return Gh.deflate(new Uint8ClampedArray(e))}render(){return this.props.editable?Me("div",{className:"Canvas editable",children:[Z("canvas",{ref:this.canvasRef,style:{aspectRatio:"1 / 1"},onMouseDown:e=>this.handleClick(e,!1),onMouseUp:e=>{this.clicking=!1},onMouseLeave:e=>{this.clicking=!1,this.prevPos={x:null,y:null}},onMouseMove:e=>this.handleMouseMove(e,!1),onTouchMove:e=>this.handleMouseMove(e,!0),onTouchStart:e=>{this.handleClick(e,!0)},onTouchEnd:e=>{this.clicking=!1}}),Me("div",{className:"input-controls",children:[Me("div",{className:"input-pair",children:[Z("input",{type:"color",name:"color",id:"color",onChange:e=>{this.color=e.target.value}}),Z("h1",{children:"Color"})]}),Me("div",{className:"input-pair",children:[Z("input",{type:"range",name:"width",id:"width",min:"1",max:"5",defaultValue:"1",onChange:e=>{this.width=e.target.value}}),Z("h1",{children:"Width"})]}),Z("div",{className:"input-pair",children:Z("button",{type:"button",onClick:e=>this.ctx.clearRect(0,0,this.canvasRef.current.width,this.canvasRef.current.height),children:Z("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1920 1920",children:Z("path",{d:"M960 0v112.941c467.125 0 847.059 379.934 847.059 847.059 0 467.125-379.934 847.059-847.059 847.059-467.125 0-847.059-379.934-847.059-847.059 0-267.106 126.607-515.915 338.824-675.727v393.374h112.94V112.941H0v112.941h342.89C127.058 407.38 0 674.711 0 960c0 529.355 430.645 960 960 960s960-430.645 960-960S1489.355 0 960 0",fillRule:"evenodd"})})})})]})]}):Z("div",{className:"Canvas",children:Z("canvas",{ref:this.canvasRef,style:{aspectRatio:"1 / 1"}})})}}const EN=t=>{const[e,n]=F.exports.useState(),r=F.exports.useCallback(l=>{n(l)},[]),[i,s]=F.exports.useState(!1);return F.exports.useLayoutEffect(()=>{!e||s(e.scrollHeight>e.clientHeight)},[...t,e]),F.exports.useLayoutEffect(()=>{if(!e)return;const l=()=>{s(e.scrollHeight>e.clientHeight)};return window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[e]),[i,r,e]};function Mv(t){const[e,n,r]=Sp(Ht(qe,"users",t.user));if(t.data)return Me("div",{className:"Drawing",children:[n&&Z(Hf,{children:" Loading... "}),e&&e.exists()&&Me(Hf,{to:"/users/"+t.user,children:[" ",e.data().username," "]}),Z(_d,{dimension:"100",size:"500px",editable:!1,array:t.data})]})}var $v=function(t,e){return $v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},$v(t,e)};function y9(t,e){$v(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Jl=function(){return Jl=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Jl.apply(this,arguments)};function _9(t,e,n,r){var i,s=!1,l=0;function u(){i&&clearTimeout(i)}function h(){u(),s=!0}typeof e!="boolean"&&(r=n,n=e,e=void 0);function f(){var p=this,m=Date.now()-l,v=arguments;if(s)return;function w(){l=Date.now(),n.apply(p,v)}function x(){i=void 0}r&&!i&&w(),u(),r===void 0&&m>t?w():e!==!0&&(i=setTimeout(r?x:w,r===void 0?t-m:t))}return f.cancel=h,f}var ha={Pixel:"Pixel",Percent:"Percent"},cx={unit:ha.Percent,value:.8};function hx(t){return typeof t=="number"?{unit:ha.Percent,value:t*100}:typeof t=="string"?t.match(/^(\d*(\.\d+)?)px$/)?{unit:ha.Pixel,value:parseFloat(t)}:t.match(/^(\d*(\.\d+)?)%$/)?{unit:ha.Percent,value:parseFloat(t)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),cx):(console.warn("scrollThreshold should be string or number"),cx)}var SN=function(t){y9(e,t);function e(n){var r=t.call(this,n)||this;return r.lastScrollTop=0,r.actionTriggered=!1,r.startY=0,r.currentY=0,r.dragging=!1,r.maxPullDownDistance=0,r.getScrollableTarget=function(){return r.props.scrollableTarget instanceof HTMLElement?r.props.scrollableTarget:typeof r.props.scrollableTarget=="string"?document.getElementById(r.props.scrollableTarget):(r.props.scrollableTarget===null&&console.warn(`You are trying to pass scrollableTarget but it is null. This might
        happen because the element may not have been added to DOM yet.
        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.
      `),null)},r.onStart=function(i){r.lastScrollTop||(r.dragging=!0,i instanceof MouseEvent?r.startY=i.pageY:i instanceof TouchEvent&&(r.startY=i.touches[0].pageY),r.currentY=r.startY,r._infScroll&&(r._infScroll.style.willChange="transform",r._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},r.onMove=function(i){!r.dragging||(i instanceof MouseEvent?r.currentY=i.pageY:i instanceof TouchEvent&&(r.currentY=i.touches[0].pageY),!(r.currentY<r.startY)&&(r.currentY-r.startY>=Number(r.props.pullDownToRefreshThreshold)&&r.setState({pullToRefreshThresholdBreached:!0}),!(r.currentY-r.startY>r.maxPullDownDistance*1.5)&&r._infScroll&&(r._infScroll.style.overflow="visible",r._infScroll.style.transform="translate3d(0px, "+(r.currentY-r.startY)+"px, 0px)")))},r.onEnd=function(){r.startY=0,r.currentY=0,r.dragging=!1,r.state.pullToRefreshThresholdBreached&&(r.props.refreshFunction&&r.props.refreshFunction(),r.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){r._infScroll&&(r._infScroll.style.overflow="auto",r._infScroll.style.transform="none",r._infScroll.style.willChange="unset")})},r.onScrollListener=function(i){typeof r.props.onScroll=="function"&&setTimeout(function(){return r.props.onScroll&&r.props.onScroll(i)},0);var s=r.props.height||r._scrollableNode?i.target:document.documentElement.scrollTop?document.documentElement:document.body;if(!r.actionTriggered){var l=r.props.inverse?r.isElementAtTop(s,r.props.scrollThreshold):r.isElementAtBottom(s,r.props.scrollThreshold);l&&r.props.hasMore&&(r.actionTriggered=!0,r.setState({showLoader:!0}),r.props.next&&r.props.next()),r.lastScrollTop=s.scrollTop}},r.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:n.dataLength},r.throttledOnScrollListener=_9(150,r.onScrollListener).bind(r),r.onStart=r.onStart.bind(r),r.onMove=r.onMove.bind(r),r.onEnd=r.onEnd.bind(r),r}return e.prototype.componentDidMount=function(){if(typeof this.props.dataLength>"u")throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),typeof this.props.initialScrollY=="number"&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),typeof this.props.refreshFunction!="function"))throw new Error(`Mandatory prop "refreshFunction" missing.
          Pull Down To Refresh functionality will not work
          as expected. Check README.md for usage'`)},e.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},e.prototype.componentDidUpdate=function(n){this.props.dataLength!==n.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},e.getDerivedStateFromProps=function(n,r){var i=n.dataLength!==r.prevDataLength;return i?Jl(Jl({},r),{prevDataLength:n.dataLength}):null},e.prototype.isElementAtTop=function(n,r){r===void 0&&(r=.8);var i=n===document.body||n===document.documentElement?window.screen.availHeight:n.clientHeight,s=hx(r);return s.unit===ha.Pixel?n.scrollTop<=s.value+i-n.scrollHeight+1:n.scrollTop<=s.value/100+i-n.scrollHeight+1},e.prototype.isElementAtBottom=function(n,r){r===void 0&&(r=.8);var i=n===document.body||n===document.documentElement?window.screen.availHeight:n.clientHeight,s=hx(r);return s.unit===ha.Pixel?n.scrollTop+i>=n.scrollHeight-s.value:n.scrollTop+i>=s.value/100*n.scrollHeight},e.prototype.render=function(){var n=this,r=Jl({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),i=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),s=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return Fi.createElement("div",{style:s,className:"infinite-scroll-component__outerdiv"},Fi.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(l){return n._infScroll=l},style:r},this.props.pullDownToRefresh&&Fi.createElement("div",{style:{position:"relative"},ref:function(l){return n._pullDown=l}},Fi.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!i&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},e}(F.exports.Component);function w9(){const[t,e,n]=Sp(Ht(qe,"users",ua().currentUser.uid,"posts",new Date().toISOString().split("T")[0])),r=F.exports.useRef(null),i=async function(s){const l=iD(qe),u=Ht(qe,"users",ua().currentUser.uid,"posts",new Date().toISOString().split("T")[0]),h=Ht(qe,"users",ua().currentUser.uid);l.set(u,{data:Array.from(r.current.exportCanvas()),time:Mu()}),l.update(h,{timestamp:Mu()}),await l.commit()};if(t)return t.exists()?Me("div",{className:"Post",children:[Z(_d,{dimension:"100",size:"500px",editable:!0,ref:r,array:t.data().data}),Z("button",{onClick:s=>i(),children:" Update Today's Drawing "})]}):Me("div",{className:"Post",children:[Z(_d,{dimension:"100",size:"500px",editable:!0,ref:r}),Z("button",{onClick:s=>i(),children:" Post Today's Drawing "})]})}const Xm=1;function E9(t){const[e,n,r]=Tc(ns),[i,s,l]=Sp(Ht(qe,"users",t.user,"posts",new Date().toISOString().split("T")[0])),[u,h]=F.exports.useState(!1),[f,p]=F.exports.useState({}),[m,v]=F.exports.useState(!0),w=F.exports.useRef(null),[x,A,b]=EN([f]);F.exports.useEffect(()=>{!b||u||!x&&m&&S()},[u,x,m,b]),F.exports.useEffect(()=>{h(!1),p({}),v(!0),w.current=null},[t.user]);async function S(){h(!0);let I;w.current==null?I=Ou(bu(qe,"users",t.user,"posts"),cd("time","desc"),Pu(Xm)):I=Ou(bu(qe,"users",t.user,"posts"),cd("time","desc"),ZR(w.current),Pu(Xm));const C=await K_(I);C.docs.length<Xm&&v(!1),C.docs.forEach(P=>{P.id!=new Date().toISOString().split("T")[0]&&p(V=>({...V,[P.id]:{data:P.data().data,time:P.data().time}}))}),w.current=C.docs[C.docs.length-1],h(!1)}function E(){let I=[];for(const C in f)I.push(Z(Mv,{user:t.user,data:f[C].data},C));return I}return Z("div",{className:"UserDrawings",ref:A,style:{height:"100%"},children:Me(SN,{dataLength:Object.keys(f).length,next:S,hasMore:m,loader:Z("h1",{children:"Loading..."}),scrollableTarget:"UserDrawings",style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"5px",width:"100%"},children:[i&&i.exists()&&e&&e.uid!==t.user&&Z(Mv,{user:t.user,data:i.data().data}),i&&e&&e.uid===t.user&&Z(w9,{}),E()]})})}function S9(){let{userid:t}=_z();const[e,n,r]=Sp(Ht(qe,"users",t)),[i,s,l]=Tc(ns),[u,h]=F.exports.useState(!1),[f,p]=F.exports.useState(!1),m=F.exports.useRef(null);let v=null;F.exports.useEffect(()=>{i&&(v!==null&&v(),v=hd(Ht(qe,"users",i.uid,"following",t),A=>{A.exists()?h(!0):h(!1)}))},[i,t]);const w=async A=>{await h5(qe,async b=>{const S=Ht(qe,"users",i.uid,"following",t),E=Ht(qe,"users",t,"followers",i.uid),I=await b.get(S),C=await b.get(E);I.exists()&&C.exists()?(b.delete(S),b.delete(E)):(b.set(S,{time:Mu(),username:e.data().username}),b.set(E,{time:Mu(),username:localStorage.getItem("username")}))})};function x(){let A=i&&i.uid===t;return e.exists()?Me("div",{className:"profile-container"+(A&&" self-profile"||"")+(f&&" editable"||""),children:[Me("div",{className:"icon-container",children:[Me("h1",{children:[" ",e.data().username," "]}),Z(_d,{dimension:"50",size:"300px",editable:A&&f,array:e.data().avatar,ref:m}),A&&f&&Z("button",{onClick:b=>{oI(Ht(qe,"users",i.uid),{avatar:Array.from(m.current.exportCanvas())})},children:"Update Icon"}),A&&Z("button",{onClick:b=>p(!f),children:" Edit Profile "})]}),A&&Me("form",{className:"bio-container",onSubmit:b=>{b.preventDefault(),oI(Ht(qe,"users",i.uid),{bio:b.target.bio.value})},children:[Z("textarea",{className:"bio",name:"bio",id:"bio",cols:"30",rows:"10",defaultValue:e.data().bio}),Z("button",{type:"submit",children:" Edit Bio "})]}),!A&&Z("div",{className:"bio",children:Z("h1",{children:e.data().bio})}),!A&&i&&Me("button",{onClick:w,children:[" ",u&&"Unfollow"||"Follow"," "]})]}):Z("div",{className:"ProfileError",children:Z("h1",{children:" User does not exist! "})})}return Me("div",{className:"Profile",children:[(l||r)&&Z("h1",{children:" Something went wrong... "}),(s||n)&&Z("h1",{children:" Loading... "}),e&&x(),Z(E9,{user:t})]})}const Zm=1;function T9(t){const[e,n,r]=Tc(ns),[i,s]=F.exports.useState(!1),[l,u]=F.exports.useState({}),[h,f]=F.exports.useState(!0),p=F.exports.useRef(null),[m,v,w]=EN([l]),x=F.exports.useRef({});F.exports.useEffect(()=>()=>{if(ua().currentUser)for(const S in x.current)a5(Ht(qe,"users",ua().currentUser.uid,"following",S),{time:Mu()})},[]),F.exports.useEffect(()=>{!w||i||!m&&h&&A()},[i,m,h,w]),F.exports.useEffect(()=>{s(!1),u({}),f(!0),p.current=null},[e]),F.exports.useEffect(()=>{x.current=l},[l]);async function A(){s(!0);let S;p.current==null?S=Ou(bu(qe,"users",e.uid,"following"),cd("time","desc"),Pu(Zm)):S=Ou(bu(qe,"users",e.uid,"following"),cd("time","desc"),ZR(p.current),Pu(Zm));const E=await K_(S);E.docs.length<Zm&&f(!1),E.docs.forEach(I=>{hd(Ht(qe,"users",I.id,"posts",new Date().toISOString().split("T")[0]),C=>{C.exists()&&u(P=>({...P,[I.id]:{data:C.data().data,time:C.data().time}}))})}),p.current=E.docs[E.docs.length-1],s(!1)}function b(){let S=[];for(const E in l)S.push(Z(Mv,{user:E,data:l[E].data},E));return S}if(e)return Z("div",{className:"Timeline",ref:v,children:Z(SN,{dataLength:Object.keys(l).length,next:A,hasMore:h,loader:Z("h1",{children:"Loading..."}),scrollableTarget:"Timeline",style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"5px",width:"100%"},children:b()})})}function I9(){return Me(Lz,{children:[Z(pW,{}),Me(Az,{children:[Z(lf,{path:"/",element:Z(x9,{})}),Z(lf,{path:"/users/:userid",element:Z(S9,{})}),Z(lf,{path:"/register",element:Z(UD,{})})]})]})}function x9(){return Z("div",{className:"Main",children:Z(T9,{})})}e0.createRoot(document.getElementById("root")).render(Z(Fi.StrictMode,{children:Z(I9,{})}));
